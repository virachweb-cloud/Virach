var i2=t=>{throw TypeError(t)};var jS=(t,e,n)=>e.has(t)||i2("Cannot "+n);var Ne=(t,e,n)=>(jS(t,e,"read from private field"),n?n.call(t):e.get(t)),xn=(t,e,n)=>e.has(t)?i2("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),Ht=(t,e,n,r)=>(jS(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),Hr=(t,e,n)=>(jS(t,e,"access private method"),n);var cv=(t,e,n,r)=>({set _(i){Ht(t,e,i,n)},get _(){return Ne(t,e,r)}});function S6(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var uv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function mT(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var c3={exports:{}},s_={},u3={exports:{}},Jt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Im=Symbol.for("react.element"),b6=Symbol.for("react.portal"),M6=Symbol.for("react.fragment"),E6=Symbol.for("react.strict_mode"),T6=Symbol.for("react.profiler"),C6=Symbol.for("react.provider"),A6=Symbol.for("react.context"),P6=Symbol.for("react.forward_ref"),R6=Symbol.for("react.suspense"),I6=Symbol.for("react.memo"),N6=Symbol.for("react.lazy"),s2=Symbol.iterator;function L6(t){return t===null||typeof t!="object"?null:(t=s2&&t[s2]||t["@@iterator"],typeof t=="function"?t:null)}var d3={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},f3=Object.assign,h3={};function Of(t,e,n){this.props=t,this.context=e,this.refs=h3,this.updater=n||d3}Of.prototype.isReactComponent={};Of.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Of.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function p3(){}p3.prototype=Of.prototype;function gT(t,e,n){this.props=t,this.context=e,this.refs=h3,this.updater=n||d3}var vT=gT.prototype=new p3;vT.constructor=gT;f3(vT,Of.prototype);vT.isPureReactComponent=!0;var o2=Array.isArray,m3=Object.prototype.hasOwnProperty,yT={current:null},g3={key:!0,ref:!0,__self:!0,__source:!0};function v3(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)m3.call(e,r)&&!g3.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Im,type:t,key:s,ref:o,props:i,_owner:yT.current}}function D6(t,e){return{$$typeof:Im,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function xT(t){return typeof t=="object"&&t!==null&&t.$$typeof===Im}function k6(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var a2=/\/+/g;function HS(t,e){return typeof t=="object"&&t!==null&&t.key!=null?k6(""+t.key):e.toString(36)}function zy(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Im:case b6:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+HS(o,0):r,o2(i)?(n="",t!=null&&(n=t.replace(a2,"$&/")+"/"),zy(i,e,n,"",function(c){return c})):i!=null&&(xT(i)&&(i=D6(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(a2,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",o2(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+HS(s,a);o+=zy(s,e,n,l,i)}else if(l=L6(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+HS(s,a++),o+=zy(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function dv(t,e,n){if(t==null)return t;var r=[],i=0;return zy(t,r,"","",function(s){return e.call(n,s,i++)}),r}function O6(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var yi={current:null},Vy={transition:null},F6={ReactCurrentDispatcher:yi,ReactCurrentBatchConfig:Vy,ReactCurrentOwner:yT};function y3(){throw Error("act(...) is not supported in production builds of React.")}Jt.Children={map:dv,forEach:function(t,e,n){dv(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return dv(t,function(){e++}),e},toArray:function(t){return dv(t,function(e){return e})||[]},only:function(t){if(!xT(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Jt.Component=Of;Jt.Fragment=M6;Jt.Profiler=T6;Jt.PureComponent=gT;Jt.StrictMode=E6;Jt.Suspense=R6;Jt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=F6;Jt.act=y3;Jt.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=f3({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=yT.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)m3.call(e,l)&&!g3.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Im,type:t.type,key:i,ref:s,props:r,_owner:o}};Jt.createContext=function(t){return t={$$typeof:A6,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:C6,_context:t},t.Consumer=t};Jt.createElement=v3;Jt.createFactory=function(t){var e=v3.bind(null,t);return e.type=t,e};Jt.createRef=function(){return{current:null}};Jt.forwardRef=function(t){return{$$typeof:P6,render:t}};Jt.isValidElement=xT;Jt.lazy=function(t){return{$$typeof:N6,_payload:{_status:-1,_result:t},_init:O6}};Jt.memo=function(t,e){return{$$typeof:I6,type:t,compare:e===void 0?null:e}};Jt.startTransition=function(t){var e=Vy.transition;Vy.transition={};try{t()}finally{Vy.transition=e}};Jt.unstable_act=y3;Jt.useCallback=function(t,e){return yi.current.useCallback(t,e)};Jt.useContext=function(t){return yi.current.useContext(t)};Jt.useDebugValue=function(){};Jt.useDeferredValue=function(t){return yi.current.useDeferredValue(t)};Jt.useEffect=function(t,e){return yi.current.useEffect(t,e)};Jt.useId=function(){return yi.current.useId()};Jt.useImperativeHandle=function(t,e,n){return yi.current.useImperativeHandle(t,e,n)};Jt.useInsertionEffect=function(t,e){return yi.current.useInsertionEffect(t,e)};Jt.useLayoutEffect=function(t,e){return yi.current.useLayoutEffect(t,e)};Jt.useMemo=function(t,e){return yi.current.useMemo(t,e)};Jt.useReducer=function(t,e,n){return yi.current.useReducer(t,e,n)};Jt.useRef=function(t){return yi.current.useRef(t)};Jt.useState=function(t){return yi.current.useState(t)};Jt.useSyncExternalStore=function(t,e,n){return yi.current.useSyncExternalStore(t,e,n)};Jt.useTransition=function(){return yi.current.useTransition()};Jt.version="18.3.1";u3.exports=Jt;var P=u3.exports;const Le=mT(P),x3=S6({__proto__:null,default:Le},[P]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var U6=P,B6=Symbol.for("react.element"),z6=Symbol.for("react.fragment"),V6=Object.prototype.hasOwnProperty,j6=U6.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,H6={key:!0,ref:!0,__self:!0,__source:!0};function _3(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)V6.call(e,r)&&!H6.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:B6,type:t,key:s,ref:o,props:i,_owner:j6.current}}s_.Fragment=z6;s_.jsx=_3;s_.jsxs=_3;c3.exports=s_;var S=c3.exports,w3={exports:{}},ss={},S3={exports:{}},b3={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(k,W){var q=k.length;k.push(W);e:for(;0<q;){var ee=q-1>>>1,de=k[ee];if(0<i(de,W))k[ee]=W,k[q]=de,q=ee;else break e}}function n(k){return k.length===0?null:k[0]}function r(k){if(k.length===0)return null;var W=k[0],q=k.pop();if(q!==W){k[0]=q;e:for(var ee=0,de=k.length,Ae=de>>>1;ee<Ae;){var ae=2*(ee+1)-1,be=k[ae],Ee=ae+1,me=k[Ee];if(0>i(be,q))Ee<de&&0>i(me,be)?(k[ee]=me,k[Ee]=q,ee=Ee):(k[ee]=be,k[ae]=q,ee=ae);else if(Ee<de&&0>i(me,q))k[ee]=me,k[Ee]=q,ee=Ee;else break e}}return W}function i(k,W){var q=k.sortIndex-W.sortIndex;return q!==0?q:k.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],d=1,h=null,p=3,m=!1,v=!1,x=!1,y=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(k){for(var W=n(c);W!==null;){if(W.callback===null)r(c);else if(W.startTime<=k)r(c),W.sortIndex=W.expirationTime,e(l,W);else break;W=n(c)}}function E(k){if(x=!1,b(k),!v)if(n(l)!==null)v=!0,J(C);else{var W=n(c);W!==null&&re(E,W.startTime-k)}}function C(k,W){v=!1,x&&(x=!1,g(D),D=-1),m=!0;var q=p;try{for(b(W),h=n(l);h!==null&&(!(h.expirationTime>W)||k&&!F());){var ee=h.callback;if(typeof ee=="function"){h.callback=null,p=h.priorityLevel;var de=ee(h.expirationTime<=W);W=t.unstable_now(),typeof de=="function"?h.callback=de:h===n(l)&&r(l),b(W)}else r(l);h=n(l)}if(h!==null)var Ae=!0;else{var ae=n(c);ae!==null&&re(E,ae.startTime-W),Ae=!1}return Ae}finally{h=null,p=q,m=!1}}var A=!1,I=null,D=-1,N=5,R=-1;function F(){return!(t.unstable_now()-R<N)}function j(){if(I!==null){var k=t.unstable_now();R=k;var W=!0;try{W=I(!0,k)}finally{W?G():(A=!1,I=null)}}else A=!1}var G;if(typeof w=="function")G=function(){w(j)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,ne=$.port2;$.port1.onmessage=j,G=function(){ne.postMessage(null)}}else G=function(){y(j,0)};function J(k){I=k,A||(A=!0,G())}function re(k,W){D=y(function(){k(t.unstable_now())},W)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(k){k.callback=null},t.unstable_continueExecution=function(){v||m||(v=!0,J(C))},t.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<k?Math.floor(1e3/k):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(k){switch(p){case 1:case 2:case 3:var W=3;break;default:W=p}var q=p;p=W;try{return k()}finally{p=q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(k,W){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var q=p;p=k;try{return W()}finally{p=q}},t.unstable_scheduleCallback=function(k,W,q){var ee=t.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?ee+q:ee):q=ee,k){case 1:var de=-1;break;case 2:de=250;break;case 5:de=1073741823;break;case 4:de=1e4;break;default:de=5e3}return de=q+de,k={id:d++,callback:W,priorityLevel:k,startTime:q,expirationTime:de,sortIndex:-1},q>ee?(k.sortIndex=q,e(c,k),n(l)===null&&k===n(c)&&(x?(g(D),D=-1):x=!0,re(E,q-ee))):(k.sortIndex=de,e(l,k),v||m||(v=!0,J(C))),k},t.unstable_shouldYield=F,t.unstable_wrapCallback=function(k){var W=p;return function(){var q=p;p=W;try{return k.apply(this,arguments)}finally{p=q}}}})(b3);S3.exports=b3;var W6=S3.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var G6=P,ns=W6;function ze(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var M3=new Set,Ip={};function _u(t,e){ff(t,e),ff(t+"Capture",e)}function ff(t,e){for(Ip[t]=e,t=0;t<e.length;t++)M3.add(e[t])}var ya=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),eM=Object.prototype.hasOwnProperty,X6=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,l2={},c2={};function $6(t){return eM.call(c2,t)?!0:eM.call(l2,t)?!1:X6.test(t)?c2[t]=!0:(l2[t]=!0,!1)}function Y6(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function q6(t,e,n,r){if(e===null||typeof e>"u"||Y6(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function xi(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Or={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Or[t]=new xi(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Or[e]=new xi(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Or[t]=new xi(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Or[t]=new xi(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Or[t]=new xi(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Or[t]=new xi(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Or[t]=new xi(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Or[t]=new xi(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Or[t]=new xi(t,5,!1,t.toLowerCase(),null,!1,!1)});var _T=/[\-:]([a-z])/g;function wT(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(_T,wT);Or[e]=new xi(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(_T,wT);Or[e]=new xi(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(_T,wT);Or[e]=new xi(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Or[t]=new xi(t,1,!1,t.toLowerCase(),null,!1,!1)});Or.xlinkHref=new xi("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Or[t]=new xi(t,1,!1,t.toLowerCase(),null,!0,!0)});function ST(t,e,n,r){var i=Or.hasOwnProperty(e)?Or[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(q6(e,n,i,r)&&(n=null),r||i===null?$6(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Na=G6.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,fv=Symbol.for("react.element"),_d=Symbol.for("react.portal"),wd=Symbol.for("react.fragment"),bT=Symbol.for("react.strict_mode"),tM=Symbol.for("react.profiler"),E3=Symbol.for("react.provider"),T3=Symbol.for("react.context"),MT=Symbol.for("react.forward_ref"),nM=Symbol.for("react.suspense"),rM=Symbol.for("react.suspense_list"),ET=Symbol.for("react.memo"),al=Symbol.for("react.lazy"),C3=Symbol.for("react.offscreen"),u2=Symbol.iterator;function yh(t){return t===null||typeof t!="object"?null:(t=u2&&t[u2]||t["@@iterator"],typeof t=="function"?t:null)}var Hn=Object.assign,WS;function Gh(t){if(WS===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);WS=e&&e[1]||""}return`
`+WS+t}var GS=!1;function XS(t,e){if(!t||GS)return"";GS=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{GS=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Gh(t):""}function Z6(t){switch(t.tag){case 5:return Gh(t.type);case 16:return Gh("Lazy");case 13:return Gh("Suspense");case 19:return Gh("SuspenseList");case 0:case 2:case 15:return t=XS(t.type,!1),t;case 11:return t=XS(t.type.render,!1),t;case 1:return t=XS(t.type,!0),t;default:return""}}function iM(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case wd:return"Fragment";case _d:return"Portal";case tM:return"Profiler";case bT:return"StrictMode";case nM:return"Suspense";case rM:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case T3:return(t.displayName||"Context")+".Consumer";case E3:return(t._context.displayName||"Context")+".Provider";case MT:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case ET:return e=t.displayName||null,e!==null?e:iM(t.type)||"Memo";case al:e=t._payload,t=t._init;try{return iM(t(e))}catch{}}return null}function K6(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return iM(e);case 8:return e===bT?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ll(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function A3(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Q6(t){var e=A3(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function hv(t){t._valueTracker||(t._valueTracker=Q6(t))}function P3(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=A3(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function h0(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function sM(t,e){var n=e.checked;return Hn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function d2(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Ll(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function R3(t,e){e=e.checked,e!=null&&ST(t,"checked",e,!1)}function oM(t,e){R3(t,e);var n=Ll(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?aM(t,e.type,n):e.hasOwnProperty("defaultValue")&&aM(t,e.type,Ll(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function f2(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function aM(t,e,n){(e!=="number"||h0(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Xh=Array.isArray;function jd(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ll(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function lM(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ze(91));return Hn({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function h2(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(ze(92));if(Xh(n)){if(1<n.length)throw Error(ze(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ll(n)}}function I3(t,e){var n=Ll(e.value),r=Ll(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function p2(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function N3(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function cM(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?N3(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var pv,L3=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(pv=pv||document.createElement("div"),pv.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=pv.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Np(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var rp={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},J6=["Webkit","ms","Moz","O"];Object.keys(rp).forEach(function(t){J6.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),rp[e]=rp[t]})});function D3(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||rp.hasOwnProperty(t)&&rp[t]?(""+e).trim():e+"px"}function k3(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=D3(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var e8=Hn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function uM(t,e){if(e){if(e8[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ze(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ze(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ze(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ze(62))}}function dM(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var fM=null;function TT(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var hM=null,Hd=null,Wd=null;function m2(t){if(t=Dm(t)){if(typeof hM!="function")throw Error(ze(280));var e=t.stateNode;e&&(e=u_(e),hM(t.stateNode,t.type,e))}}function O3(t){Hd?Wd?Wd.push(t):Wd=[t]:Hd=t}function F3(){if(Hd){var t=Hd,e=Wd;if(Wd=Hd=null,m2(t),e)for(t=0;t<e.length;t++)m2(e[t])}}function U3(t,e){return t(e)}function B3(){}var $S=!1;function z3(t,e,n){if($S)return t(e,n);$S=!0;try{return U3(t,e,n)}finally{$S=!1,(Hd!==null||Wd!==null)&&(B3(),F3())}}function Lp(t,e){var n=t.stateNode;if(n===null)return null;var r=u_(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(ze(231,e,typeof n));return n}var pM=!1;if(ya)try{var xh={};Object.defineProperty(xh,"passive",{get:function(){pM=!0}}),window.addEventListener("test",xh,xh),window.removeEventListener("test",xh,xh)}catch{pM=!1}function t8(t,e,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var ip=!1,p0=null,m0=!1,mM=null,n8={onError:function(t){ip=!0,p0=t}};function r8(t,e,n,r,i,s,o,a,l){ip=!1,p0=null,t8.apply(n8,arguments)}function i8(t,e,n,r,i,s,o,a,l){if(r8.apply(this,arguments),ip){if(ip){var c=p0;ip=!1,p0=null}else throw Error(ze(198));m0||(m0=!0,mM=c)}}function wu(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function V3(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function g2(t){if(wu(t)!==t)throw Error(ze(188))}function s8(t){var e=t.alternate;if(!e){if(e=wu(t),e===null)throw Error(ze(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return g2(i),t;if(s===r)return g2(i),e;s=s.sibling}throw Error(ze(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(ze(189))}}if(n.alternate!==r)throw Error(ze(190))}if(n.tag!==3)throw Error(ze(188));return n.stateNode.current===n?t:e}function j3(t){return t=s8(t),t!==null?H3(t):null}function H3(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=H3(t);if(e!==null)return e;t=t.sibling}return null}var W3=ns.unstable_scheduleCallback,v2=ns.unstable_cancelCallback,o8=ns.unstable_shouldYield,a8=ns.unstable_requestPaint,nr=ns.unstable_now,l8=ns.unstable_getCurrentPriorityLevel,CT=ns.unstable_ImmediatePriority,G3=ns.unstable_UserBlockingPriority,g0=ns.unstable_NormalPriority,c8=ns.unstable_LowPriority,X3=ns.unstable_IdlePriority,o_=null,Co=null;function u8(t){if(Co&&typeof Co.onCommitFiberRoot=="function")try{Co.onCommitFiberRoot(o_,t,void 0,(t.current.flags&128)===128)}catch{}}var Zs=Math.clz32?Math.clz32:h8,d8=Math.log,f8=Math.LN2;function h8(t){return t>>>=0,t===0?32:31-(d8(t)/f8|0)|0}var mv=64,gv=4194304;function $h(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function v0(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=$h(a):(s&=o,s!==0&&(r=$h(s)))}else o=n&~i,o!==0?r=$h(o):s!==0&&(r=$h(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Zs(e),i=1<<n,r|=t[n],e&=~i;return r}function p8(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function m8(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Zs(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=p8(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function gM(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function $3(){var t=mv;return mv<<=1,!(mv&4194240)&&(mv=64),t}function YS(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Nm(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Zs(e),t[e]=n}function g8(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Zs(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function AT(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Zs(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var bn=0;function Y3(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var q3,PT,Z3,K3,Q3,vM=!1,vv=[],bl=null,Ml=null,El=null,Dp=new Map,kp=new Map,cl=[],v8="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function y2(t,e){switch(t){case"focusin":case"focusout":bl=null;break;case"dragenter":case"dragleave":Ml=null;break;case"mouseover":case"mouseout":El=null;break;case"pointerover":case"pointerout":Dp.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":kp.delete(e.pointerId)}}function _h(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Dm(e),e!==null&&PT(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function y8(t,e,n,r,i){switch(e){case"focusin":return bl=_h(bl,t,e,n,r,i),!0;case"dragenter":return Ml=_h(Ml,t,e,n,r,i),!0;case"mouseover":return El=_h(El,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Dp.set(s,_h(Dp.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,kp.set(s,_h(kp.get(s)||null,t,e,n,r,i)),!0}return!1}function J3(t){var e=Uc(t.target);if(e!==null){var n=wu(e);if(n!==null){if(e=n.tag,e===13){if(e=V3(n),e!==null){t.blockedOn=e,Q3(t.priority,function(){Z3(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function jy(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=yM(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);fM=r,n.target.dispatchEvent(r),fM=null}else return e=Dm(n),e!==null&&PT(e),t.blockedOn=n,!1;e.shift()}return!0}function x2(t,e,n){jy(t)&&n.delete(e)}function x8(){vM=!1,bl!==null&&jy(bl)&&(bl=null),Ml!==null&&jy(Ml)&&(Ml=null),El!==null&&jy(El)&&(El=null),Dp.forEach(x2),kp.forEach(x2)}function wh(t,e){t.blockedOn===e&&(t.blockedOn=null,vM||(vM=!0,ns.unstable_scheduleCallback(ns.unstable_NormalPriority,x8)))}function Op(t){function e(i){return wh(i,t)}if(0<vv.length){wh(vv[0],t);for(var n=1;n<vv.length;n++){var r=vv[n];r.blockedOn===t&&(r.blockedOn=null)}}for(bl!==null&&wh(bl,t),Ml!==null&&wh(Ml,t),El!==null&&wh(El,t),Dp.forEach(e),kp.forEach(e),n=0;n<cl.length;n++)r=cl[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<cl.length&&(n=cl[0],n.blockedOn===null);)J3(n),n.blockedOn===null&&cl.shift()}var Gd=Na.ReactCurrentBatchConfig,y0=!0;function _8(t,e,n,r){var i=bn,s=Gd.transition;Gd.transition=null;try{bn=1,RT(t,e,n,r)}finally{bn=i,Gd.transition=s}}function w8(t,e,n,r){var i=bn,s=Gd.transition;Gd.transition=null;try{bn=4,RT(t,e,n,r)}finally{bn=i,Gd.transition=s}}function RT(t,e,n,r){if(y0){var i=yM(t,e,n,r);if(i===null)i1(t,e,r,x0,n),y2(t,r);else if(y8(i,t,e,n,r))r.stopPropagation();else if(y2(t,r),e&4&&-1<v8.indexOf(t)){for(;i!==null;){var s=Dm(i);if(s!==null&&q3(s),s=yM(t,e,n,r),s===null&&i1(t,e,r,x0,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else i1(t,e,r,null,n)}}var x0=null;function yM(t,e,n,r){if(x0=null,t=TT(r),t=Uc(t),t!==null)if(e=wu(t),e===null)t=null;else if(n=e.tag,n===13){if(t=V3(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return x0=t,null}function eO(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(l8()){case CT:return 1;case G3:return 4;case g0:case c8:return 16;case X3:return 536870912;default:return 16}default:return 16}}var yl=null,IT=null,Hy=null;function tO(){if(Hy)return Hy;var t,e=IT,n=e.length,r,i="value"in yl?yl.value:yl.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Hy=i.slice(t,1<r?1-r:void 0)}function Wy(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function yv(){return!0}function _2(){return!1}function os(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?yv:_2,this.isPropagationStopped=_2,this}return Hn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=yv)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=yv)},persist:function(){},isPersistent:yv}),e}var Ff={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},NT=os(Ff),Lm=Hn({},Ff,{view:0,detail:0}),S8=os(Lm),qS,ZS,Sh,a_=Hn({},Lm,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:LT,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Sh&&(Sh&&t.type==="mousemove"?(qS=t.screenX-Sh.screenX,ZS=t.screenY-Sh.screenY):ZS=qS=0,Sh=t),qS)},movementY:function(t){return"movementY"in t?t.movementY:ZS}}),w2=os(a_),b8=Hn({},a_,{dataTransfer:0}),M8=os(b8),E8=Hn({},Lm,{relatedTarget:0}),KS=os(E8),T8=Hn({},Ff,{animationName:0,elapsedTime:0,pseudoElement:0}),C8=os(T8),A8=Hn({},Ff,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),P8=os(A8),R8=Hn({},Ff,{data:0}),S2=os(R8),I8={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},N8={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},L8={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function D8(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=L8[t])?!!e[t]:!1}function LT(){return D8}var k8=Hn({},Lm,{key:function(t){if(t.key){var e=I8[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Wy(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?N8[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:LT,charCode:function(t){return t.type==="keypress"?Wy(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Wy(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),O8=os(k8),F8=Hn({},a_,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),b2=os(F8),U8=Hn({},Lm,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:LT}),B8=os(U8),z8=Hn({},Ff,{propertyName:0,elapsedTime:0,pseudoElement:0}),V8=os(z8),j8=Hn({},a_,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),H8=os(j8),W8=[9,13,27,32],DT=ya&&"CompositionEvent"in window,sp=null;ya&&"documentMode"in document&&(sp=document.documentMode);var G8=ya&&"TextEvent"in window&&!sp,nO=ya&&(!DT||sp&&8<sp&&11>=sp),M2=" ",E2=!1;function rO(t,e){switch(t){case"keyup":return W8.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function iO(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Sd=!1;function X8(t,e){switch(t){case"compositionend":return iO(e);case"keypress":return e.which!==32?null:(E2=!0,M2);case"textInput":return t=e.data,t===M2&&E2?null:t;default:return null}}function $8(t,e){if(Sd)return t==="compositionend"||!DT&&rO(t,e)?(t=tO(),Hy=IT=yl=null,Sd=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return nO&&e.locale!=="ko"?null:e.data;default:return null}}var Y8={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function T2(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Y8[t.type]:e==="textarea"}function sO(t,e,n,r){O3(r),e=_0(e,"onChange"),0<e.length&&(n=new NT("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var op=null,Fp=null;function q8(t){gO(t,0)}function l_(t){var e=Ed(t);if(P3(e))return t}function Z8(t,e){if(t==="change")return e}var oO=!1;if(ya){var QS;if(ya){var JS="oninput"in document;if(!JS){var C2=document.createElement("div");C2.setAttribute("oninput","return;"),JS=typeof C2.oninput=="function"}QS=JS}else QS=!1;oO=QS&&(!document.documentMode||9<document.documentMode)}function A2(){op&&(op.detachEvent("onpropertychange",aO),Fp=op=null)}function aO(t){if(t.propertyName==="value"&&l_(Fp)){var e=[];sO(e,Fp,t,TT(t)),z3(q8,e)}}function K8(t,e,n){t==="focusin"?(A2(),op=e,Fp=n,op.attachEvent("onpropertychange",aO)):t==="focusout"&&A2()}function Q8(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return l_(Fp)}function J8(t,e){if(t==="click")return l_(e)}function eW(t,e){if(t==="input"||t==="change")return l_(e)}function tW(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Qs=typeof Object.is=="function"?Object.is:tW;function Up(t,e){if(Qs(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!eM.call(e,i)||!Qs(t[i],e[i]))return!1}return!0}function P2(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function R2(t,e){var n=P2(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=P2(n)}}function lO(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?lO(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function cO(){for(var t=window,e=h0();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=h0(t.document)}return e}function kT(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function nW(t){var e=cO(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&lO(n.ownerDocument.documentElement,n)){if(r!==null&&kT(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=R2(n,s);var o=R2(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var rW=ya&&"documentMode"in document&&11>=document.documentMode,bd=null,xM=null,ap=null,_M=!1;function I2(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;_M||bd==null||bd!==h0(r)||(r=bd,"selectionStart"in r&&kT(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ap&&Up(ap,r)||(ap=r,r=_0(xM,"onSelect"),0<r.length&&(e=new NT("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=bd)))}function xv(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Md={animationend:xv("Animation","AnimationEnd"),animationiteration:xv("Animation","AnimationIteration"),animationstart:xv("Animation","AnimationStart"),transitionend:xv("Transition","TransitionEnd")},e1={},uO={};ya&&(uO=document.createElement("div").style,"AnimationEvent"in window||(delete Md.animationend.animation,delete Md.animationiteration.animation,delete Md.animationstart.animation),"TransitionEvent"in window||delete Md.transitionend.transition);function c_(t){if(e1[t])return e1[t];if(!Md[t])return t;var e=Md[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in uO)return e1[t]=e[n];return t}var dO=c_("animationend"),fO=c_("animationiteration"),hO=c_("animationstart"),pO=c_("transitionend"),mO=new Map,N2="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Gl(t,e){mO.set(t,e),_u(e,[t])}for(var t1=0;t1<N2.length;t1++){var n1=N2[t1],iW=n1.toLowerCase(),sW=n1[0].toUpperCase()+n1.slice(1);Gl(iW,"on"+sW)}Gl(dO,"onAnimationEnd");Gl(fO,"onAnimationIteration");Gl(hO,"onAnimationStart");Gl("dblclick","onDoubleClick");Gl("focusin","onFocus");Gl("focusout","onBlur");Gl(pO,"onTransitionEnd");ff("onMouseEnter",["mouseout","mouseover"]);ff("onMouseLeave",["mouseout","mouseover"]);ff("onPointerEnter",["pointerout","pointerover"]);ff("onPointerLeave",["pointerout","pointerover"]);_u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));_u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));_u("onBeforeInput",["compositionend","keypress","textInput","paste"]);_u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));_u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));_u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Yh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),oW=new Set("cancel close invalid load scroll toggle".split(" ").concat(Yh));function L2(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,i8(r,e,void 0,t),t.currentTarget=null}function gO(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;L2(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;L2(i,a,c),s=l}}}if(m0)throw t=mM,m0=!1,mM=null,t}function An(t,e){var n=e[EM];n===void 0&&(n=e[EM]=new Set);var r=t+"__bubble";n.has(r)||(vO(e,t,2,!1),n.add(r))}function r1(t,e,n){var r=0;e&&(r|=4),vO(n,t,r,e)}var _v="_reactListening"+Math.random().toString(36).slice(2);function Bp(t){if(!t[_v]){t[_v]=!0,M3.forEach(function(n){n!=="selectionchange"&&(oW.has(n)||r1(n,!1,t),r1(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[_v]||(e[_v]=!0,r1("selectionchange",!1,e))}}function vO(t,e,n,r){switch(eO(e)){case 1:var i=_8;break;case 4:i=w8;break;default:i=RT}n=i.bind(null,e,n,t),i=void 0,!pM||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function i1(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Uc(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}z3(function(){var c=s,d=TT(n),h=[];e:{var p=mO.get(t);if(p!==void 0){var m=NT,v=t;switch(t){case"keypress":if(Wy(n)===0)break e;case"keydown":case"keyup":m=O8;break;case"focusin":v="focus",m=KS;break;case"focusout":v="blur",m=KS;break;case"beforeblur":case"afterblur":m=KS;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=w2;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=M8;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=B8;break;case dO:case fO:case hO:m=C8;break;case pO:m=V8;break;case"scroll":m=S8;break;case"wheel":m=H8;break;case"copy":case"cut":case"paste":m=P8;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=b2}var x=(e&4)!==0,y=!x&&t==="scroll",g=x?p!==null?p+"Capture":null:p;x=[];for(var w=c,b;w!==null;){b=w;var E=b.stateNode;if(b.tag===5&&E!==null&&(b=E,g!==null&&(E=Lp(w,g),E!=null&&x.push(zp(w,E,b)))),y)break;w=w.return}0<x.length&&(p=new m(p,v,null,n,d),h.push({event:p,listeners:x}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",p&&n!==fM&&(v=n.relatedTarget||n.fromElement)&&(Uc(v)||v[xa]))break e;if((m||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,m?(v=n.relatedTarget||n.toElement,m=c,v=v?Uc(v):null,v!==null&&(y=wu(v),v!==y||v.tag!==5&&v.tag!==6)&&(v=null)):(m=null,v=c),m!==v)){if(x=w2,E="onMouseLeave",g="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(x=b2,E="onPointerLeave",g="onPointerEnter",w="pointer"),y=m==null?p:Ed(m),b=v==null?p:Ed(v),p=new x(E,w+"leave",m,n,d),p.target=y,p.relatedTarget=b,E=null,Uc(d)===c&&(x=new x(g,w+"enter",v,n,d),x.target=b,x.relatedTarget=y,E=x),y=E,m&&v)t:{for(x=m,g=v,w=0,b=x;b;b=Wu(b))w++;for(b=0,E=g;E;E=Wu(E))b++;for(;0<w-b;)x=Wu(x),w--;for(;0<b-w;)g=Wu(g),b--;for(;w--;){if(x===g||g!==null&&x===g.alternate)break t;x=Wu(x),g=Wu(g)}x=null}else x=null;m!==null&&D2(h,p,m,x,!1),v!==null&&y!==null&&D2(h,y,v,x,!0)}}e:{if(p=c?Ed(c):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var C=Z8;else if(T2(p))if(oO)C=eW;else{C=Q8;var A=K8}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(C=J8);if(C&&(C=C(t,c))){sO(h,C,n,d);break e}A&&A(t,p,c),t==="focusout"&&(A=p._wrapperState)&&A.controlled&&p.type==="number"&&aM(p,"number",p.value)}switch(A=c?Ed(c):window,t){case"focusin":(T2(A)||A.contentEditable==="true")&&(bd=A,xM=c,ap=null);break;case"focusout":ap=xM=bd=null;break;case"mousedown":_M=!0;break;case"contextmenu":case"mouseup":case"dragend":_M=!1,I2(h,n,d);break;case"selectionchange":if(rW)break;case"keydown":case"keyup":I2(h,n,d)}var I;if(DT)e:{switch(t){case"compositionstart":var D="onCompositionStart";break e;case"compositionend":D="onCompositionEnd";break e;case"compositionupdate":D="onCompositionUpdate";break e}D=void 0}else Sd?rO(t,n)&&(D="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(D="onCompositionStart");D&&(nO&&n.locale!=="ko"&&(Sd||D!=="onCompositionStart"?D==="onCompositionEnd"&&Sd&&(I=tO()):(yl=d,IT="value"in yl?yl.value:yl.textContent,Sd=!0)),A=_0(c,D),0<A.length&&(D=new S2(D,t,null,n,d),h.push({event:D,listeners:A}),I?D.data=I:(I=iO(n),I!==null&&(D.data=I)))),(I=G8?X8(t,n):$8(t,n))&&(c=_0(c,"onBeforeInput"),0<c.length&&(d=new S2("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:c}),d.data=I))}gO(h,e)})}function zp(t,e,n){return{instance:t,listener:e,currentTarget:n}}function _0(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Lp(t,n),s!=null&&r.unshift(zp(t,s,i)),s=Lp(t,e),s!=null&&r.push(zp(t,s,i))),t=t.return}return r}function Wu(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function D2(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=Lp(n,s),l!=null&&o.unshift(zp(n,l,a))):i||(l=Lp(n,s),l!=null&&o.push(zp(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var aW=/\r\n?/g,lW=/\u0000|\uFFFD/g;function k2(t){return(typeof t=="string"?t:""+t).replace(aW,`
`).replace(lW,"")}function wv(t,e,n){if(e=k2(e),k2(t)!==e&&n)throw Error(ze(425))}function w0(){}var wM=null,SM=null;function bM(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var MM=typeof setTimeout=="function"?setTimeout:void 0,cW=typeof clearTimeout=="function"?clearTimeout:void 0,O2=typeof Promise=="function"?Promise:void 0,uW=typeof queueMicrotask=="function"?queueMicrotask:typeof O2<"u"?function(t){return O2.resolve(null).then(t).catch(dW)}:MM;function dW(t){setTimeout(function(){throw t})}function s1(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Op(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Op(e)}function Tl(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function F2(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Uf=Math.random().toString(36).slice(2),wo="__reactFiber$"+Uf,Vp="__reactProps$"+Uf,xa="__reactContainer$"+Uf,EM="__reactEvents$"+Uf,fW="__reactListeners$"+Uf,hW="__reactHandles$"+Uf;function Uc(t){var e=t[wo];if(e)return e;for(var n=t.parentNode;n;){if(e=n[xa]||n[wo]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=F2(t);t!==null;){if(n=t[wo])return n;t=F2(t)}return e}t=n,n=t.parentNode}return null}function Dm(t){return t=t[wo]||t[xa],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ed(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ze(33))}function u_(t){return t[Vp]||null}var TM=[],Td=-1;function Xl(t){return{current:t}}function Rn(t){0>Td||(t.current=TM[Td],TM[Td]=null,Td--)}function Tn(t,e){Td++,TM[Td]=t.current,t.current=e}var Dl={},ti=Xl(Dl),Oi=Xl(!1),ou=Dl;function hf(t,e){var n=t.type.contextTypes;if(!n)return Dl;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Fi(t){return t=t.childContextTypes,t!=null}function S0(){Rn(Oi),Rn(ti)}function U2(t,e,n){if(ti.current!==Dl)throw Error(ze(168));Tn(ti,e),Tn(Oi,n)}function yO(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(ze(108,K6(t)||"Unknown",i));return Hn({},n,r)}function b0(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Dl,ou=ti.current,Tn(ti,t),Tn(Oi,Oi.current),!0}function B2(t,e,n){var r=t.stateNode;if(!r)throw Error(ze(169));n?(t=yO(t,e,ou),r.__reactInternalMemoizedMergedChildContext=t,Rn(Oi),Rn(ti),Tn(ti,t)):Rn(Oi),Tn(Oi,n)}var oa=null,d_=!1,o1=!1;function xO(t){oa===null?oa=[t]:oa.push(t)}function pW(t){d_=!0,xO(t)}function $l(){if(!o1&&oa!==null){o1=!0;var t=0,e=bn;try{var n=oa;for(bn=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}oa=null,d_=!1}catch(i){throw oa!==null&&(oa=oa.slice(t+1)),W3(CT,$l),i}finally{bn=e,o1=!1}}return null}var Cd=[],Ad=0,M0=null,E0=0,_s=[],ws=0,au=null,ua=1,da="";function Ac(t,e){Cd[Ad++]=E0,Cd[Ad++]=M0,M0=t,E0=e}function _O(t,e,n){_s[ws++]=ua,_s[ws++]=da,_s[ws++]=au,au=t;var r=ua;t=da;var i=32-Zs(r)-1;r&=~(1<<i),n+=1;var s=32-Zs(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,ua=1<<32-Zs(e)+i|n<<i|r,da=s+t}else ua=1<<s|n<<i|r,da=t}function OT(t){t.return!==null&&(Ac(t,1),_O(t,1,0))}function FT(t){for(;t===M0;)M0=Cd[--Ad],Cd[Ad]=null,E0=Cd[--Ad],Cd[Ad]=null;for(;t===au;)au=_s[--ws],_s[ws]=null,da=_s[--ws],_s[ws]=null,ua=_s[--ws],_s[ws]=null}var Ji=null,Qi=null,Dn=!1,Xs=null;function wO(t,e){var n=Ss(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function z2(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ji=t,Qi=Tl(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ji=t,Qi=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=au!==null?{id:ua,overflow:da}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Ss(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Ji=t,Qi=null,!0):!1;default:return!1}}function CM(t){return(t.mode&1)!==0&&(t.flags&128)===0}function AM(t){if(Dn){var e=Qi;if(e){var n=e;if(!z2(t,e)){if(CM(t))throw Error(ze(418));e=Tl(n.nextSibling);var r=Ji;e&&z2(t,e)?wO(r,n):(t.flags=t.flags&-4097|2,Dn=!1,Ji=t)}}else{if(CM(t))throw Error(ze(418));t.flags=t.flags&-4097|2,Dn=!1,Ji=t}}}function V2(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ji=t}function Sv(t){if(t!==Ji)return!1;if(!Dn)return V2(t),Dn=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!bM(t.type,t.memoizedProps)),e&&(e=Qi)){if(CM(t))throw SO(),Error(ze(418));for(;e;)wO(t,e),e=Tl(e.nextSibling)}if(V2(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ze(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Qi=Tl(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Qi=null}}else Qi=Ji?Tl(t.stateNode.nextSibling):null;return!0}function SO(){for(var t=Qi;t;)t=Tl(t.nextSibling)}function pf(){Qi=Ji=null,Dn=!1}function UT(t){Xs===null?Xs=[t]:Xs.push(t)}var mW=Na.ReactCurrentBatchConfig;function bh(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ze(309));var r=n.stateNode}if(!r)throw Error(ze(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(ze(284));if(!n._owner)throw Error(ze(290,t))}return t}function bv(t,e){throw t=Object.prototype.toString.call(e),Error(ze(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function j2(t){var e=t._init;return e(t._payload)}function bO(t){function e(g,w){if(t){var b=g.deletions;b===null?(g.deletions=[w],g.flags|=16):b.push(w)}}function n(g,w){if(!t)return null;for(;w!==null;)e(g,w),w=w.sibling;return null}function r(g,w){for(g=new Map;w!==null;)w.key!==null?g.set(w.key,w):g.set(w.index,w),w=w.sibling;return g}function i(g,w){return g=Rl(g,w),g.index=0,g.sibling=null,g}function s(g,w,b){return g.index=b,t?(b=g.alternate,b!==null?(b=b.index,b<w?(g.flags|=2,w):b):(g.flags|=2,w)):(g.flags|=1048576,w)}function o(g){return t&&g.alternate===null&&(g.flags|=2),g}function a(g,w,b,E){return w===null||w.tag!==6?(w=h1(b,g.mode,E),w.return=g,w):(w=i(w,b),w.return=g,w)}function l(g,w,b,E){var C=b.type;return C===wd?d(g,w,b.props.children,E,b.key):w!==null&&(w.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===al&&j2(C)===w.type)?(E=i(w,b.props),E.ref=bh(g,w,b),E.return=g,E):(E=Ky(b.type,b.key,b.props,null,g.mode,E),E.ref=bh(g,w,b),E.return=g,E)}function c(g,w,b,E){return w===null||w.tag!==4||w.stateNode.containerInfo!==b.containerInfo||w.stateNode.implementation!==b.implementation?(w=p1(b,g.mode,E),w.return=g,w):(w=i(w,b.children||[]),w.return=g,w)}function d(g,w,b,E,C){return w===null||w.tag!==7?(w=Qc(b,g.mode,E,C),w.return=g,w):(w=i(w,b),w.return=g,w)}function h(g,w,b){if(typeof w=="string"&&w!==""||typeof w=="number")return w=h1(""+w,g.mode,b),w.return=g,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case fv:return b=Ky(w.type,w.key,w.props,null,g.mode,b),b.ref=bh(g,null,w),b.return=g,b;case _d:return w=p1(w,g.mode,b),w.return=g,w;case al:var E=w._init;return h(g,E(w._payload),b)}if(Xh(w)||yh(w))return w=Qc(w,g.mode,b,null),w.return=g,w;bv(g,w)}return null}function p(g,w,b,E){var C=w!==null?w.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return C!==null?null:a(g,w,""+b,E);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case fv:return b.key===C?l(g,w,b,E):null;case _d:return b.key===C?c(g,w,b,E):null;case al:return C=b._init,p(g,w,C(b._payload),E)}if(Xh(b)||yh(b))return C!==null?null:d(g,w,b,E,null);bv(g,b)}return null}function m(g,w,b,E,C){if(typeof E=="string"&&E!==""||typeof E=="number")return g=g.get(b)||null,a(w,g,""+E,C);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case fv:return g=g.get(E.key===null?b:E.key)||null,l(w,g,E,C);case _d:return g=g.get(E.key===null?b:E.key)||null,c(w,g,E,C);case al:var A=E._init;return m(g,w,b,A(E._payload),C)}if(Xh(E)||yh(E))return g=g.get(b)||null,d(w,g,E,C,null);bv(w,E)}return null}function v(g,w,b,E){for(var C=null,A=null,I=w,D=w=0,N=null;I!==null&&D<b.length;D++){I.index>D?(N=I,I=null):N=I.sibling;var R=p(g,I,b[D],E);if(R===null){I===null&&(I=N);break}t&&I&&R.alternate===null&&e(g,I),w=s(R,w,D),A===null?C=R:A.sibling=R,A=R,I=N}if(D===b.length)return n(g,I),Dn&&Ac(g,D),C;if(I===null){for(;D<b.length;D++)I=h(g,b[D],E),I!==null&&(w=s(I,w,D),A===null?C=I:A.sibling=I,A=I);return Dn&&Ac(g,D),C}for(I=r(g,I);D<b.length;D++)N=m(I,g,D,b[D],E),N!==null&&(t&&N.alternate!==null&&I.delete(N.key===null?D:N.key),w=s(N,w,D),A===null?C=N:A.sibling=N,A=N);return t&&I.forEach(function(F){return e(g,F)}),Dn&&Ac(g,D),C}function x(g,w,b,E){var C=yh(b);if(typeof C!="function")throw Error(ze(150));if(b=C.call(b),b==null)throw Error(ze(151));for(var A=C=null,I=w,D=w=0,N=null,R=b.next();I!==null&&!R.done;D++,R=b.next()){I.index>D?(N=I,I=null):N=I.sibling;var F=p(g,I,R.value,E);if(F===null){I===null&&(I=N);break}t&&I&&F.alternate===null&&e(g,I),w=s(F,w,D),A===null?C=F:A.sibling=F,A=F,I=N}if(R.done)return n(g,I),Dn&&Ac(g,D),C;if(I===null){for(;!R.done;D++,R=b.next())R=h(g,R.value,E),R!==null&&(w=s(R,w,D),A===null?C=R:A.sibling=R,A=R);return Dn&&Ac(g,D),C}for(I=r(g,I);!R.done;D++,R=b.next())R=m(I,g,D,R.value,E),R!==null&&(t&&R.alternate!==null&&I.delete(R.key===null?D:R.key),w=s(R,w,D),A===null?C=R:A.sibling=R,A=R);return t&&I.forEach(function(j){return e(g,j)}),Dn&&Ac(g,D),C}function y(g,w,b,E){if(typeof b=="object"&&b!==null&&b.type===wd&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case fv:e:{for(var C=b.key,A=w;A!==null;){if(A.key===C){if(C=b.type,C===wd){if(A.tag===7){n(g,A.sibling),w=i(A,b.props.children),w.return=g,g=w;break e}}else if(A.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===al&&j2(C)===A.type){n(g,A.sibling),w=i(A,b.props),w.ref=bh(g,A,b),w.return=g,g=w;break e}n(g,A);break}else e(g,A);A=A.sibling}b.type===wd?(w=Qc(b.props.children,g.mode,E,b.key),w.return=g,g=w):(E=Ky(b.type,b.key,b.props,null,g.mode,E),E.ref=bh(g,w,b),E.return=g,g=E)}return o(g);case _d:e:{for(A=b.key;w!==null;){if(w.key===A)if(w.tag===4&&w.stateNode.containerInfo===b.containerInfo&&w.stateNode.implementation===b.implementation){n(g,w.sibling),w=i(w,b.children||[]),w.return=g,g=w;break e}else{n(g,w);break}else e(g,w);w=w.sibling}w=p1(b,g.mode,E),w.return=g,g=w}return o(g);case al:return A=b._init,y(g,w,A(b._payload),E)}if(Xh(b))return v(g,w,b,E);if(yh(b))return x(g,w,b,E);bv(g,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,w!==null&&w.tag===6?(n(g,w.sibling),w=i(w,b),w.return=g,g=w):(n(g,w),w=h1(b,g.mode,E),w.return=g,g=w),o(g)):n(g,w)}return y}var mf=bO(!0),MO=bO(!1),T0=Xl(null),C0=null,Pd=null,BT=null;function zT(){BT=Pd=C0=null}function VT(t){var e=T0.current;Rn(T0),t._currentValue=e}function PM(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Xd(t,e){C0=t,BT=Pd=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Li=!0),t.firstContext=null)}function Ps(t){var e=t._currentValue;if(BT!==t)if(t={context:t,memoizedValue:e,next:null},Pd===null){if(C0===null)throw Error(ze(308));Pd=t,C0.dependencies={lanes:0,firstContext:t}}else Pd=Pd.next=t;return e}var Bc=null;function jT(t){Bc===null?Bc=[t]:Bc.push(t)}function EO(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,jT(e)):(n.next=i.next,i.next=n),e.interleaved=n,_a(t,r)}function _a(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ll=!1;function HT(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function TO(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function pa(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Cl(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,hn&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,_a(t,n)}return i=r.interleaved,i===null?(e.next=e,jT(r)):(e.next=i.next,i.next=e),r.interleaved=e,_a(t,n)}function Gy(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,AT(t,n)}}function H2(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function A0(t,e,n,r){var i=t.updateQueue;ll=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;o=0,d=c=l=null,a=s;do{var p=a.lane,m=a.eventTime;if((r&p)===p){d!==null&&(d=d.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=t,x=a;switch(p=e,m=n,x.tag){case 1:if(v=x.payload,typeof v=="function"){h=v.call(m,h,p);break e}h=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=x.payload,p=typeof v=="function"?v.call(m,h,p):v,p==null)break e;h=Hn({},h,p);break e;case 2:ll=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=i.effects,p===null?i.effects=[a]:p.push(a))}else m={eventTime:m,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=m,l=h):d=d.next=m,o|=p;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;p=a,a=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);if(d===null&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);cu|=o,t.lanes=o,t.memoizedState=h}}function W2(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(ze(191,i));i.call(r)}}}var km={},Ao=Xl(km),jp=Xl(km),Hp=Xl(km);function zc(t){if(t===km)throw Error(ze(174));return t}function WT(t,e){switch(Tn(Hp,e),Tn(jp,t),Tn(Ao,km),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:cM(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=cM(e,t)}Rn(Ao),Tn(Ao,e)}function gf(){Rn(Ao),Rn(jp),Rn(Hp)}function CO(t){zc(Hp.current);var e=zc(Ao.current),n=cM(e,t.type);e!==n&&(Tn(jp,t),Tn(Ao,n))}function GT(t){jp.current===t&&(Rn(Ao),Rn(jp))}var Bn=Xl(0);function P0(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var a1=[];function XT(){for(var t=0;t<a1.length;t++)a1[t]._workInProgressVersionPrimary=null;a1.length=0}var Xy=Na.ReactCurrentDispatcher,l1=Na.ReactCurrentBatchConfig,lu=0,jn=null,gr=null,Tr=null,R0=!1,lp=!1,Wp=0,gW=0;function Wr(){throw Error(ze(321))}function $T(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Qs(t[n],e[n]))return!1;return!0}function YT(t,e,n,r,i,s){if(lu=s,jn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Xy.current=t===null||t.memoizedState===null?_W:wW,t=n(r,i),lp){s=0;do{if(lp=!1,Wp=0,25<=s)throw Error(ze(301));s+=1,Tr=gr=null,e.updateQueue=null,Xy.current=SW,t=n(r,i)}while(lp)}if(Xy.current=I0,e=gr!==null&&gr.next!==null,lu=0,Tr=gr=jn=null,R0=!1,e)throw Error(ze(300));return t}function qT(){var t=Wp!==0;return Wp=0,t}function go(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Tr===null?jn.memoizedState=Tr=t:Tr=Tr.next=t,Tr}function Rs(){if(gr===null){var t=jn.alternate;t=t!==null?t.memoizedState:null}else t=gr.next;var e=Tr===null?jn.memoizedState:Tr.next;if(e!==null)Tr=e,gr=t;else{if(t===null)throw Error(ze(310));gr=t,t={memoizedState:gr.memoizedState,baseState:gr.baseState,baseQueue:gr.baseQueue,queue:gr.queue,next:null},Tr===null?jn.memoizedState=Tr=t:Tr=Tr.next=t}return Tr}function Gp(t,e){return typeof e=="function"?e(t):e}function c1(t){var e=Rs(),n=e.queue;if(n===null)throw Error(ze(311));n.lastRenderedReducer=t;var r=gr,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var d=c.lane;if((lu&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,jn.lanes|=d,cu|=d}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,Qs(r,e.memoizedState)||(Li=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,jn.lanes|=s,cu|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function u1(t){var e=Rs(),n=e.queue;if(n===null)throw Error(ze(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Qs(s,e.memoizedState)||(Li=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function AO(){}function PO(t,e){var n=jn,r=Rs(),i=e(),s=!Qs(r.memoizedState,i);if(s&&(r.memoizedState=i,Li=!0),r=r.queue,ZT(NO.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Tr!==null&&Tr.memoizedState.tag&1){if(n.flags|=2048,Xp(9,IO.bind(null,n,r,i,e),void 0,null),Cr===null)throw Error(ze(349));lu&30||RO(n,e,i)}return i}function RO(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=jn.updateQueue,e===null?(e={lastEffect:null,stores:null},jn.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function IO(t,e,n,r){e.value=n,e.getSnapshot=r,LO(e)&&DO(t)}function NO(t,e,n){return n(function(){LO(e)&&DO(t)})}function LO(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Qs(t,n)}catch{return!0}}function DO(t){var e=_a(t,1);e!==null&&Ks(e,t,1,-1)}function G2(t){var e=go();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Gp,lastRenderedState:t},e.queue=t,t=t.dispatch=xW.bind(null,jn,t),[e.memoizedState,t]}function Xp(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=jn.updateQueue,e===null?(e={lastEffect:null,stores:null},jn.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function kO(){return Rs().memoizedState}function $y(t,e,n,r){var i=go();jn.flags|=t,i.memoizedState=Xp(1|e,n,void 0,r===void 0?null:r)}function f_(t,e,n,r){var i=Rs();r=r===void 0?null:r;var s=void 0;if(gr!==null){var o=gr.memoizedState;if(s=o.destroy,r!==null&&$T(r,o.deps)){i.memoizedState=Xp(e,n,s,r);return}}jn.flags|=t,i.memoizedState=Xp(1|e,n,s,r)}function X2(t,e){return $y(8390656,8,t,e)}function ZT(t,e){return f_(2048,8,t,e)}function OO(t,e){return f_(4,2,t,e)}function FO(t,e){return f_(4,4,t,e)}function UO(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function BO(t,e,n){return n=n!=null?n.concat([t]):null,f_(4,4,UO.bind(null,e,t),n)}function KT(){}function zO(t,e){var n=Rs();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&$T(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function VO(t,e){var n=Rs();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&$T(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function jO(t,e,n){return lu&21?(Qs(n,e)||(n=$3(),jn.lanes|=n,cu|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Li=!0),t.memoizedState=n)}function vW(t,e){var n=bn;bn=n!==0&&4>n?n:4,t(!0);var r=l1.transition;l1.transition={};try{t(!1),e()}finally{bn=n,l1.transition=r}}function HO(){return Rs().memoizedState}function yW(t,e,n){var r=Pl(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},WO(t))GO(e,n);else if(n=EO(t,e,n,r),n!==null){var i=mi();Ks(n,t,r,i),XO(n,e,r)}}function xW(t,e,n){var r=Pl(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(WO(t))GO(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Qs(a,o)){var l=e.interleaved;l===null?(i.next=i,jT(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=EO(t,e,i,r),n!==null&&(i=mi(),Ks(n,t,r,i),XO(n,e,r))}}function WO(t){var e=t.alternate;return t===jn||e!==null&&e===jn}function GO(t,e){lp=R0=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function XO(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,AT(t,n)}}var I0={readContext:Ps,useCallback:Wr,useContext:Wr,useEffect:Wr,useImperativeHandle:Wr,useInsertionEffect:Wr,useLayoutEffect:Wr,useMemo:Wr,useReducer:Wr,useRef:Wr,useState:Wr,useDebugValue:Wr,useDeferredValue:Wr,useTransition:Wr,useMutableSource:Wr,useSyncExternalStore:Wr,useId:Wr,unstable_isNewReconciler:!1},_W={readContext:Ps,useCallback:function(t,e){return go().memoizedState=[t,e===void 0?null:e],t},useContext:Ps,useEffect:X2,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,$y(4194308,4,UO.bind(null,e,t),n)},useLayoutEffect:function(t,e){return $y(4194308,4,t,e)},useInsertionEffect:function(t,e){return $y(4,2,t,e)},useMemo:function(t,e){var n=go();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=go();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=yW.bind(null,jn,t),[r.memoizedState,t]},useRef:function(t){var e=go();return t={current:t},e.memoizedState=t},useState:G2,useDebugValue:KT,useDeferredValue:function(t){return go().memoizedState=t},useTransition:function(){var t=G2(!1),e=t[0];return t=vW.bind(null,t[1]),go().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=jn,i=go();if(Dn){if(n===void 0)throw Error(ze(407));n=n()}else{if(n=e(),Cr===null)throw Error(ze(349));lu&30||RO(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,X2(NO.bind(null,r,s,t),[t]),r.flags|=2048,Xp(9,IO.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=go(),e=Cr.identifierPrefix;if(Dn){var n=da,r=ua;n=(r&~(1<<32-Zs(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Wp++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=gW++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},wW={readContext:Ps,useCallback:zO,useContext:Ps,useEffect:ZT,useImperativeHandle:BO,useInsertionEffect:OO,useLayoutEffect:FO,useMemo:VO,useReducer:c1,useRef:kO,useState:function(){return c1(Gp)},useDebugValue:KT,useDeferredValue:function(t){var e=Rs();return jO(e,gr.memoizedState,t)},useTransition:function(){var t=c1(Gp)[0],e=Rs().memoizedState;return[t,e]},useMutableSource:AO,useSyncExternalStore:PO,useId:HO,unstable_isNewReconciler:!1},SW={readContext:Ps,useCallback:zO,useContext:Ps,useEffect:ZT,useImperativeHandle:BO,useInsertionEffect:OO,useLayoutEffect:FO,useMemo:VO,useReducer:u1,useRef:kO,useState:function(){return u1(Gp)},useDebugValue:KT,useDeferredValue:function(t){var e=Rs();return gr===null?e.memoizedState=t:jO(e,gr.memoizedState,t)},useTransition:function(){var t=u1(Gp)[0],e=Rs().memoizedState;return[t,e]},useMutableSource:AO,useSyncExternalStore:PO,useId:HO,unstable_isNewReconciler:!1};function Vs(t,e){if(t&&t.defaultProps){e=Hn({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function RM(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Hn({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var h_={isMounted:function(t){return(t=t._reactInternals)?wu(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=mi(),i=Pl(t),s=pa(r,i);s.payload=e,n!=null&&(s.callback=n),e=Cl(t,s,i),e!==null&&(Ks(e,t,i,r),Gy(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=mi(),i=Pl(t),s=pa(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Cl(t,s,i),e!==null&&(Ks(e,t,i,r),Gy(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=mi(),r=Pl(t),i=pa(n,r);i.tag=2,e!=null&&(i.callback=e),e=Cl(t,i,r),e!==null&&(Ks(e,t,r,n),Gy(e,t,r))}};function $2(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Up(n,r)||!Up(i,s):!0}function $O(t,e,n){var r=!1,i=Dl,s=e.contextType;return typeof s=="object"&&s!==null?s=Ps(s):(i=Fi(e)?ou:ti.current,r=e.contextTypes,s=(r=r!=null)?hf(t,i):Dl),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=h_,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function Y2(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&h_.enqueueReplaceState(e,e.state,null)}function IM(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},HT(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Ps(s):(s=Fi(e)?ou:ti.current,i.context=hf(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(RM(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&h_.enqueueReplaceState(i,i.state,null),A0(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function vf(t,e){try{var n="",r=e;do n+=Z6(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function d1(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function NM(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var bW=typeof WeakMap=="function"?WeakMap:Map;function YO(t,e,n){n=pa(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){L0||(L0=!0,jM=r),NM(t,e)},n}function qO(t,e,n){n=pa(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){NM(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){NM(t,e),typeof r!="function"&&(Al===null?Al=new Set([this]):Al.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function q2(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new bW;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=FW.bind(null,t,e,n),e.then(t,t))}function Z2(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function K2(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=pa(-1,1),e.tag=2,Cl(n,e,1))),n.lanes|=1),t)}var MW=Na.ReactCurrentOwner,Li=!1;function ci(t,e,n,r){e.child=t===null?MO(e,null,n,r):mf(e,t.child,n,r)}function Q2(t,e,n,r,i){n=n.render;var s=e.ref;return Xd(e,i),r=YT(t,e,n,r,s,i),n=qT(),t!==null&&!Li?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,wa(t,e,i)):(Dn&&n&&OT(e),e.flags|=1,ci(t,e,r,i),e.child)}function J2(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!sC(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,ZO(t,e,s,r,i)):(t=Ky(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Up,n(o,r)&&t.ref===e.ref)return wa(t,e,i)}return e.flags|=1,t=Rl(s,r),t.ref=e.ref,t.return=e,e.child=t}function ZO(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Up(s,r)&&t.ref===e.ref)if(Li=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Li=!0);else return e.lanes=t.lanes,wa(t,e,i)}return LM(t,e,n,r,i)}function KO(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Tn(Id,Zi),Zi|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Tn(Id,Zi),Zi|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Tn(Id,Zi),Zi|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Tn(Id,Zi),Zi|=r;return ci(t,e,i,n),e.child}function QO(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function LM(t,e,n,r,i){var s=Fi(n)?ou:ti.current;return s=hf(e,s),Xd(e,i),n=YT(t,e,n,r,s,i),r=qT(),t!==null&&!Li?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,wa(t,e,i)):(Dn&&r&&OT(e),e.flags|=1,ci(t,e,n,i),e.child)}function eI(t,e,n,r,i){if(Fi(n)){var s=!0;b0(e)}else s=!1;if(Xd(e,i),e.stateNode===null)Yy(t,e),$O(e,n,r),IM(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Ps(c):(c=Fi(n)?ou:ti.current,c=hf(e,c));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&Y2(e,o,r,c),ll=!1;var p=e.memoizedState;o.state=p,A0(e,r,o,i),l=e.memoizedState,a!==r||p!==l||Oi.current||ll?(typeof d=="function"&&(RM(e,n,d,r),l=e.memoizedState),(a=ll||$2(e,n,a,r,p,l,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,TO(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Vs(e.type,a),o.props=c,h=e.pendingProps,p=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Ps(l):(l=Fi(n)?ou:ti.current,l=hf(e,l));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||p!==l)&&Y2(e,o,r,l),ll=!1,p=e.memoizedState,o.state=p,A0(e,r,o,i);var v=e.memoizedState;a!==h||p!==v||Oi.current||ll?(typeof m=="function"&&(RM(e,n,m,r),v=e.memoizedState),(c=ll||$2(e,n,c,r,p,v,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),o.props=r,o.state=v,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return DM(t,e,n,r,s,i)}function DM(t,e,n,r,i,s){QO(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&B2(e,n,!1),wa(t,e,s);r=e.stateNode,MW.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=mf(e,t.child,null,s),e.child=mf(e,null,a,s)):ci(t,e,a,s),e.memoizedState=r.state,i&&B2(e,n,!0),e.child}function JO(t){var e=t.stateNode;e.pendingContext?U2(t,e.pendingContext,e.pendingContext!==e.context):e.context&&U2(t,e.context,!1),WT(t,e.containerInfo)}function tI(t,e,n,r,i){return pf(),UT(i),e.flags|=256,ci(t,e,n,r),e.child}var kM={dehydrated:null,treeContext:null,retryLane:0};function OM(t){return{baseLanes:t,cachePool:null,transitions:null}}function eF(t,e,n){var r=e.pendingProps,i=Bn.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Tn(Bn,i&1),t===null)return AM(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=g_(o,r,0,null),t=Qc(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=OM(n),e.memoizedState=kM,t):QT(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return EW(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Rl(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Rl(a,s):(s=Qc(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?OM(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=kM,r}return s=t.child,t=s.sibling,r=Rl(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function QT(t,e){return e=g_({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Mv(t,e,n,r){return r!==null&&UT(r),mf(e,t.child,null,n),t=QT(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function EW(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=d1(Error(ze(422))),Mv(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=g_({mode:"visible",children:r.children},i,0,null),s=Qc(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&mf(e,t.child,null,o),e.child.memoizedState=OM(o),e.memoizedState=kM,s);if(!(e.mode&1))return Mv(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(ze(419)),r=d1(s,r,void 0),Mv(t,e,o,r)}if(a=(o&t.childLanes)!==0,Li||a){if(r=Cr,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,_a(t,i),Ks(r,t,i,-1))}return iC(),r=d1(Error(ze(421))),Mv(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=UW.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Qi=Tl(i.nextSibling),Ji=e,Dn=!0,Xs=null,t!==null&&(_s[ws++]=ua,_s[ws++]=da,_s[ws++]=au,ua=t.id,da=t.overflow,au=e),e=QT(e,r.children),e.flags|=4096,e)}function nI(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),PM(t.return,e,n)}function f1(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function tF(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(ci(t,e,r.children,n),r=Bn.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&nI(t,n,e);else if(t.tag===19)nI(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Tn(Bn,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&P0(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),f1(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&P0(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}f1(e,!0,n,null,s);break;case"together":f1(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Yy(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function wa(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),cu|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(ze(153));if(e.child!==null){for(t=e.child,n=Rl(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Rl(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function TW(t,e,n){switch(e.tag){case 3:JO(e),pf();break;case 5:CO(e);break;case 1:Fi(e.type)&&b0(e);break;case 4:WT(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Tn(T0,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Tn(Bn,Bn.current&1),e.flags|=128,null):n&e.child.childLanes?eF(t,e,n):(Tn(Bn,Bn.current&1),t=wa(t,e,n),t!==null?t.sibling:null);Tn(Bn,Bn.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return tF(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Tn(Bn,Bn.current),r)break;return null;case 22:case 23:return e.lanes=0,KO(t,e,n)}return wa(t,e,n)}var nF,FM,rF,iF;nF=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};FM=function(){};rF=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,zc(Ao.current);var s=null;switch(n){case"input":i=sM(t,i),r=sM(t,r),s=[];break;case"select":i=Hn({},i,{value:void 0}),r=Hn({},r,{value:void 0}),s=[];break;case"textarea":i=lM(t,i),r=lM(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=w0)}uM(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Ip.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Ip.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&An("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};iF=function(t,e,n,r){n!==r&&(e.flags|=4)};function Mh(t,e){if(!Dn)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Gr(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function CW(t,e,n){var r=e.pendingProps;switch(FT(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gr(e),null;case 1:return Fi(e.type)&&S0(),Gr(e),null;case 3:return r=e.stateNode,gf(),Rn(Oi),Rn(ti),XT(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Sv(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Xs!==null&&(GM(Xs),Xs=null))),FM(t,e),Gr(e),null;case 5:GT(e);var i=zc(Hp.current);if(n=e.type,t!==null&&e.stateNode!=null)rF(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(ze(166));return Gr(e),null}if(t=zc(Ao.current),Sv(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[wo]=e,r[Vp]=s,t=(e.mode&1)!==0,n){case"dialog":An("cancel",r),An("close",r);break;case"iframe":case"object":case"embed":An("load",r);break;case"video":case"audio":for(i=0;i<Yh.length;i++)An(Yh[i],r);break;case"source":An("error",r);break;case"img":case"image":case"link":An("error",r),An("load",r);break;case"details":An("toggle",r);break;case"input":d2(r,s),An("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},An("invalid",r);break;case"textarea":h2(r,s),An("invalid",r)}uM(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&wv(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&wv(r.textContent,a,t),i=["children",""+a]):Ip.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&An("scroll",r)}switch(n){case"input":hv(r),f2(r,s,!0);break;case"textarea":hv(r),p2(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=w0)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=N3(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[wo]=e,t[Vp]=r,nF(t,e,!1,!1),e.stateNode=t;e:{switch(o=dM(n,r),n){case"dialog":An("cancel",t),An("close",t),i=r;break;case"iframe":case"object":case"embed":An("load",t),i=r;break;case"video":case"audio":for(i=0;i<Yh.length;i++)An(Yh[i],t);i=r;break;case"source":An("error",t),i=r;break;case"img":case"image":case"link":An("error",t),An("load",t),i=r;break;case"details":An("toggle",t),i=r;break;case"input":d2(t,r),i=sM(t,r),An("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Hn({},r,{value:void 0}),An("invalid",t);break;case"textarea":h2(t,r),i=lM(t,r),An("invalid",t);break;default:i=r}uM(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?k3(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&L3(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Np(t,l):typeof l=="number"&&Np(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Ip.hasOwnProperty(s)?l!=null&&s==="onScroll"&&An("scroll",t):l!=null&&ST(t,s,l,o))}switch(n){case"input":hv(t),f2(t,r,!1);break;case"textarea":hv(t),p2(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Ll(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?jd(t,!!r.multiple,s,!1):r.defaultValue!=null&&jd(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=w0)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Gr(e),null;case 6:if(t&&e.stateNode!=null)iF(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(ze(166));if(n=zc(Hp.current),zc(Ao.current),Sv(e)){if(r=e.stateNode,n=e.memoizedProps,r[wo]=e,(s=r.nodeValue!==n)&&(t=Ji,t!==null))switch(t.tag){case 3:wv(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&wv(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[wo]=e,e.stateNode=r}return Gr(e),null;case 13:if(Rn(Bn),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Dn&&Qi!==null&&e.mode&1&&!(e.flags&128))SO(),pf(),e.flags|=98560,s=!1;else if(s=Sv(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(ze(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(ze(317));s[wo]=e}else pf(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Gr(e),s=!1}else Xs!==null&&(GM(Xs),Xs=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Bn.current&1?vr===0&&(vr=3):iC())),e.updateQueue!==null&&(e.flags|=4),Gr(e),null);case 4:return gf(),FM(t,e),t===null&&Bp(e.stateNode.containerInfo),Gr(e),null;case 10:return VT(e.type._context),Gr(e),null;case 17:return Fi(e.type)&&S0(),Gr(e),null;case 19:if(Rn(Bn),s=e.memoizedState,s===null)return Gr(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Mh(s,!1);else{if(vr!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=P0(t),o!==null){for(e.flags|=128,Mh(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Tn(Bn,Bn.current&1|2),e.child}t=t.sibling}s.tail!==null&&nr()>yf&&(e.flags|=128,r=!0,Mh(s,!1),e.lanes=4194304)}else{if(!r)if(t=P0(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Mh(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Dn)return Gr(e),null}else 2*nr()-s.renderingStartTime>yf&&n!==1073741824&&(e.flags|=128,r=!0,Mh(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=nr(),e.sibling=null,n=Bn.current,Tn(Bn,r?n&1|2:n&1),e):(Gr(e),null);case 22:case 23:return rC(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Zi&1073741824&&(Gr(e),e.subtreeFlags&6&&(e.flags|=8192)):Gr(e),null;case 24:return null;case 25:return null}throw Error(ze(156,e.tag))}function AW(t,e){switch(FT(e),e.tag){case 1:return Fi(e.type)&&S0(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return gf(),Rn(Oi),Rn(ti),XT(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return GT(e),null;case 13:if(Rn(Bn),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ze(340));pf()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Rn(Bn),null;case 4:return gf(),null;case 10:return VT(e.type._context),null;case 22:case 23:return rC(),null;case 24:return null;default:return null}}var Ev=!1,Zr=!1,PW=typeof WeakSet=="function"?WeakSet:Set,dt=null;function Rd(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Zn(t,e,r)}else n.current=null}function UM(t,e,n){try{n()}catch(r){Zn(t,e,r)}}var rI=!1;function RW(t,e){if(wM=y0,t=cO(),kT(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,d=0,h=t,p=null;t:for(;;){for(var m;h!==n||i!==0&&h.nodeType!==3||(a=o+i),h!==s||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(m=h.firstChild)!==null;)p=h,h=m;for(;;){if(h===t)break t;if(p===n&&++c===i&&(a=o),p===s&&++d===r&&(l=o),(m=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(SM={focusedElem:t,selectionRange:n},y0=!1,dt=e;dt!==null;)if(e=dt,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,dt=t;else for(;dt!==null;){e=dt;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var x=v.memoizedProps,y=v.memoizedState,g=e.stateNode,w=g.getSnapshotBeforeUpdate(e.elementType===e.type?x:Vs(e.type,x),y);g.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ze(163))}}catch(E){Zn(e,e.return,E)}if(t=e.sibling,t!==null){t.return=e.return,dt=t;break}dt=e.return}return v=rI,rI=!1,v}function cp(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&UM(e,n,s)}i=i.next}while(i!==r)}}function p_(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function BM(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function sF(t){var e=t.alternate;e!==null&&(t.alternate=null,sF(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[wo],delete e[Vp],delete e[EM],delete e[fW],delete e[hW])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function oF(t){return t.tag===5||t.tag===3||t.tag===4}function iI(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||oF(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function zM(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=w0));else if(r!==4&&(t=t.child,t!==null))for(zM(t,e,n),t=t.sibling;t!==null;)zM(t,e,n),t=t.sibling}function VM(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(VM(t,e,n),t=t.sibling;t!==null;)VM(t,e,n),t=t.sibling}var Rr=null,Gs=!1;function Wa(t,e,n){for(n=n.child;n!==null;)aF(t,e,n),n=n.sibling}function aF(t,e,n){if(Co&&typeof Co.onCommitFiberUnmount=="function")try{Co.onCommitFiberUnmount(o_,n)}catch{}switch(n.tag){case 5:Zr||Rd(n,e);case 6:var r=Rr,i=Gs;Rr=null,Wa(t,e,n),Rr=r,Gs=i,Rr!==null&&(Gs?(t=Rr,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Rr.removeChild(n.stateNode));break;case 18:Rr!==null&&(Gs?(t=Rr,n=n.stateNode,t.nodeType===8?s1(t.parentNode,n):t.nodeType===1&&s1(t,n),Op(t)):s1(Rr,n.stateNode));break;case 4:r=Rr,i=Gs,Rr=n.stateNode.containerInfo,Gs=!0,Wa(t,e,n),Rr=r,Gs=i;break;case 0:case 11:case 14:case 15:if(!Zr&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&UM(n,e,o),i=i.next}while(i!==r)}Wa(t,e,n);break;case 1:if(!Zr&&(Rd(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Zn(n,e,a)}Wa(t,e,n);break;case 21:Wa(t,e,n);break;case 22:n.mode&1?(Zr=(r=Zr)||n.memoizedState!==null,Wa(t,e,n),Zr=r):Wa(t,e,n);break;default:Wa(t,e,n)}}function sI(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new PW),e.forEach(function(r){var i=BW.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function ks(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Rr=a.stateNode,Gs=!1;break e;case 3:Rr=a.stateNode.containerInfo,Gs=!0;break e;case 4:Rr=a.stateNode.containerInfo,Gs=!0;break e}a=a.return}if(Rr===null)throw Error(ze(160));aF(s,o,i),Rr=null,Gs=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Zn(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)lF(e,t),e=e.sibling}function lF(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ks(e,t),ho(t),r&4){try{cp(3,t,t.return),p_(3,t)}catch(x){Zn(t,t.return,x)}try{cp(5,t,t.return)}catch(x){Zn(t,t.return,x)}}break;case 1:ks(e,t),ho(t),r&512&&n!==null&&Rd(n,n.return);break;case 5:if(ks(e,t),ho(t),r&512&&n!==null&&Rd(n,n.return),t.flags&32){var i=t.stateNode;try{Np(i,"")}catch(x){Zn(t,t.return,x)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&R3(i,s),dM(a,o);var c=dM(a,s);for(o=0;o<l.length;o+=2){var d=l[o],h=l[o+1];d==="style"?k3(i,h):d==="dangerouslySetInnerHTML"?L3(i,h):d==="children"?Np(i,h):ST(i,d,h,c)}switch(a){case"input":oM(i,s);break;case"textarea":I3(i,s);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?jd(i,!!s.multiple,m,!1):p!==!!s.multiple&&(s.defaultValue!=null?jd(i,!!s.multiple,s.defaultValue,!0):jd(i,!!s.multiple,s.multiple?[]:"",!1))}i[Vp]=s}catch(x){Zn(t,t.return,x)}}break;case 6:if(ks(e,t),ho(t),r&4){if(t.stateNode===null)throw Error(ze(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(x){Zn(t,t.return,x)}}break;case 3:if(ks(e,t),ho(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Op(e.containerInfo)}catch(x){Zn(t,t.return,x)}break;case 4:ks(e,t),ho(t);break;case 13:ks(e,t),ho(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(tC=nr())),r&4&&sI(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Zr=(c=Zr)||d,ks(e,t),Zr=c):ks(e,t),ho(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(dt=t,d=t.child;d!==null;){for(h=dt=d;dt!==null;){switch(p=dt,m=p.child,p.tag){case 0:case 11:case 14:case 15:cp(4,p,p.return);break;case 1:Rd(p,p.return);var v=p.stateNode;if(typeof v.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(x){Zn(r,n,x)}}break;case 5:Rd(p,p.return);break;case 22:if(p.memoizedState!==null){aI(h);continue}}m!==null?(m.return=p,dt=m):aI(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{i=h.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=D3("display",o))}catch(x){Zn(t,t.return,x)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(x){Zn(t,t.return,x)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ks(e,t),ho(t),r&4&&sI(t);break;case 21:break;default:ks(e,t),ho(t)}}function ho(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(oF(n)){var r=n;break e}n=n.return}throw Error(ze(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Np(i,""),r.flags&=-33);var s=iI(t);VM(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=iI(t);zM(t,a,o);break;default:throw Error(ze(161))}}catch(l){Zn(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function IW(t,e,n){dt=t,cF(t)}function cF(t,e,n){for(var r=(t.mode&1)!==0;dt!==null;){var i=dt,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Ev;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Zr;a=Ev;var c=Zr;if(Ev=o,(Zr=l)&&!c)for(dt=i;dt!==null;)o=dt,l=o.child,o.tag===22&&o.memoizedState!==null?lI(i):l!==null?(l.return=o,dt=l):lI(i);for(;s!==null;)dt=s,cF(s),s=s.sibling;dt=i,Ev=a,Zr=c}oI(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,dt=s):oI(t)}}function oI(t){for(;dt!==null;){var e=dt;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Zr||p_(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Zr)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Vs(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&W2(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}W2(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Op(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ze(163))}Zr||e.flags&512&&BM(e)}catch(p){Zn(e,e.return,p)}}if(e===t){dt=null;break}if(n=e.sibling,n!==null){n.return=e.return,dt=n;break}dt=e.return}}function aI(t){for(;dt!==null;){var e=dt;if(e===t){dt=null;break}var n=e.sibling;if(n!==null){n.return=e.return,dt=n;break}dt=e.return}}function lI(t){for(;dt!==null;){var e=dt;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{p_(4,e)}catch(l){Zn(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Zn(e,i,l)}}var s=e.return;try{BM(e)}catch(l){Zn(e,s,l)}break;case 5:var o=e.return;try{BM(e)}catch(l){Zn(e,o,l)}}}catch(l){Zn(e,e.return,l)}if(e===t){dt=null;break}var a=e.sibling;if(a!==null){a.return=e.return,dt=a;break}dt=e.return}}var NW=Math.ceil,N0=Na.ReactCurrentDispatcher,JT=Na.ReactCurrentOwner,Ts=Na.ReactCurrentBatchConfig,hn=0,Cr=null,ur=null,Lr=0,Zi=0,Id=Xl(0),vr=0,$p=null,cu=0,m_=0,eC=0,up=null,Ii=null,tC=0,yf=1/0,sa=null,L0=!1,jM=null,Al=null,Tv=!1,xl=null,D0=0,dp=0,HM=null,qy=-1,Zy=0;function mi(){return hn&6?nr():qy!==-1?qy:qy=nr()}function Pl(t){return t.mode&1?hn&2&&Lr!==0?Lr&-Lr:mW.transition!==null?(Zy===0&&(Zy=$3()),Zy):(t=bn,t!==0||(t=window.event,t=t===void 0?16:eO(t.type)),t):1}function Ks(t,e,n,r){if(50<dp)throw dp=0,HM=null,Error(ze(185));Nm(t,n,r),(!(hn&2)||t!==Cr)&&(t===Cr&&(!(hn&2)&&(m_|=n),vr===4&&ul(t,Lr)),Ui(t,r),n===1&&hn===0&&!(e.mode&1)&&(yf=nr()+500,d_&&$l()))}function Ui(t,e){var n=t.callbackNode;m8(t,e);var r=v0(t,t===Cr?Lr:0);if(r===0)n!==null&&v2(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&v2(n),e===1)t.tag===0?pW(cI.bind(null,t)):xO(cI.bind(null,t)),uW(function(){!(hn&6)&&$l()}),n=null;else{switch(Y3(r)){case 1:n=CT;break;case 4:n=G3;break;case 16:n=g0;break;case 536870912:n=X3;break;default:n=g0}n=vF(n,uF.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function uF(t,e){if(qy=-1,Zy=0,hn&6)throw Error(ze(327));var n=t.callbackNode;if($d()&&t.callbackNode!==n)return null;var r=v0(t,t===Cr?Lr:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=k0(t,r);else{e=r;var i=hn;hn|=2;var s=fF();(Cr!==t||Lr!==e)&&(sa=null,yf=nr()+500,Kc(t,e));do try{kW();break}catch(a){dF(t,a)}while(!0);zT(),N0.current=s,hn=i,ur!==null?e=0:(Cr=null,Lr=0,e=vr)}if(e!==0){if(e===2&&(i=gM(t),i!==0&&(r=i,e=WM(t,i))),e===1)throw n=$p,Kc(t,0),ul(t,r),Ui(t,nr()),n;if(e===6)ul(t,r);else{if(i=t.current.alternate,!(r&30)&&!LW(i)&&(e=k0(t,r),e===2&&(s=gM(t),s!==0&&(r=s,e=WM(t,s))),e===1))throw n=$p,Kc(t,0),ul(t,r),Ui(t,nr()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(ze(345));case 2:Pc(t,Ii,sa);break;case 3:if(ul(t,r),(r&130023424)===r&&(e=tC+500-nr(),10<e)){if(v0(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){mi(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=MM(Pc.bind(null,t,Ii,sa),e);break}Pc(t,Ii,sa);break;case 4:if(ul(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Zs(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=nr()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*NW(r/1960))-r,10<r){t.timeoutHandle=MM(Pc.bind(null,t,Ii,sa),r);break}Pc(t,Ii,sa);break;case 5:Pc(t,Ii,sa);break;default:throw Error(ze(329))}}}return Ui(t,nr()),t.callbackNode===n?uF.bind(null,t):null}function WM(t,e){var n=up;return t.current.memoizedState.isDehydrated&&(Kc(t,e).flags|=256),t=k0(t,e),t!==2&&(e=Ii,Ii=n,e!==null&&GM(e)),t}function GM(t){Ii===null?Ii=t:Ii.push.apply(Ii,t)}function LW(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Qs(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ul(t,e){for(e&=~eC,e&=~m_,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Zs(e),r=1<<n;t[n]=-1,e&=~r}}function cI(t){if(hn&6)throw Error(ze(327));$d();var e=v0(t,0);if(!(e&1))return Ui(t,nr()),null;var n=k0(t,e);if(t.tag!==0&&n===2){var r=gM(t);r!==0&&(e=r,n=WM(t,r))}if(n===1)throw n=$p,Kc(t,0),ul(t,e),Ui(t,nr()),n;if(n===6)throw Error(ze(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Pc(t,Ii,sa),Ui(t,nr()),null}function nC(t,e){var n=hn;hn|=1;try{return t(e)}finally{hn=n,hn===0&&(yf=nr()+500,d_&&$l())}}function uu(t){xl!==null&&xl.tag===0&&!(hn&6)&&$d();var e=hn;hn|=1;var n=Ts.transition,r=bn;try{if(Ts.transition=null,bn=1,t)return t()}finally{bn=r,Ts.transition=n,hn=e,!(hn&6)&&$l()}}function rC(){Zi=Id.current,Rn(Id)}function Kc(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,cW(n)),ur!==null)for(n=ur.return;n!==null;){var r=n;switch(FT(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&S0();break;case 3:gf(),Rn(Oi),Rn(ti),XT();break;case 5:GT(r);break;case 4:gf();break;case 13:Rn(Bn);break;case 19:Rn(Bn);break;case 10:VT(r.type._context);break;case 22:case 23:rC()}n=n.return}if(Cr=t,ur=t=Rl(t.current,null),Lr=Zi=e,vr=0,$p=null,eC=m_=cu=0,Ii=up=null,Bc!==null){for(e=0;e<Bc.length;e++)if(n=Bc[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Bc=null}return t}function dF(t,e){do{var n=ur;try{if(zT(),Xy.current=I0,R0){for(var r=jn.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}R0=!1}if(lu=0,Tr=gr=jn=null,lp=!1,Wp=0,JT.current=null,n===null||n.return===null){vr=1,$p=e,ur=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=Lr,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=Z2(o);if(m!==null){m.flags&=-257,K2(m,o,a,s,e),m.mode&1&&q2(s,c,e),e=m,l=c;var v=e.updateQueue;if(v===null){var x=new Set;x.add(l),e.updateQueue=x}else v.add(l);break e}else{if(!(e&1)){q2(s,c,e),iC();break e}l=Error(ze(426))}}else if(Dn&&a.mode&1){var y=Z2(o);if(y!==null){!(y.flags&65536)&&(y.flags|=256),K2(y,o,a,s,e),UT(vf(l,a));break e}}s=l=vf(l,a),vr!==4&&(vr=2),up===null?up=[s]:up.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var g=YO(s,l,e);H2(s,g);break e;case 1:a=l;var w=s.type,b=s.stateNode;if(!(s.flags&128)&&(typeof w.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Al===null||!Al.has(b)))){s.flags|=65536,e&=-e,s.lanes|=e;var E=qO(s,a,e);H2(s,E);break e}}s=s.return}while(s!==null)}pF(n)}catch(C){e=C,ur===n&&n!==null&&(ur=n=n.return);continue}break}while(!0)}function fF(){var t=N0.current;return N0.current=I0,t===null?I0:t}function iC(){(vr===0||vr===3||vr===2)&&(vr=4),Cr===null||!(cu&268435455)&&!(m_&268435455)||ul(Cr,Lr)}function k0(t,e){var n=hn;hn|=2;var r=fF();(Cr!==t||Lr!==e)&&(sa=null,Kc(t,e));do try{DW();break}catch(i){dF(t,i)}while(!0);if(zT(),hn=n,N0.current=r,ur!==null)throw Error(ze(261));return Cr=null,Lr=0,vr}function DW(){for(;ur!==null;)hF(ur)}function kW(){for(;ur!==null&&!o8();)hF(ur)}function hF(t){var e=gF(t.alternate,t,Zi);t.memoizedProps=t.pendingProps,e===null?pF(t):ur=e,JT.current=null}function pF(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=AW(n,e),n!==null){n.flags&=32767,ur=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{vr=6,ur=null;return}}else if(n=CW(n,e,Zi),n!==null){ur=n;return}if(e=e.sibling,e!==null){ur=e;return}ur=e=t}while(e!==null);vr===0&&(vr=5)}function Pc(t,e,n){var r=bn,i=Ts.transition;try{Ts.transition=null,bn=1,OW(t,e,n,r)}finally{Ts.transition=i,bn=r}return null}function OW(t,e,n,r){do $d();while(xl!==null);if(hn&6)throw Error(ze(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(ze(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(g8(t,s),t===Cr&&(ur=Cr=null,Lr=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Tv||(Tv=!0,vF(g0,function(){return $d(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Ts.transition,Ts.transition=null;var o=bn;bn=1;var a=hn;hn|=4,JT.current=null,RW(t,n),lF(n,t),nW(SM),y0=!!wM,SM=wM=null,t.current=n,IW(n),a8(),hn=a,bn=o,Ts.transition=s}else t.current=n;if(Tv&&(Tv=!1,xl=t,D0=i),s=t.pendingLanes,s===0&&(Al=null),u8(n.stateNode),Ui(t,nr()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(L0)throw L0=!1,t=jM,jM=null,t;return D0&1&&t.tag!==0&&$d(),s=t.pendingLanes,s&1?t===HM?dp++:(dp=0,HM=t):dp=0,$l(),null}function $d(){if(xl!==null){var t=Y3(D0),e=Ts.transition,n=bn;try{if(Ts.transition=null,bn=16>t?16:t,xl===null)var r=!1;else{if(t=xl,xl=null,D0=0,hn&6)throw Error(ze(331));var i=hn;for(hn|=4,dt=t.current;dt!==null;){var s=dt,o=s.child;if(dt.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(dt=c;dt!==null;){var d=dt;switch(d.tag){case 0:case 11:case 15:cp(8,d,s)}var h=d.child;if(h!==null)h.return=d,dt=h;else for(;dt!==null;){d=dt;var p=d.sibling,m=d.return;if(sF(d),d===c){dt=null;break}if(p!==null){p.return=m,dt=p;break}dt=m}}}var v=s.alternate;if(v!==null){var x=v.child;if(x!==null){v.child=null;do{var y=x.sibling;x.sibling=null,x=y}while(x!==null)}}dt=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,dt=o;else e:for(;dt!==null;){if(s=dt,s.flags&2048)switch(s.tag){case 0:case 11:case 15:cp(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,dt=g;break e}dt=s.return}}var w=t.current;for(dt=w;dt!==null;){o=dt;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,dt=b;else e:for(o=w;dt!==null;){if(a=dt,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:p_(9,a)}}catch(C){Zn(a,a.return,C)}if(a===o){dt=null;break e}var E=a.sibling;if(E!==null){E.return=a.return,dt=E;break e}dt=a.return}}if(hn=i,$l(),Co&&typeof Co.onPostCommitFiberRoot=="function")try{Co.onPostCommitFiberRoot(o_,t)}catch{}r=!0}return r}finally{bn=n,Ts.transition=e}}return!1}function uI(t,e,n){e=vf(n,e),e=YO(t,e,1),t=Cl(t,e,1),e=mi(),t!==null&&(Nm(t,1,e),Ui(t,e))}function Zn(t,e,n){if(t.tag===3)uI(t,t,n);else for(;e!==null;){if(e.tag===3){uI(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Al===null||!Al.has(r))){t=vf(n,t),t=qO(e,t,1),e=Cl(e,t,1),t=mi(),e!==null&&(Nm(e,1,t),Ui(e,t));break}}e=e.return}}function FW(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=mi(),t.pingedLanes|=t.suspendedLanes&n,Cr===t&&(Lr&n)===n&&(vr===4||vr===3&&(Lr&130023424)===Lr&&500>nr()-tC?Kc(t,0):eC|=n),Ui(t,e)}function mF(t,e){e===0&&(t.mode&1?(e=gv,gv<<=1,!(gv&130023424)&&(gv=4194304)):e=1);var n=mi();t=_a(t,e),t!==null&&(Nm(t,e,n),Ui(t,n))}function UW(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),mF(t,n)}function BW(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(ze(314))}r!==null&&r.delete(e),mF(t,n)}var gF;gF=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Oi.current)Li=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Li=!1,TW(t,e,n);Li=!!(t.flags&131072)}else Li=!1,Dn&&e.flags&1048576&&_O(e,E0,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Yy(t,e),t=e.pendingProps;var i=hf(e,ti.current);Xd(e,n),i=YT(null,e,r,t,i,n);var s=qT();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Fi(r)?(s=!0,b0(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,HT(e),i.updater=h_,e.stateNode=i,i._reactInternals=e,IM(e,r,t,n),e=DM(null,e,r,!0,s,n)):(e.tag=0,Dn&&s&&OT(e),ci(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Yy(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=VW(r),t=Vs(r,t),i){case 0:e=LM(null,e,r,t,n);break e;case 1:e=eI(null,e,r,t,n);break e;case 11:e=Q2(null,e,r,t,n);break e;case 14:e=J2(null,e,r,Vs(r.type,t),n);break e}throw Error(ze(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Vs(r,i),LM(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Vs(r,i),eI(t,e,r,i,n);case 3:e:{if(JO(e),t===null)throw Error(ze(387));r=e.pendingProps,s=e.memoizedState,i=s.element,TO(t,e),A0(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=vf(Error(ze(423)),e),e=tI(t,e,r,n,i);break e}else if(r!==i){i=vf(Error(ze(424)),e),e=tI(t,e,r,n,i);break e}else for(Qi=Tl(e.stateNode.containerInfo.firstChild),Ji=e,Dn=!0,Xs=null,n=MO(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(pf(),r===i){e=wa(t,e,n);break e}ci(t,e,r,n)}e=e.child}return e;case 5:return CO(e),t===null&&AM(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,bM(r,i)?o=null:s!==null&&bM(r,s)&&(e.flags|=32),QO(t,e),ci(t,e,o,n),e.child;case 6:return t===null&&AM(e),null;case 13:return eF(t,e,n);case 4:return WT(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=mf(e,null,r,n):ci(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Vs(r,i),Q2(t,e,r,i,n);case 7:return ci(t,e,e.pendingProps,n),e.child;case 8:return ci(t,e,e.pendingProps.children,n),e.child;case 12:return ci(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Tn(T0,r._currentValue),r._currentValue=o,s!==null)if(Qs(s.value,o)){if(s.children===i.children&&!Oi.current){e=wa(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=pa(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),PM(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(ze(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),PM(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}ci(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Xd(e,n),i=Ps(i),r=r(i),e.flags|=1,ci(t,e,r,n),e.child;case 14:return r=e.type,i=Vs(r,e.pendingProps),i=Vs(r.type,i),J2(t,e,r,i,n);case 15:return ZO(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Vs(r,i),Yy(t,e),e.tag=1,Fi(r)?(t=!0,b0(e)):t=!1,Xd(e,n),$O(e,r,i),IM(e,r,i,n),DM(null,e,r,!0,t,n);case 19:return tF(t,e,n);case 22:return KO(t,e,n)}throw Error(ze(156,e.tag))};function vF(t,e){return W3(t,e)}function zW(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ss(t,e,n,r){return new zW(t,e,n,r)}function sC(t){return t=t.prototype,!(!t||!t.isReactComponent)}function VW(t){if(typeof t=="function")return sC(t)?1:0;if(t!=null){if(t=t.$$typeof,t===MT)return 11;if(t===ET)return 14}return 2}function Rl(t,e){var n=t.alternate;return n===null?(n=Ss(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Ky(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")sC(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case wd:return Qc(n.children,i,s,e);case bT:o=8,i|=8;break;case tM:return t=Ss(12,n,e,i|2),t.elementType=tM,t.lanes=s,t;case nM:return t=Ss(13,n,e,i),t.elementType=nM,t.lanes=s,t;case rM:return t=Ss(19,n,e,i),t.elementType=rM,t.lanes=s,t;case C3:return g_(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case E3:o=10;break e;case T3:o=9;break e;case MT:o=11;break e;case ET:o=14;break e;case al:o=16,r=null;break e}throw Error(ze(130,t==null?t:typeof t,""))}return e=Ss(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Qc(t,e,n,r){return t=Ss(7,t,r,e),t.lanes=n,t}function g_(t,e,n,r){return t=Ss(22,t,r,e),t.elementType=C3,t.lanes=n,t.stateNode={isHidden:!1},t}function h1(t,e,n){return t=Ss(6,t,null,e),t.lanes=n,t}function p1(t,e,n){return e=Ss(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function jW(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=YS(0),this.expirationTimes=YS(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=YS(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function oC(t,e,n,r,i,s,o,a,l){return t=new jW(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Ss(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},HT(s),t}function HW(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:_d,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function yF(t){if(!t)return Dl;t=t._reactInternals;e:{if(wu(t)!==t||t.tag!==1)throw Error(ze(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Fi(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ze(171))}if(t.tag===1){var n=t.type;if(Fi(n))return yO(t,n,e)}return e}function xF(t,e,n,r,i,s,o,a,l){return t=oC(n,r,!0,t,i,s,o,a,l),t.context=yF(null),n=t.current,r=mi(),i=Pl(n),s=pa(r,i),s.callback=e??null,Cl(n,s,i),t.current.lanes=i,Nm(t,i,r),Ui(t,r),t}function v_(t,e,n,r){var i=e.current,s=mi(),o=Pl(i);return n=yF(n),e.context===null?e.context=n:e.pendingContext=n,e=pa(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Cl(i,e,o),t!==null&&(Ks(t,i,o,s),Gy(t,i,o)),o}function O0(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function dI(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function aC(t,e){dI(t,e),(t=t.alternate)&&dI(t,e)}function WW(){return null}var _F=typeof reportError=="function"?reportError:function(t){console.error(t)};function lC(t){this._internalRoot=t}y_.prototype.render=lC.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ze(409));v_(t,e,null,null)};y_.prototype.unmount=lC.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;uu(function(){v_(null,t,null,null)}),e[xa]=null}};function y_(t){this._internalRoot=t}y_.prototype.unstable_scheduleHydration=function(t){if(t){var e=K3();t={blockedOn:null,target:t,priority:e};for(var n=0;n<cl.length&&e!==0&&e<cl[n].priority;n++);cl.splice(n,0,t),n===0&&J3(t)}};function cC(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function x_(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function fI(){}function GW(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=O0(o);s.call(c)}}var o=xF(e,r,t,0,null,!1,!1,"",fI);return t._reactRootContainer=o,t[xa]=o.current,Bp(t.nodeType===8?t.parentNode:t),uu(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=O0(l);a.call(c)}}var l=oC(t,0,!1,null,null,!1,!1,"",fI);return t._reactRootContainer=l,t[xa]=l.current,Bp(t.nodeType===8?t.parentNode:t),uu(function(){v_(e,l,n,r)}),l}function __(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=O0(o);a.call(l)}}v_(e,o,t,i)}else o=GW(n,e,t,i,r);return O0(o)}q3=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=$h(e.pendingLanes);n!==0&&(AT(e,n|1),Ui(e,nr()),!(hn&6)&&(yf=nr()+500,$l()))}break;case 13:uu(function(){var r=_a(t,1);if(r!==null){var i=mi();Ks(r,t,1,i)}}),aC(t,1)}};PT=function(t){if(t.tag===13){var e=_a(t,134217728);if(e!==null){var n=mi();Ks(e,t,134217728,n)}aC(t,134217728)}};Z3=function(t){if(t.tag===13){var e=Pl(t),n=_a(t,e);if(n!==null){var r=mi();Ks(n,t,e,r)}aC(t,e)}};K3=function(){return bn};Q3=function(t,e){var n=bn;try{return bn=t,e()}finally{bn=n}};hM=function(t,e,n){switch(e){case"input":if(oM(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=u_(r);if(!i)throw Error(ze(90));P3(r),oM(r,i)}}}break;case"textarea":I3(t,n);break;case"select":e=n.value,e!=null&&jd(t,!!n.multiple,e,!1)}};U3=nC;B3=uu;var XW={usingClientEntryPoint:!1,Events:[Dm,Ed,u_,O3,F3,nC]},Eh={findFiberByHostInstance:Uc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},$W={bundleType:Eh.bundleType,version:Eh.version,rendererPackageName:Eh.rendererPackageName,rendererConfig:Eh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Na.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=j3(t),t===null?null:t.stateNode},findFiberByHostInstance:Eh.findFiberByHostInstance||WW,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Cv=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Cv.isDisabled&&Cv.supportsFiber)try{o_=Cv.inject($W),Co=Cv}catch{}}ss.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=XW;ss.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!cC(e))throw Error(ze(200));return HW(t,e,null,n)};ss.createRoot=function(t,e){if(!cC(t))throw Error(ze(299));var n=!1,r="",i=_F;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=oC(t,1,!1,null,null,n,!1,r,i),t[xa]=e.current,Bp(t.nodeType===8?t.parentNode:t),new lC(e)};ss.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ze(188)):(t=Object.keys(t).join(","),Error(ze(268,t)));return t=j3(e),t=t===null?null:t.stateNode,t};ss.flushSync=function(t){return uu(t)};ss.hydrate=function(t,e,n){if(!x_(e))throw Error(ze(200));return __(null,t,e,!0,n)};ss.hydrateRoot=function(t,e,n){if(!cC(t))throw Error(ze(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=_F;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=xF(e,null,t,1,n??null,i,!1,s,o),t[xa]=e.current,Bp(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new y_(e)};ss.render=function(t,e,n){if(!x_(e))throw Error(ze(200));return __(null,t,e,!1,n)};ss.unmountComponentAtNode=function(t){if(!x_(t))throw Error(ze(40));return t._reactRootContainer?(uu(function(){__(null,null,t,!1,function(){t._reactRootContainer=null,t[xa]=null})}),!0):!1};ss.unstable_batchedUpdates=nC;ss.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!x_(n))throw Error(ze(200));if(t==null||t._reactInternals===void 0)throw Error(ze(38));return __(t,e,n,!1,r)};ss.version="18.3.1-next-f1338f8080-20240426";function wF(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(wF)}catch(t){console.error(t)}}wF(),w3.exports=ss;var Yl=w3.exports;const SF=mT(Yl);var bF,hI=Yl;bF=hI.createRoot,hI.hydrateRoot;const YW=1,qW=1e6;let m1=0;function ZW(){return m1=(m1+1)%Number.MAX_SAFE_INTEGER,m1.toString()}const g1=new Map,pI=t=>{if(g1.has(t))return;const e=setTimeout(()=>{g1.delete(t),fp({type:"REMOVE_TOAST",toastId:t})},qW);g1.set(t,e)},KW=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,YW)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?pI(n):t.toasts.forEach(r=>{pI(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},Qy=[];let Jy={toasts:[]};function fp(t){Jy=KW(Jy,t),Qy.forEach(e=>{e(Jy)})}function QW({...t}){const e=ZW(),n=i=>fp({type:"UPDATE_TOAST",toast:{...i,id:e}}),r=()=>fp({type:"DISMISS_TOAST",toastId:e});return fp({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:i=>{i||r()}}}),{id:e,dismiss:r,update:n}}function JW(){const[t,e]=P.useState(Jy);return P.useEffect(()=>(Qy.push(e),()=>{const n=Qy.indexOf(e);n>-1&&Qy.splice(n,1)}),[t]),{...t,toast:QW,dismiss:n=>fp({type:"DISMISS_TOAST",toastId:n})}}function zt(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function eG(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function MF(...t){return e=>t.forEach(n=>eG(n,e))}function In(...t){return P.useCallback(MF(...t),t)}function tG(t,e=[]){let n=[];function r(s,o){const a=P.createContext(o),l=n.length;n=[...n,o];function c(h){const{scope:p,children:m,...v}=h,x=(p==null?void 0:p[t][l])||a,y=P.useMemo(()=>v,Object.values(v));return S.jsx(x.Provider,{value:y,children:m})}function d(h,p){const m=(p==null?void 0:p[t][l])||a,v=P.useContext(m);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${s}\``)}return c.displayName=s+"Provider",[c,d]}const i=()=>{const s=n.map(o=>P.createContext(o));return function(a){const l=(a==null?void 0:a[t])||s;return P.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return i.scopeName=t,[r,nG(i,...e)]}function nG(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const h=l(s)[`__scope${c}`];return{...a,...h}},{});return P.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var kl=P.forwardRef((t,e)=>{const{children:n,...r}=t,i=P.Children.toArray(n),s=i.find(rG);if(s){const o=s.props.children,a=i.map(l=>l===s?P.Children.count(o)>1?P.Children.only(null):P.isValidElement(o)?o.props.children:null:l);return S.jsx(XM,{...r,ref:e,children:P.isValidElement(o)?P.cloneElement(o,void 0,a):null})}return S.jsx(XM,{...r,ref:e,children:n})});kl.displayName="Slot";var XM=P.forwardRef((t,e)=>{const{children:n,...r}=t;if(P.isValidElement(n)){const i=sG(n);return P.cloneElement(n,{...iG(r,n.props),ref:e?MF(e,i):i})}return P.Children.count(n)>1?P.Children.only(null):null});XM.displayName="SlotClone";var EF=({children:t})=>S.jsx(S.Fragment,{children:t});function rG(t){return P.isValidElement(t)&&t.type===EF}function iG(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...a)=>{s(...a),i(...a)}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function sG(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function TF(t){const e=t+"CollectionProvider",[n,r]=tG(e),[i,s]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=m=>{const{scope:v,children:x}=m,y=Le.useRef(null),g=Le.useRef(new Map).current;return S.jsx(i,{scope:v,itemMap:g,collectionRef:y,children:x})};o.displayName=e;const a=t+"CollectionSlot",l=Le.forwardRef((m,v)=>{const{scope:x,children:y}=m,g=s(a,x),w=In(v,g.collectionRef);return S.jsx(kl,{ref:w,children:y})});l.displayName=a;const c=t+"CollectionItemSlot",d="data-radix-collection-item",h=Le.forwardRef((m,v)=>{const{scope:x,children:y,...g}=m,w=Le.useRef(null),b=In(v,w),E=s(c,x);return Le.useEffect(()=>(E.itemMap.set(w,{ref:w,...g}),()=>void E.itemMap.delete(w))),S.jsx(kl,{[d]:"",ref:b,children:y})});h.displayName=c;function p(m){const v=s(t+"CollectionConsumer",m);return Le.useCallback(()=>{const y=v.collectionRef.current;if(!y)return[];const g=Array.from(y.querySelectorAll(`[${d}]`));return Array.from(v.itemMap.values()).sort((E,C)=>g.indexOf(E.ref.current)-g.indexOf(C.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:o,Slot:l,ItemSlot:h},p,r]}function oG(t,e){const n=P.createContext(e),r=s=>{const{children:o,...a}=s,l=P.useMemo(()=>a,Object.values(a));return S.jsx(n.Provider,{value:l,children:o})};r.displayName=t+"Provider";function i(s){const o=P.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${s}\` must be used within \`${t}\``)}return[r,i]}function w_(t,e=[]){let n=[];function r(s,o){const a=P.createContext(o),l=n.length;n=[...n,o];const c=h=>{var g;const{scope:p,children:m,...v}=h,x=((g=p==null?void 0:p[t])==null?void 0:g[l])||a,y=P.useMemo(()=>v,Object.values(v));return S.jsx(x.Provider,{value:y,children:m})};c.displayName=s+"Provider";function d(h,p){var x;const m=((x=p==null?void 0:p[t])==null?void 0:x[l])||a,v=P.useContext(m);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${s}\``)}return[c,d]}const i=()=>{const s=n.map(o=>P.createContext(o));return function(a){const l=(a==null?void 0:a[t])||s;return P.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return i.scopeName=t,[r,aG(i,...e)]}function aG(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const h=l(s)[`__scope${c}`];return{...a,...h}},{});return P.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var lG=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],mn=lG.reduce((t,e)=>{const n=P.forwardRef((r,i)=>{const{asChild:s,...o}=r,a=s?kl:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),S.jsx(a,{...o,ref:i})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function CF(t,e){t&&Yl.flushSync(()=>t.dispatchEvent(e))}function rs(t){const e=P.useRef(t);return P.useEffect(()=>{e.current=t}),P.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function cG(t,e=globalThis==null?void 0:globalThis.document){const n=rs(t);P.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var uG="DismissableLayer",$M="dismissableLayer.update",dG="dismissableLayer.pointerDownOutside",fG="dismissableLayer.focusOutside",mI,AF=P.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Om=P.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:a,...l}=t,c=P.useContext(AF),[d,h]=P.useState(null),p=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=P.useState({}),v=In(e,I=>h(I)),x=Array.from(c.layers),[y]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),g=x.indexOf(y),w=d?x.indexOf(d):-1,b=c.layersWithOutsidePointerEventsDisabled.size>0,E=w>=g,C=pG(I=>{const D=I.target,N=[...c.branches].some(R=>R.contains(D));!E||N||(i==null||i(I),o==null||o(I),I.defaultPrevented||a==null||a())},p),A=mG(I=>{const D=I.target;[...c.branches].some(R=>R.contains(D))||(s==null||s(I),o==null||o(I),I.defaultPrevented||a==null||a())},p);return cG(I=>{w===c.layers.size-1&&(r==null||r(I),!I.defaultPrevented&&a&&(I.preventDefault(),a()))},p),P.useEffect(()=>{if(d)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(mI=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(d)),c.layers.add(d),gI(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=mI)}},[d,p,n,c]),P.useEffect(()=>()=>{d&&(c.layers.delete(d),c.layersWithOutsidePointerEventsDisabled.delete(d),gI())},[d,c]),P.useEffect(()=>{const I=()=>m({});return document.addEventListener($M,I),()=>document.removeEventListener($M,I)},[]),S.jsx(mn.div,{...l,ref:v,style:{pointerEvents:b?E?"auto":"none":void 0,...t.style},onFocusCapture:zt(t.onFocusCapture,A.onFocusCapture),onBlurCapture:zt(t.onBlurCapture,A.onBlurCapture),onPointerDownCapture:zt(t.onPointerDownCapture,C.onPointerDownCapture)})});Om.displayName=uG;var hG="DismissableLayerBranch",PF=P.forwardRef((t,e)=>{const n=P.useContext(AF),r=P.useRef(null),i=In(e,r);return P.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),S.jsx(mn.div,{...t,ref:i})});PF.displayName=hG;function pG(t,e=globalThis==null?void 0:globalThis.document){const n=rs(t),r=P.useRef(!1),i=P.useRef(()=>{});return P.useEffect(()=>{const s=a=>{if(a.target&&!r.current){let l=function(){RF(dG,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=l,e.addEventListener("click",i.current,{once:!0})):l()}else e.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function mG(t,e=globalThis==null?void 0:globalThis.document){const n=rs(t),r=P.useRef(!1);return P.useEffect(()=>{const i=s=>{s.target&&!r.current&&RF(fG,n,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function gI(){const t=new CustomEvent($M);document.dispatchEvent(t)}function RF(t,e,n,{discrete:r}){const i=n.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?CF(i,s):i.dispatchEvent(s)}var gG=Om,vG=PF,ni=globalThis!=null&&globalThis.document?P.useLayoutEffect:()=>{},yG="Portal",S_=P.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[i,s]=P.useState(!1);ni(()=>s(!0),[]);const o=n||i&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?SF.createPortal(S.jsx(mn.div,{...r,ref:e}),o):null});S_.displayName=yG;function xG(t,e){return P.useReducer((n,r)=>e[n][r]??n,t)}var Bf=t=>{const{present:e,children:n}=t,r=_G(e),i=typeof n=="function"?n({present:r.isPresent}):P.Children.only(n),s=In(r.ref,wG(i));return typeof n=="function"||r.isPresent?P.cloneElement(i,{ref:s}):null};Bf.displayName="Presence";function _G(t){const[e,n]=P.useState(),r=P.useRef({}),i=P.useRef(t),s=P.useRef("none"),o=t?"mounted":"unmounted",[a,l]=xG(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return P.useEffect(()=>{const c=Av(r.current);s.current=a==="mounted"?c:"none"},[a]),ni(()=>{const c=r.current,d=i.current;if(d!==t){const p=s.current,m=Av(c);t?l("MOUNT"):m==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(d&&p!==m?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,l]),ni(()=>{if(e){let c;const d=e.ownerDocument.defaultView??window,h=m=>{const x=Av(r.current).includes(m.animationName);if(m.target===e&&x&&(l("ANIMATION_END"),!i.current)){const y=e.style.animationFillMode;e.style.animationFillMode="forwards",c=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=y)})}},p=m=>{m.target===e&&(s.current=Av(r.current))};return e.addEventListener("animationstart",p),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{d.clearTimeout(c),e.removeEventListener("animationstart",p),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:P.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function Av(t){return(t==null?void 0:t.animationName)||"none"}function wG(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function F0({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,i]=SG({defaultProp:e,onChange:n}),s=t!==void 0,o=s?t:r,a=rs(n),l=P.useCallback(c=>{if(s){const h=typeof c=="function"?c(t):c;h!==t&&a(h)}else i(c)},[s,t,i,a]);return[o,l]}function SG({defaultProp:t,onChange:e}){const n=P.useState(t),[r]=n,i=P.useRef(r),s=rs(e);return P.useEffect(()=>{i.current!==r&&(s(r),i.current=r)},[r,i,s]),n}var bG="VisuallyHidden",Fm=P.forwardRef((t,e)=>S.jsx(mn.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));Fm.displayName=bG;var MG=Fm,uC="ToastProvider",[dC,EG,TG]=TF("Toast"),[IF,Bhe]=w_("Toast",[TG]),[CG,b_]=IF(uC),NF=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:s=50,children:o}=t,[a,l]=P.useState(null),[c,d]=P.useState(0),h=P.useRef(!1),p=P.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${uC}\`. Expected non-empty \`string\`.`),S.jsx(dC.Provider,{scope:e,children:S.jsx(CG,{scope:e,label:n,duration:r,swipeDirection:i,swipeThreshold:s,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:P.useCallback(()=>d(m=>m+1),[]),onToastRemove:P.useCallback(()=>d(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:p,children:o})})};NF.displayName=uC;var LF="ToastViewport",AG=["F8"],YM="toast.viewportPause",qM="toast.viewportResume",DF=P.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=AG,label:i="Notifications ({hotkey})",...s}=t,o=b_(LF,n),a=EG(n),l=P.useRef(null),c=P.useRef(null),d=P.useRef(null),h=P.useRef(null),p=In(e,h,o.onViewportChange),m=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),v=o.toastCount>0;P.useEffect(()=>{const y=g=>{var b;r.length!==0&&r.every(E=>g[E]||g.code===E)&&((b=h.current)==null||b.focus())};return document.addEventListener("keydown",y),()=>document.removeEventListener("keydown",y)},[r]),P.useEffect(()=>{const y=l.current,g=h.current;if(v&&y&&g){const w=()=>{if(!o.isClosePausedRef.current){const A=new CustomEvent(YM);g.dispatchEvent(A),o.isClosePausedRef.current=!0}},b=()=>{if(o.isClosePausedRef.current){const A=new CustomEvent(qM);g.dispatchEvent(A),o.isClosePausedRef.current=!1}},E=A=>{!y.contains(A.relatedTarget)&&b()},C=()=>{y.contains(document.activeElement)||b()};return y.addEventListener("focusin",w),y.addEventListener("focusout",E),y.addEventListener("pointermove",w),y.addEventListener("pointerleave",C),window.addEventListener("blur",w),window.addEventListener("focus",b),()=>{y.removeEventListener("focusin",w),y.removeEventListener("focusout",E),y.removeEventListener("pointermove",w),y.removeEventListener("pointerleave",C),window.removeEventListener("blur",w),window.removeEventListener("focus",b)}}},[v,o.isClosePausedRef]);const x=P.useCallback(({tabbingDirection:y})=>{const w=a().map(b=>{const E=b.ref.current,C=[E,...VG(E)];return y==="forwards"?C:C.reverse()});return(y==="forwards"?w.reverse():w).flat()},[a]);return P.useEffect(()=>{const y=h.current;if(y){const g=w=>{var C,A,I;const b=w.altKey||w.ctrlKey||w.metaKey;if(w.key==="Tab"&&!b){const D=document.activeElement,N=w.shiftKey;if(w.target===y&&N){(C=c.current)==null||C.focus();return}const j=x({tabbingDirection:N?"backwards":"forwards"}),G=j.findIndex($=>$===D);v1(j.slice(G+1))?w.preventDefault():N?(A=c.current)==null||A.focus():(I=d.current)==null||I.focus()}};return y.addEventListener("keydown",g),()=>y.removeEventListener("keydown",g)}},[a,x]),S.jsxs(vG,{ref:l,role:"region","aria-label":i.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:v?void 0:"none"},children:[v&&S.jsx(ZM,{ref:c,onFocusFromOutsideViewport:()=>{const y=x({tabbingDirection:"forwards"});v1(y)}}),S.jsx(dC.Slot,{scope:n,children:S.jsx(mn.ol,{tabIndex:-1,...s,ref:p})}),v&&S.jsx(ZM,{ref:d,onFocusFromOutsideViewport:()=>{const y=x({tabbingDirection:"backwards"});v1(y)}})]})});DF.displayName=LF;var kF="ToastFocusProxy",ZM=P.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...i}=t,s=b_(kF,n);return S.jsx(Fm,{"aria-hidden":!0,tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:o=>{var c;const a=o.relatedTarget;!((c=s.viewport)!=null&&c.contains(a))&&r()}})});ZM.displayName=kF;var M_="Toast",PG="toast.swipeStart",RG="toast.swipeMove",IG="toast.swipeCancel",NG="toast.swipeEnd",OF=P.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:i,onOpenChange:s,...o}=t,[a=!0,l]=F0({prop:r,defaultProp:i,onChange:s});return S.jsx(Bf,{present:n||a,children:S.jsx(kG,{open:a,...o,ref:e,onClose:()=>l(!1),onPause:rs(t.onPause),onResume:rs(t.onResume),onSwipeStart:zt(t.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:zt(t.onSwipeMove,c=>{const{x:d,y:h}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:zt(t.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:zt(t.onSwipeEnd,c=>{const{x:d,y:h}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),l(!1)})})})});OF.displayName=M_;var[LG,DG]=IF(M_,{onClose(){}}),kG=P.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:i,open:s,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:c,onSwipeStart:d,onSwipeMove:h,onSwipeCancel:p,onSwipeEnd:m,...v}=t,x=b_(M_,n),[y,g]=P.useState(null),w=In(e,$=>g($)),b=P.useRef(null),E=P.useRef(null),C=i||x.duration,A=P.useRef(0),I=P.useRef(C),D=P.useRef(0),{onToastAdd:N,onToastRemove:R}=x,F=rs(()=>{var ne;(y==null?void 0:y.contains(document.activeElement))&&((ne=x.viewport)==null||ne.focus()),o()}),j=P.useCallback($=>{!$||$===1/0||(window.clearTimeout(D.current),A.current=new Date().getTime(),D.current=window.setTimeout(F,$))},[F]);P.useEffect(()=>{const $=x.viewport;if($){const ne=()=>{j(I.current),c==null||c()},J=()=>{const re=new Date().getTime()-A.current;I.current=I.current-re,window.clearTimeout(D.current),l==null||l()};return $.addEventListener(YM,J),$.addEventListener(qM,ne),()=>{$.removeEventListener(YM,J),$.removeEventListener(qM,ne)}}},[x.viewport,C,l,c,j]),P.useEffect(()=>{s&&!x.isClosePausedRef.current&&j(C)},[s,C,x.isClosePausedRef,j]),P.useEffect(()=>(N(),()=>R()),[N,R]);const G=P.useMemo(()=>y?HF(y):null,[y]);return x.viewport?S.jsxs(S.Fragment,{children:[G&&S.jsx(OG,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:G}),S.jsx(LG,{scope:n,onClose:F,children:Yl.createPortal(S.jsx(dC.ItemSlot,{scope:n,children:S.jsx(gG,{asChild:!0,onEscapeKeyDown:zt(a,()=>{x.isFocusedToastEscapeKeyDownRef.current||F(),x.isFocusedToastEscapeKeyDownRef.current=!1}),children:S.jsx(mn.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":x.swipeDirection,...v,ref:w,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:zt(t.onKeyDown,$=>{$.key==="Escape"&&(a==null||a($.nativeEvent),$.nativeEvent.defaultPrevented||(x.isFocusedToastEscapeKeyDownRef.current=!0,F()))}),onPointerDown:zt(t.onPointerDown,$=>{$.button===0&&(b.current={x:$.clientX,y:$.clientY})}),onPointerMove:zt(t.onPointerMove,$=>{if(!b.current)return;const ne=$.clientX-b.current.x,J=$.clientY-b.current.y,re=!!E.current,k=["left","right"].includes(x.swipeDirection),W=["left","up"].includes(x.swipeDirection)?Math.min:Math.max,q=k?W(0,ne):0,ee=k?0:W(0,J),de=$.pointerType==="touch"?10:2,Ae={x:q,y:ee},ae={originalEvent:$,delta:Ae};re?(E.current=Ae,Pv(RG,h,ae,{discrete:!1})):vI(Ae,x.swipeDirection,de)?(E.current=Ae,Pv(PG,d,ae,{discrete:!1}),$.target.setPointerCapture($.pointerId)):(Math.abs(ne)>de||Math.abs(J)>de)&&(b.current=null)}),onPointerUp:zt(t.onPointerUp,$=>{const ne=E.current,J=$.target;if(J.hasPointerCapture($.pointerId)&&J.releasePointerCapture($.pointerId),E.current=null,b.current=null,ne){const re=$.currentTarget,k={originalEvent:$,delta:ne};vI(ne,x.swipeDirection,x.swipeThreshold)?Pv(NG,m,k,{discrete:!0}):Pv(IG,p,k,{discrete:!0}),re.addEventListener("click",W=>W.preventDefault(),{once:!0})}})})})}),x.viewport)})]}):null}),OG=t=>{const{__scopeToast:e,children:n,...r}=t,i=b_(M_,e),[s,o]=P.useState(!1),[a,l]=P.useState(!1);return BG(()=>o(!0)),P.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:S.jsx(S_,{asChild:!0,children:S.jsx(Fm,{...r,children:s&&S.jsxs(S.Fragment,{children:[i.label," ",n]})})})},FG="ToastTitle",FF=P.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return S.jsx(mn.div,{...r,ref:e})});FF.displayName=FG;var UG="ToastDescription",UF=P.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return S.jsx(mn.div,{...r,ref:e})});UF.displayName=UG;var BF="ToastAction",zF=P.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?S.jsx(jF,{altText:n,asChild:!0,children:S.jsx(fC,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${BF}\`. Expected non-empty \`string\`.`),null)});zF.displayName=BF;var VF="ToastClose",fC=P.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,i=DG(VF,n);return S.jsx(jF,{asChild:!0,children:S.jsx(mn.button,{type:"button",...r,ref:e,onClick:zt(t.onClick,i.onClose)})})});fC.displayName=VF;var jF=P.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...i}=t;return S.jsx(mn.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:e})});function HF(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),zG(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",s=r.dataset.radixToastAnnounceExclude==="";if(!i)if(s){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...HF(r))}}),e}function Pv(t,e,n,{discrete:r}){const i=n.originalEvent.currentTarget,s=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?CF(i,s):i.dispatchEvent(s)}var vI=(t,e,n=0)=>{const r=Math.abs(t.x),i=Math.abs(t.y),s=r>i;return e==="left"||e==="right"?s&&r>n:!s&&i>n};function BG(t=()=>{}){const e=rs(t);ni(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function zG(t){return t.nodeType===t.ELEMENT_NODE}function VG(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function v1(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var jG=NF,WF=DF,GF=OF,XF=FF,$F=UF,YF=zF,qF=fC;function ZF(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=ZF(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function KF(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=ZF(t))&&(r&&(r+=" "),r+=e);return r}const yI=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,xI=KF,hC=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return xI(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:s}=e,o=Object.keys(i).map(c=>{const d=n==null?void 0:n[c],h=s==null?void 0:s[c];if(d===null)return null;const p=yI(d)||yI(h);return i[c][p]}),a=n&&Object.entries(n).reduce((c,d)=>{let[h,p]=d;return p===void 0||(c[h]=p),c},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,d)=>{let{class:h,className:p,...m}=d;return Object.entries(m).every(v=>{let[x,y]=v;return Array.isArray(y)?y.includes({...s,...a}[x]):{...s,...a}[x]===y})?[...c,h,p]:c},[]);return xI(t,o,l,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HG=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),QF=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var WG={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GG=P.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:o,...a},l)=>P.createElement("svg",{ref:l,...WG,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:QF("lucide",i),...a},[...o.map(([c,d])=>P.createElement(c,d)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yt=(t,e)=>{const n=P.forwardRef(({className:r,...i},s)=>P.createElement(GG,{ref:s,iconNode:e,className:QF(`lucide-${HG(t)}`,r),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JF=Yt("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XG=Yt("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $G=Yt("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eU=Yt("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tU=Yt("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YG=Yt("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qG=Yt("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZG=Yt("ChartNoAxesColumnIncreasing",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KG=Yt("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nU=Yt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QG=Yt("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gu=Yt("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JG=Yt("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rU=Yt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iU=Yt("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e9=Yt("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t9=Yt("Gem",[["path",{d:"M6 3h12l4 6-10 13L2 9Z",key:"1pcd5k"}],["path",{d:"M11 3 8 9l4 13 4-13-3-6",key:"1fcu3u"}],["path",{d:"M2 9h20",key:"16fsjt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n9=Yt("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r9=Yt("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i9=Yt("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sU=Yt("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oU=Yt("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s9=Yt("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o9=Yt("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aU=Yt("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a9=Yt("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l9=Yt("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c9=Yt("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u9=Yt("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lU=Yt("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d9=Yt("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f9=Yt("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _I=Yt("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h9=Yt("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p9=Yt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yp=Yt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qp=Yt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m9=Yt("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),pC="-",g9=t=>{const e=y9(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(pC);return a[0]===""&&a.length!==1&&a.shift(),cU(a,e)||v9(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},cU=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?cU(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const s=t.join(pC);return(o=e.validators.find(({validator:a})=>a(s)))==null?void 0:o.classGroupId},wI=/^\[(.+)\]$/,v9=t=>{if(wI.test(t)){const e=wI.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},y9=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return _9(Object.entries(t.classGroups),n).forEach(([s,o])=>{KM(o,r,s,e)}),r},KM=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const s=i===""?e:SI(e,i);s.classGroupId=n;return}if(typeof i=="function"){if(x9(i)){KM(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([s,o])=>{KM(o,SI(e,s),n,r)})})},SI=(t,e)=>{let n=t;return e.split(pC).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},x9=t=>t.isThemeGetter,_9=(t,e)=>e?t.map(([n,r])=>{const i=r.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([o,a])=>[e+o,a])):s);return[n,i]}):t,w9=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(s,o)=>{n.set(s,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(s){let o=n.get(s);if(o!==void 0)return o;if((o=r.get(s))!==void 0)return i(s,o),o},set(s,o){n.has(s)?n.set(s,o):i(s,o)}}},uU="!",S9=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,i=e[0],s=e.length,o=a=>{const l=[];let c=0,d=0,h;for(let y=0;y<a.length;y++){let g=a[y];if(c===0){if(g===i&&(r||a.slice(y,y+s)===e)){l.push(a.slice(d,y)),d=y+s;continue}if(g==="/"){h=y;continue}}g==="["?c++:g==="]"&&c--}const p=l.length===0?a:a.substring(d),m=p.startsWith(uU),v=m?p.substring(1):p,x=h&&h>d?h-d:void 0;return{modifiers:l,hasImportantModifier:m,baseClassName:v,maybePostfixModifierPosition:x}};return n?a=>n({className:a,parseClassName:o}):o},b9=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},M9=t=>({cache:w9(t.cacheSize),parseClassName:S9(t),...g9(t)}),E9=/\s+/,T9=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=e,s=[],o=t.trim().split(E9);let a="";for(let l=o.length-1;l>=0;l-=1){const c=o[l],{modifiers:d,hasImportantModifier:h,baseClassName:p,maybePostfixModifierPosition:m}=n(c);let v=!!m,x=r(v?p.substring(0,m):p);if(!x){if(!v){a=c+(a.length>0?" "+a:a);continue}if(x=r(p),!x){a=c+(a.length>0?" "+a:a);continue}v=!1}const y=b9(d).join(":"),g=h?y+uU:y,w=g+x;if(s.includes(w))continue;s.push(w);const b=i(x,v);for(let E=0;E<b.length;++E){const C=b[E];s.push(g+C)}a=c+(a.length>0?" "+a:a)}return a};function C9(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=dU(e))&&(r&&(r+=" "),r+=n);return r}const dU=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=dU(t[r]))&&(n&&(n+=" "),n+=e);return n};function A9(t,...e){let n,r,i,s=o;function o(l){const c=e.reduce((d,h)=>h(d),t());return n=M9(c),r=n.cache.get,i=n.cache.set,s=a,a(l)}function a(l){const c=r(l);if(c)return c;const d=T9(l,n);return i(l,d),d}return function(){return s(C9.apply(null,arguments))}}const Cn=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},fU=/^\[(?:([a-z-]+):)?(.+)\]$/i,P9=/^\d+\/\d+$/,R9=new Set(["px","full","screen"]),I9=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,N9=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,L9=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,D9=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,k9=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,qo=t=>Yd(t)||R9.has(t)||P9.test(t),Ga=t=>zf(t,"length",H9),Yd=t=>!!t&&!Number.isNaN(Number(t)),y1=t=>zf(t,"number",Yd),Th=t=>!!t&&Number.isInteger(Number(t)),O9=t=>t.endsWith("%")&&Yd(t.slice(0,-1)),Ut=t=>fU.test(t),Xa=t=>I9.test(t),F9=new Set(["length","size","percentage"]),U9=t=>zf(t,F9,hU),B9=t=>zf(t,"position",hU),z9=new Set(["image","url"]),V9=t=>zf(t,z9,G9),j9=t=>zf(t,"",W9),Ch=()=>!0,zf=(t,e,n)=>{const r=fU.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},H9=t=>N9.test(t)&&!L9.test(t),hU=()=>!1,W9=t=>D9.test(t),G9=t=>k9.test(t),X9=()=>{const t=Cn("colors"),e=Cn("spacing"),n=Cn("blur"),r=Cn("brightness"),i=Cn("borderColor"),s=Cn("borderRadius"),o=Cn("borderSpacing"),a=Cn("borderWidth"),l=Cn("contrast"),c=Cn("grayscale"),d=Cn("hueRotate"),h=Cn("invert"),p=Cn("gap"),m=Cn("gradientColorStops"),v=Cn("gradientColorStopPositions"),x=Cn("inset"),y=Cn("margin"),g=Cn("opacity"),w=Cn("padding"),b=Cn("saturate"),E=Cn("scale"),C=Cn("sepia"),A=Cn("skew"),I=Cn("space"),D=Cn("translate"),N=()=>["auto","contain","none"],R=()=>["auto","hidden","clip","visible","scroll"],F=()=>["auto",Ut,e],j=()=>[Ut,e],G=()=>["",qo,Ga],$=()=>["auto",Yd,Ut],ne=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],J=()=>["solid","dashed","dotted","double","none"],re=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],k=()=>["start","end","center","between","around","evenly","stretch"],W=()=>["","0",Ut],q=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ee=()=>[Yd,Ut];return{cacheSize:500,separator:":",theme:{colors:[Ch],spacing:[qo,Ga],blur:["none","",Xa,Ut],brightness:ee(),borderColor:[t],borderRadius:["none","","full",Xa,Ut],borderSpacing:j(),borderWidth:G(),contrast:ee(),grayscale:W(),hueRotate:ee(),invert:W(),gap:j(),gradientColorStops:[t],gradientColorStopPositions:[O9,Ga],inset:F(),margin:F(),opacity:ee(),padding:j(),saturate:ee(),scale:ee(),sepia:W(),skew:ee(),space:j(),translate:j()},classGroups:{aspect:[{aspect:["auto","square","video",Ut]}],container:["container"],columns:[{columns:[Xa]}],"break-after":[{"break-after":q()}],"break-before":[{"break-before":q()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...ne(),Ut]}],overflow:[{overflow:R()}],"overflow-x":[{"overflow-x":R()}],"overflow-y":[{"overflow-y":R()}],overscroll:[{overscroll:N()}],"overscroll-x":[{"overscroll-x":N()}],"overscroll-y":[{"overscroll-y":N()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[x]}],"inset-x":[{"inset-x":[x]}],"inset-y":[{"inset-y":[x]}],start:[{start:[x]}],end:[{end:[x]}],top:[{top:[x]}],right:[{right:[x]}],bottom:[{bottom:[x]}],left:[{left:[x]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Th,Ut]}],basis:[{basis:F()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ut]}],grow:[{grow:W()}],shrink:[{shrink:W()}],order:[{order:["first","last","none",Th,Ut]}],"grid-cols":[{"grid-cols":[Ch]}],"col-start-end":[{col:["auto",{span:["full",Th,Ut]},Ut]}],"col-start":[{"col-start":$()}],"col-end":[{"col-end":$()}],"grid-rows":[{"grid-rows":[Ch]}],"row-start-end":[{row:["auto",{span:[Th,Ut]},Ut]}],"row-start":[{"row-start":$()}],"row-end":[{"row-end":$()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ut]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ut]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...k()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...k(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...k(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[w]}],px:[{px:[w]}],py:[{py:[w]}],ps:[{ps:[w]}],pe:[{pe:[w]}],pt:[{pt:[w]}],pr:[{pr:[w]}],pb:[{pb:[w]}],pl:[{pl:[w]}],m:[{m:[y]}],mx:[{mx:[y]}],my:[{my:[y]}],ms:[{ms:[y]}],me:[{me:[y]}],mt:[{mt:[y]}],mr:[{mr:[y]}],mb:[{mb:[y]}],ml:[{ml:[y]}],"space-x":[{"space-x":[I]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[I]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ut,e]}],"min-w":[{"min-w":[Ut,e,"min","max","fit"]}],"max-w":[{"max-w":[Ut,e,"none","full","min","max","fit","prose",{screen:[Xa]},Xa]}],h:[{h:[Ut,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ut,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ut,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ut,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Xa,Ga]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",y1]}],"font-family":[{font:[Ch]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ut]}],"line-clamp":[{"line-clamp":["none",Yd,y1]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",qo,Ut]}],"list-image":[{"list-image":["none",Ut]}],"list-style-type":[{list:["none","disc","decimal",Ut]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[g]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[g]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...J(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",qo,Ga]}],"underline-offset":[{"underline-offset":["auto",qo,Ut]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:j()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ut]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ut]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[g]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...ne(),B9]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",U9]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},V9]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[v]}],"gradient-via-pos":[{via:[v]}],"gradient-to-pos":[{to:[v]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[g]}],"border-style":[{border:[...J(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[g]}],"divide-style":[{divide:J()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...J()]}],"outline-offset":[{"outline-offset":[qo,Ut]}],"outline-w":[{outline:[qo,Ga]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:G()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[g]}],"ring-offset-w":[{"ring-offset":[qo,Ga]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Xa,j9]}],"shadow-color":[{shadow:[Ch]}],opacity:[{opacity:[g]}],"mix-blend":[{"mix-blend":[...re(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":re()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Xa,Ut]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[h]}],saturate:[{saturate:[b]}],sepia:[{sepia:[C]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[g]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[C]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ut]}],duration:[{duration:ee()}],ease:[{ease:["linear","in","out","in-out",Ut]}],delay:[{delay:ee()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ut]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[E]}],"scale-x":[{"scale-x":[E]}],"scale-y":[{"scale-y":[E]}],rotate:[{rotate:[Th,Ut]}],"translate-x":[{"translate-x":[D]}],"translate-y":[{"translate-y":[D]}],"skew-x":[{"skew-x":[A]}],"skew-y":[{"skew-y":[A]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ut]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ut]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":j()}],"scroll-mx":[{"scroll-mx":j()}],"scroll-my":[{"scroll-my":j()}],"scroll-ms":[{"scroll-ms":j()}],"scroll-me":[{"scroll-me":j()}],"scroll-mt":[{"scroll-mt":j()}],"scroll-mr":[{"scroll-mr":j()}],"scroll-mb":[{"scroll-mb":j()}],"scroll-ml":[{"scroll-ml":j()}],"scroll-p":[{"scroll-p":j()}],"scroll-px":[{"scroll-px":j()}],"scroll-py":[{"scroll-py":j()}],"scroll-ps":[{"scroll-ps":j()}],"scroll-pe":[{"scroll-pe":j()}],"scroll-pt":[{"scroll-pt":j()}],"scroll-pr":[{"scroll-pr":j()}],"scroll-pb":[{"scroll-pb":j()}],"scroll-pl":[{"scroll-pl":j()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ut]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[qo,Ga,y1]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},$9=A9(X9);function wn(...t){return $9(KF(t))}async function mC(t,e){try{const n=new FormData;return Object.entries(t).forEach(([i,s])=>{n.append(i,s)}),(await fetch(e,{method:"POST",body:n})).ok?{success:!0,message:"Data sent successfully"}:{success:!1,message:"Failed to send data"}}catch(n){return console.error("Error sending to Google Sheets:",n),{success:!1,message:"Network error occurred"}}}const Y9=jG,pU=P.forwardRef(({className:t,...e},n)=>S.jsx(WF,{ref:n,className:wn("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));pU.displayName=WF.displayName;const q9=hC("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),mU=P.forwardRef(({className:t,variant:e,...n},r)=>S.jsx(GF,{ref:r,className:wn(q9({variant:e}),t),...n}));mU.displayName=GF.displayName;const Z9=P.forwardRef(({className:t,...e},n)=>S.jsx(YF,{ref:n,className:wn("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));Z9.displayName=YF.displayName;const gU=P.forwardRef(({className:t,...e},n)=>S.jsx(qF,{ref:n,className:wn("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:S.jsx(qp,{className:"h-4 w-4"})}));gU.displayName=qF.displayName;const vU=P.forwardRef(({className:t,...e},n)=>S.jsx(XF,{ref:n,className:wn("text-sm font-semibold",t),...e}));vU.displayName=XF.displayName;const yU=P.forwardRef(({className:t,...e},n)=>S.jsx($F,{ref:n,className:wn("text-sm opacity-90",t),...e}));yU.displayName=$F.displayName;function K9(){const{toasts:t}=JW();return S.jsxs(Y9,{children:[t.map(function({id:e,title:n,description:r,action:i,...s}){return S.jsxs(mU,{...s,children:[S.jsxs("div",{className:"grid gap-1",children:[n&&S.jsx(vU,{children:n}),r&&S.jsx(yU,{children:r})]}),i,S.jsx(gU,{})]},e)}),S.jsx(pU,{})]})}var bI=["light","dark"],Q9="(prefers-color-scheme: dark)",J9=P.createContext(void 0),e7={setTheme:t=>{},themes:[]},t7=()=>{var t;return(t=P.useContext(J9))!=null?t:e7};P.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:i,defaultTheme:s,value:o,attrs:a,nonce:l})=>{let c=s==="system",d=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(v=>`'${v}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,h=i?bI.includes(s)&&s?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${s}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",p=(v,x=!1,y=!0)=>{let g=o?o[v]:v,w=x?v+"|| ''":`'${g}'`,b="";return i&&y&&!x&&bI.includes(v)&&(b+=`d.style.colorScheme = '${v}';`),n==="class"?x||g?b+=`c.add(${w})`:b+="null":g&&(b+=`d[s](n,${w})`),b},m=t?`!function(){${d}${p(t)}}()`:r?`!function(){try{${d}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${c})){var t='${Q9}',m=window.matchMedia(t);if(m.media!==t||m.matches){${p("dark")}}else{${p("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${p(o?"x[e]":"e",!0)}}${c?"":"else{"+p(s,!1,!1)+"}"}${h}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${p(o?"x[e]":"e",!0)}}else{${p(s,!1,!1)};}${h}}catch(t){}}();`;return P.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:m}})});var n7=t=>{switch(t){case"success":return s7;case"info":return a7;case"warning":return o7;case"error":return l7;default:return null}},r7=Array(12).fill(0),i7=({visible:t})=>Le.createElement("div",{className:"sonner-loading-wrapper","data-visible":t},Le.createElement("div",{className:"sonner-spinner"},r7.map((e,n)=>Le.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),s7=Le.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Le.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),o7=Le.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},Le.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),a7=Le.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Le.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),l7=Le.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Le.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),c7=()=>{let[t,e]=Le.useState(document.hidden);return Le.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},QM=1,u7=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:n,...r}=t,i=typeof(t==null?void 0:t.id)=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:QM++,s=this.toasts.find(a=>a.id===i),o=t.dismissible===void 0?!0:t.dismissible;return s?this.toasts=this.toasts.map(a=>a.id===i?(this.publish({...a,...t,id:i,title:n}),{...a,...t,id:i,dismissible:o,title:n}):a):this.addToast({title:n,...r,dismissible:o,id:i}),i},this.dismiss=t=>(t||this.toasts.forEach(e=>{this.subscribers.forEach(n=>n({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let n;e.loading!==void 0&&(n=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let r=t instanceof Promise?t:t(),i=n!==void 0;return r.then(async s=>{if(f7(s)&&!s.ok){i=!1;let o=typeof e.error=="function"?await e.error(`HTTP error! status: ${s.status}`):e.error,a=typeof e.description=="function"?await e.description(`HTTP error! status: ${s.status}`):e.description;this.create({id:n,type:"error",message:o,description:a})}else if(e.success!==void 0){i=!1;let o=typeof e.success=="function"?await e.success(s):e.success,a=typeof e.description=="function"?await e.description(s):e.description;this.create({id:n,type:"success",message:o,description:a})}}).catch(async s=>{if(e.error!==void 0){i=!1;let o=typeof e.error=="function"?await e.error(s):e.error,a=typeof e.description=="function"?await e.description(s):e.description;this.create({id:n,type:"error",message:o,description:a})}}).finally(()=>{var s;i&&(this.dismiss(n),n=void 0),(s=e.finally)==null||s.call(e)}),n},this.custom=(t,e)=>{let n=(e==null?void 0:e.id)||QM++;return this.create({jsx:t(n),id:n,...e}),n},this.subscribers=[],this.toasts=[]}},qi=new u7,d7=(t,e)=>{let n=(e==null?void 0:e.id)||QM++;return qi.addToast({title:t,...e,id:n}),n},f7=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",h7=d7,p7=()=>qi.toasts,_l=Object.assign(h7,{success:qi.success,info:qi.info,warning:qi.warning,error:qi.error,custom:qi.custom,message:qi.message,promise:qi.promise,dismiss:qi.dismiss,loading:qi.loading},{getHistory:p7});function m7(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}m7(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Rv(t){return t.label!==void 0}var g7=3,v7="32px",y7=4e3,x7=356,_7=14,w7=20,S7=200;function b7(...t){return t.filter(Boolean).join(" ")}var M7=t=>{var e,n,r,i,s,o,a,l,c,d;let{invert:h,toast:p,unstyled:m,interacting:v,setHeights:x,visibleToasts:y,heights:g,index:w,toasts:b,expanded:E,removeToast:C,defaultRichColors:A,closeButton:I,style:D,cancelButtonStyle:N,actionButtonStyle:R,className:F="",descriptionClassName:j="",duration:G,position:$,gap:ne,loadingIcon:J,expandByDefault:re,classNames:k,icons:W,closeButtonAriaLabel:q="Close toast",pauseWhenPageIsHidden:ee,cn:de}=t,[Ae,ae]=Le.useState(!1),[be,Ee]=Le.useState(!1),[me,ke]=Le.useState(!1),[tt,Fe]=Le.useState(!1),[nt,qe]=Le.useState(0),[Ye,V]=Le.useState(0),Oe=Le.useRef(null),Re=Le.useRef(null),Ue=w===0,B=w+1<=y,Z=p.type,Q=p.dismissible!==!1,ge=p.className||"",Se=p.descriptionClassName||"",U=Le.useMemo(()=>g.findIndex(_e=>_e.toastId===p.id)||0,[g,p.id]),O=Le.useMemo(()=>{var _e;return(_e=p.closeButton)!=null?_e:I},[p.closeButton,I]),te=Le.useMemo(()=>p.duration||G||y7,[p.duration,G]),ue=Le.useRef(0),ye=Le.useRef(0),ve=Le.useRef(0),rt=Le.useRef(null),[He,it]=$.split("-"),ct=Le.useMemo(()=>g.reduce((_e,Y,Me)=>Me>=U?_e:_e+Y.height,0),[g,U]),Ie=c7(),Qe=p.invert||h,gt=Z==="loading";ye.current=Le.useMemo(()=>U*ne+ct,[U,ct]),Le.useEffect(()=>{ae(!0)},[]),Le.useLayoutEffect(()=>{if(!Ae)return;let _e=Re.current,Y=_e.style.height;_e.style.height="auto";let Me=_e.getBoundingClientRect().height;_e.style.height=Y,V(Me),x(Ce=>Ce.find(We=>We.toastId===p.id)?Ce.map(We=>We.toastId===p.id?{...We,height:Me}:We):[{toastId:p.id,height:Me,position:p.position},...Ce])},[Ae,p.title,p.description,x,p.id]);let K=Le.useCallback(()=>{Ee(!0),qe(ye.current),x(_e=>_e.filter(Y=>Y.toastId!==p.id)),setTimeout(()=>{C(p)},S7)},[p,C,x,ye]);Le.useEffect(()=>{if(p.promise&&Z==="loading"||p.duration===1/0||p.type==="loading")return;let _e,Y=te;return E||v||ee&&Ie?(()=>{if(ve.current<ue.current){let Me=new Date().getTime()-ue.current;Y=Y-Me}ve.current=new Date().getTime()})():Y!==1/0&&(ue.current=new Date().getTime(),_e=setTimeout(()=>{var Me;(Me=p.onAutoClose)==null||Me.call(p,p),K()},Y)),()=>clearTimeout(_e)},[E,v,re,p,te,K,p.promise,Z,ee,Ie]),Le.useEffect(()=>{let _e=Re.current;if(_e){let Y=_e.getBoundingClientRect().height;return V(Y),x(Me=>[{toastId:p.id,height:Y,position:p.position},...Me]),()=>x(Me=>Me.filter(Ce=>Ce.toastId!==p.id))}},[x,p.id]),Le.useEffect(()=>{p.delete&&K()},[K,p.delete]);function ce(){return W!=null&&W.loading?Le.createElement("div",{className:"sonner-loader","data-visible":Z==="loading"},W.loading):J?Le.createElement("div",{className:"sonner-loader","data-visible":Z==="loading"},J):Le.createElement(i7,{visible:Z==="loading"})}return Le.createElement("li",{"aria-live":p.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:Re,className:de(F,ge,k==null?void 0:k.toast,(e=p==null?void 0:p.classNames)==null?void 0:e.toast,k==null?void 0:k.default,k==null?void 0:k[Z],(n=p==null?void 0:p.classNames)==null?void 0:n[Z]),"data-sonner-toast":"","data-rich-colors":(r=p.richColors)!=null?r:A,"data-styled":!(p.jsx||p.unstyled||m),"data-mounted":Ae,"data-promise":!!p.promise,"data-removed":be,"data-visible":B,"data-y-position":He,"data-x-position":it,"data-index":w,"data-front":Ue,"data-swiping":me,"data-dismissible":Q,"data-type":Z,"data-invert":Qe,"data-swipe-out":tt,"data-expanded":!!(E||re&&Ae),style:{"--index":w,"--toasts-before":w,"--z-index":b.length-w,"--offset":`${be?nt:ye.current}px`,"--initial-height":re?"auto":`${Ye}px`,...D,...p.style},onPointerDown:_e=>{gt||!Q||(Oe.current=new Date,qe(ye.current),_e.target.setPointerCapture(_e.pointerId),_e.target.tagName!=="BUTTON"&&(ke(!0),rt.current={x:_e.clientX,y:_e.clientY}))},onPointerUp:()=>{var _e,Y,Me,Ce;if(tt||!Q)return;rt.current=null;let We=Number(((_e=Re.current)==null?void 0:_e.style.getPropertyValue("--swipe-amount").replace("px",""))||0),De=new Date().getTime()-((Y=Oe.current)==null?void 0:Y.getTime()),Pe=Math.abs(We)/De;if(Math.abs(We)>=w7||Pe>.11){qe(ye.current),(Me=p.onDismiss)==null||Me.call(p,p),K(),Fe(!0);return}(Ce=Re.current)==null||Ce.style.setProperty("--swipe-amount","0px"),ke(!1)},onPointerMove:_e=>{var Y;if(!rt.current||!Q)return;let Me=_e.clientY-rt.current.y,Ce=_e.clientX-rt.current.x,We=(He==="top"?Math.min:Math.max)(0,Me),De=_e.pointerType==="touch"?10:2;Math.abs(We)>De?(Y=Re.current)==null||Y.style.setProperty("--swipe-amount",`${Me}px`):Math.abs(Ce)>De&&(rt.current=null)}},O&&!p.jsx?Le.createElement("button",{"aria-label":q,"data-disabled":gt,"data-close-button":!0,onClick:gt||!Q?()=>{}:()=>{var _e;K(),(_e=p.onDismiss)==null||_e.call(p,p)},className:de(k==null?void 0:k.closeButton,(i=p==null?void 0:p.classNames)==null?void 0:i.closeButton)},Le.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},Le.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Le.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,p.jsx||Le.isValidElement(p.title)?p.jsx||p.title:Le.createElement(Le.Fragment,null,Z||p.icon||p.promise?Le.createElement("div",{"data-icon":"",className:de(k==null?void 0:k.icon,(s=p==null?void 0:p.classNames)==null?void 0:s.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||ce():null,p.type!=="loading"?p.icon||(W==null?void 0:W[Z])||n7(Z):null):null,Le.createElement("div",{"data-content":"",className:de(k==null?void 0:k.content,(o=p==null?void 0:p.classNames)==null?void 0:o.content)},Le.createElement("div",{"data-title":"",className:de(k==null?void 0:k.title,(a=p==null?void 0:p.classNames)==null?void 0:a.title)},p.title),p.description?Le.createElement("div",{"data-description":"",className:de(j,Se,k==null?void 0:k.description,(l=p==null?void 0:p.classNames)==null?void 0:l.description)},p.description):null),Le.isValidElement(p.cancel)?p.cancel:p.cancel&&Rv(p.cancel)?Le.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||N,onClick:_e=>{var Y,Me;Rv(p.cancel)&&Q&&((Me=(Y=p.cancel).onClick)==null||Me.call(Y,_e),K())},className:de(k==null?void 0:k.cancelButton,(c=p==null?void 0:p.classNames)==null?void 0:c.cancelButton)},p.cancel.label):null,Le.isValidElement(p.action)?p.action:p.action&&Rv(p.action)?Le.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||R,onClick:_e=>{var Y,Me;Rv(p.action)&&(_e.defaultPrevented||((Me=(Y=p.action).onClick)==null||Me.call(Y,_e),K()))},className:de(k==null?void 0:k.actionButton,(d=p==null?void 0:p.classNames)==null?void 0:d.actionButton)},p.action.label):null))};function MI(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}var E7=t=>{let{invert:e,position:n="bottom-right",hotkey:r=["altKey","KeyT"],expand:i,closeButton:s,className:o,offset:a,theme:l="light",richColors:c,duration:d,style:h,visibleToasts:p=g7,toastOptions:m,dir:v=MI(),gap:x=_7,loadingIcon:y,icons:g,containerAriaLabel:w="Notifications",pauseWhenPageIsHidden:b,cn:E=b7}=t,[C,A]=Le.useState([]),I=Le.useMemo(()=>Array.from(new Set([n].concat(C.filter(ee=>ee.position).map(ee=>ee.position)))),[C,n]),[D,N]=Le.useState([]),[R,F]=Le.useState(!1),[j,G]=Le.useState(!1),[$,ne]=Le.useState(l!=="system"?l:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),J=Le.useRef(null),re=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),k=Le.useRef(null),W=Le.useRef(!1),q=Le.useCallback(ee=>{var de;(de=C.find(Ae=>Ae.id===ee.id))!=null&&de.delete||qi.dismiss(ee.id),A(Ae=>Ae.filter(({id:ae})=>ae!==ee.id))},[C]);return Le.useEffect(()=>qi.subscribe(ee=>{if(ee.dismiss){A(de=>de.map(Ae=>Ae.id===ee.id?{...Ae,delete:!0}:Ae));return}setTimeout(()=>{SF.flushSync(()=>{A(de=>{let Ae=de.findIndex(ae=>ae.id===ee.id);return Ae!==-1?[...de.slice(0,Ae),{...de[Ae],...ee},...de.slice(Ae+1)]:[ee,...de]})})})}),[]),Le.useEffect(()=>{if(l!=="system"){ne(l);return}l==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?ne("dark"):ne("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:ee})=>{ne(ee?"dark":"light")})},[l]),Le.useEffect(()=>{C.length<=1&&F(!1)},[C]),Le.useEffect(()=>{let ee=de=>{var Ae,ae;r.every(be=>de[be]||de.code===be)&&(F(!0),(Ae=J.current)==null||Ae.focus()),de.code==="Escape"&&(document.activeElement===J.current||(ae=J.current)!=null&&ae.contains(document.activeElement))&&F(!1)};return document.addEventListener("keydown",ee),()=>document.removeEventListener("keydown",ee)},[r]),Le.useEffect(()=>{if(J.current)return()=>{k.current&&(k.current.focus({preventScroll:!0}),k.current=null,W.current=!1)}},[J.current]),C.length?Le.createElement("section",{"aria-label":`${w} ${re}`,tabIndex:-1},I.map((ee,de)=>{var Ae;let[ae,be]=ee.split("-");return Le.createElement("ol",{key:ee,dir:v==="auto"?MI():v,tabIndex:-1,ref:J,className:o,"data-sonner-toaster":!0,"data-theme":$,"data-y-position":ae,"data-x-position":be,style:{"--front-toast-height":`${((Ae=D[0])==null?void 0:Ae.height)||0}px`,"--offset":typeof a=="number"?`${a}px`:a||v7,"--width":`${x7}px`,"--gap":`${x}px`,...h},onBlur:Ee=>{W.current&&!Ee.currentTarget.contains(Ee.relatedTarget)&&(W.current=!1,k.current&&(k.current.focus({preventScroll:!0}),k.current=null))},onFocus:Ee=>{Ee.target instanceof HTMLElement&&Ee.target.dataset.dismissible==="false"||W.current||(W.current=!0,k.current=Ee.relatedTarget)},onMouseEnter:()=>F(!0),onMouseMove:()=>F(!0),onMouseLeave:()=>{j||F(!1)},onPointerDown:Ee=>{Ee.target instanceof HTMLElement&&Ee.target.dataset.dismissible==="false"||G(!0)},onPointerUp:()=>G(!1)},C.filter(Ee=>!Ee.position&&de===0||Ee.position===ee).map((Ee,me)=>{var ke,tt;return Le.createElement(M7,{key:Ee.id,icons:g,index:me,toast:Ee,defaultRichColors:c,duration:(ke=m==null?void 0:m.duration)!=null?ke:d,className:m==null?void 0:m.className,descriptionClassName:m==null?void 0:m.descriptionClassName,invert:e,visibleToasts:p,closeButton:(tt=m==null?void 0:m.closeButton)!=null?tt:s,interacting:j,position:ee,style:m==null?void 0:m.style,unstyled:m==null?void 0:m.unstyled,classNames:m==null?void 0:m.classNames,cancelButtonStyle:m==null?void 0:m.cancelButtonStyle,actionButtonStyle:m==null?void 0:m.actionButtonStyle,removeToast:q,toasts:C.filter(Fe=>Fe.position==Ee.position),heights:D.filter(Fe=>Fe.position==Ee.position),setHeights:N,expandByDefault:i,gap:x,loadingIcon:y,expanded:R,pauseWhenPageIsHidden:b,cn:E})}))})):null};const T7=({...t})=>{const{theme:e="system"}=t7();return S.jsx(E7,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var C7=x3.useId||(()=>{}),A7=0;function qd(t){const[e,n]=P.useState(C7());return ni(()=>{n(r=>r??String(A7++))},[t]),e?`radix-${e}`:""}const P7=["top","right","bottom","left"],Ol=Math.min,Ki=Math.max,U0=Math.round,Iv=Math.floor,Fl=t=>({x:t,y:t}),R7={left:"right",right:"left",bottom:"top",top:"bottom"},I7={start:"end",end:"start"};function JM(t,e,n){return Ki(t,Ol(e,n))}function Sa(t,e){return typeof t=="function"?t(e):t}function ba(t){return t.split("-")[0]}function Vf(t){return t.split("-")[1]}function gC(t){return t==="x"?"y":"x"}function vC(t){return t==="y"?"height":"width"}function Ul(t){return["top","bottom"].includes(ba(t))?"y":"x"}function yC(t){return gC(Ul(t))}function N7(t,e,n){n===void 0&&(n=!1);const r=Vf(t),i=yC(t),s=vC(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=B0(o)),[o,B0(o)]}function L7(t){const e=B0(t);return[eE(t),e,eE(e)]}function eE(t){return t.replace(/start|end/g,e=>I7[e])}function D7(t,e,n){const r=["left","right"],i=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:r:e?r:i;case"left":case"right":return e?s:o;default:return[]}}function k7(t,e,n,r){const i=Vf(t);let s=D7(ba(t),n==="start",r);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(eE)))),s}function B0(t){return t.replace(/left|right|bottom|top/g,e=>R7[e])}function O7(t){return{top:0,right:0,bottom:0,left:0,...t}}function xU(t){return typeof t!="number"?O7(t):{top:t,right:t,bottom:t,left:t}}function z0(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function EI(t,e,n){let{reference:r,floating:i}=t;const s=Ul(e),o=yC(e),a=vC(o),l=ba(e),c=s==="y",d=r.x+r.width/2-i.width/2,h=r.y+r.height/2-i.height/2,p=r[a]/2-i[a]/2;let m;switch(l){case"top":m={x:d,y:r.y-i.height};break;case"bottom":m={x:d,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:h};break;case"left":m={x:r.x-i.width,y:h};break;default:m={x:r.x,y:r.y}}switch(Vf(e)){case"start":m[o]-=p*(n&&c?-1:1);break;case"end":m[o]+=p*(n&&c?-1:1);break}return m}const F7=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:d,y:h}=EI(c,r,l),p=r,m={},v=0;for(let x=0;x<a.length;x++){const{name:y,fn:g}=a[x],{x:w,y:b,data:E,reset:C}=await g({x:d,y:h,initialPlacement:r,placement:p,strategy:i,middlewareData:m,rects:c,platform:o,elements:{reference:t,floating:e}});d=w??d,h=b??h,m={...m,[y]:{...m[y],...E}},C&&v<=50&&(v++,typeof C=="object"&&(C.placement&&(p=C.placement),C.rects&&(c=C.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):C.rects),{x:d,y:h}=EI(c,p,l)),x=-1)}return{x:d,y:h,placement:p,strategy:i,middlewareData:m}};async function Zp(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:p=!1,padding:m=0}=Sa(e,t),v=xU(m),y=a[p?h==="floating"?"reference":"floating":h],g=z0(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(y)))==null||n?y:y.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:c,rootBoundary:d,strategy:l})),w=h==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,b=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),E=await(s.isElement==null?void 0:s.isElement(b))?await(s.getScale==null?void 0:s.getScale(b))||{x:1,y:1}:{x:1,y:1},C=z0(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:w,offsetParent:b,strategy:l}):w);return{top:(g.top-C.top+v.top)/E.y,bottom:(C.bottom-g.bottom+v.bottom)/E.y,left:(g.left-C.left+v.left)/E.x,right:(C.right-g.right+v.right)/E.x}}const U7=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:s,platform:o,elements:a,middlewareData:l}=e,{element:c,padding:d=0}=Sa(t,e)||{};if(c==null)return{};const h=xU(d),p={x:n,y:r},m=yC(i),v=vC(m),x=await o.getDimensions(c),y=m==="y",g=y?"top":"left",w=y?"bottom":"right",b=y?"clientHeight":"clientWidth",E=s.reference[v]+s.reference[m]-p[m]-s.floating[v],C=p[m]-s.reference[m],A=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let I=A?A[b]:0;(!I||!await(o.isElement==null?void 0:o.isElement(A)))&&(I=a.floating[b]||s.floating[v]);const D=E/2-C/2,N=I/2-x[v]/2-1,R=Ol(h[g],N),F=Ol(h[w],N),j=R,G=I-x[v]-F,$=I/2-x[v]/2+D,ne=JM(j,$,G),J=!l.arrow&&Vf(i)!=null&&$!==ne&&s.reference[v]/2-($<j?R:F)-x[v]/2<0,re=J?$<j?$-j:$-G:0;return{[m]:p[m]+re,data:{[m]:ne,centerOffset:$-ne-re,...J&&{alignmentOffset:re}},reset:J}}}),B7=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:p,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:x=!0,...y}=Sa(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const g=ba(i),w=Ul(a),b=ba(a)===a,E=await(l.isRTL==null?void 0:l.isRTL(c.floating)),C=p||(b||!x?[B0(a)]:L7(a)),A=v!=="none";!p&&A&&C.push(...k7(a,x,v,E));const I=[a,...C],D=await Zp(e,y),N=[];let R=((r=s.flip)==null?void 0:r.overflows)||[];if(d&&N.push(D[g]),h){const $=N7(i,o,E);N.push(D[$[0]],D[$[1]])}if(R=[...R,{placement:i,overflows:N}],!N.every($=>$<=0)){var F,j;const $=(((F=s.flip)==null?void 0:F.index)||0)+1,ne=I[$];if(ne)return{data:{index:$,overflows:R},reset:{placement:ne}};let J=(j=R.filter(re=>re.overflows[0]<=0).sort((re,k)=>re.overflows[1]-k.overflows[1])[0])==null?void 0:j.placement;if(!J)switch(m){case"bestFit":{var G;const re=(G=R.filter(k=>{if(A){const W=Ul(k.placement);return W===w||W==="y"}return!0}).map(k=>[k.placement,k.overflows.filter(W=>W>0).reduce((W,q)=>W+q,0)]).sort((k,W)=>k[1]-W[1])[0])==null?void 0:G[0];re&&(J=re);break}case"initialPlacement":J=a;break}if(i!==J)return{reset:{placement:J}}}return{}}}};function TI(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function CI(t){return P7.some(e=>t[e]>=0)}const z7=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=Sa(t,e);switch(r){case"referenceHidden":{const s=await Zp(e,{...i,elementContext:"reference"}),o=TI(s,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:CI(o)}}}case"escaped":{const s=await Zp(e,{...i,altBoundary:!0}),o=TI(s,n.floating);return{data:{escapedOffsets:o,escaped:CI(o)}}}default:return{}}}}};async function V7(t,e){const{placement:n,platform:r,elements:i}=t,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=ba(n),a=Vf(n),l=Ul(n)==="y",c=["left","top"].includes(o)?-1:1,d=s&&l?-1:1,h=Sa(e,t);let{mainAxis:p,crossAxis:m,alignmentAxis:v}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return a&&typeof v=="number"&&(m=a==="end"?v*-1:v),l?{x:m*d,y:p*c}:{x:p*c,y:m*d}}const j7=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:s,placement:o,middlewareData:a}=e,l=await V7(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:o}}}}},H7=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:y=>{let{x:g,y:w}=y;return{x:g,y:w}}},...l}=Sa(t,e),c={x:n,y:r},d=await Zp(e,l),h=Ul(ba(i)),p=gC(h);let m=c[p],v=c[h];if(s){const y=p==="y"?"top":"left",g=p==="y"?"bottom":"right",w=m+d[y],b=m-d[g];m=JM(w,m,b)}if(o){const y=h==="y"?"top":"left",g=h==="y"?"bottom":"right",w=v+d[y],b=v-d[g];v=JM(w,v,b)}const x=a.fn({...e,[p]:m,[h]:v});return{...x,data:{x:x.x-n,y:x.y-r,enabled:{[p]:s,[h]:o}}}}}},W7=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:s,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=Sa(t,e),d={x:n,y:r},h=Ul(i),p=gC(h);let m=d[p],v=d[h];const x=Sa(a,e),y=typeof x=="number"?{mainAxis:x,crossAxis:0}:{mainAxis:0,crossAxis:0,...x};if(l){const b=p==="y"?"height":"width",E=s.reference[p]-s.floating[b]+y.mainAxis,C=s.reference[p]+s.reference[b]-y.mainAxis;m<E?m=E:m>C&&(m=C)}if(c){var g,w;const b=p==="y"?"width":"height",E=["top","left"].includes(ba(i)),C=s.reference[h]-s.floating[b]+(E&&((g=o.offset)==null?void 0:g[h])||0)+(E?0:y.crossAxis),A=s.reference[h]+s.reference[b]+(E?0:((w=o.offset)==null?void 0:w[h])||0)-(E?y.crossAxis:0);v<C?v=C:v>A&&(v=A)}return{[p]:m,[h]:v}}}},G7=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:s,platform:o,elements:a}=e,{apply:l=()=>{},...c}=Sa(t,e),d=await Zp(e,c),h=ba(i),p=Vf(i),m=Ul(i)==="y",{width:v,height:x}=s.floating;let y,g;h==="top"||h==="bottom"?(y=h,g=p===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(g=h,y=p==="end"?"top":"bottom");const w=x-d.top-d.bottom,b=v-d.left-d.right,E=Ol(x-d[y],w),C=Ol(v-d[g],b),A=!e.middlewareData.shift;let I=E,D=C;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(D=b),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(I=w),A&&!p){const R=Ki(d.left,0),F=Ki(d.right,0),j=Ki(d.top,0),G=Ki(d.bottom,0);m?D=v-2*(R!==0||F!==0?R+F:Ki(d.left,d.right)):I=x-2*(j!==0||G!==0?j+G:Ki(d.top,d.bottom))}await l({...e,availableWidth:D,availableHeight:I});const N=await o.getDimensions(a.floating);return v!==N.width||x!==N.height?{reset:{rects:!0}}:{}}}};function E_(){return typeof window<"u"}function jf(t){return _U(t)?(t.nodeName||"").toLowerCase():"#document"}function es(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Uo(t){var e;return(e=(_U(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function _U(t){return E_()?t instanceof Node||t instanceof es(t).Node:!1}function Js(t){return E_()?t instanceof Element||t instanceof es(t).Element:!1}function ko(t){return E_()?t instanceof HTMLElement||t instanceof es(t).HTMLElement:!1}function AI(t){return!E_()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof es(t).ShadowRoot}function Um(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=eo(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function X7(t){return["table","td","th"].includes(jf(t))}function T_(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function xC(t){const e=_C(),n=Js(t)?eo(t):t;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function $7(t){let e=Bl(t);for(;ko(e)&&!xf(e);){if(xC(e))return e;if(T_(e))return null;e=Bl(e)}return null}function _C(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function xf(t){return["html","body","#document"].includes(jf(t))}function eo(t){return es(t).getComputedStyle(t)}function C_(t){return Js(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Bl(t){if(jf(t)==="html")return t;const e=t.assignedSlot||t.parentNode||AI(t)&&t.host||Uo(t);return AI(e)?e.host:e}function wU(t){const e=Bl(t);return xf(e)?t.ownerDocument?t.ownerDocument.body:t.body:ko(e)&&Um(e)?e:wU(e)}function Kp(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=wU(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),o=es(i);if(s){const a=tE(o);return e.concat(o,o.visualViewport||[],Um(i)?i:[],a&&n?Kp(a):[])}return e.concat(i,Kp(i,[],n))}function tE(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function SU(t){const e=eo(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=ko(t),s=i?t.offsetWidth:n,o=i?t.offsetHeight:r,a=U0(n)!==s||U0(r)!==o;return a&&(n=s,r=o),{width:n,height:r,$:a}}function wC(t){return Js(t)?t:t.contextElement}function Zd(t){const e=wC(t);if(!ko(e))return Fl(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=SU(e);let o=(s?U0(n.width):n.width)/r,a=(s?U0(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const Y7=Fl(0);function bU(t){const e=es(t);return!_C()||!e.visualViewport?Y7:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function q7(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==es(t)?!1:e}function du(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=wC(t);let o=Fl(1);e&&(r?Js(r)&&(o=Zd(r)):o=Zd(t));const a=q7(s,n,r)?bU(s):Fl(0);let l=(i.left+a.x)/o.x,c=(i.top+a.y)/o.y,d=i.width/o.x,h=i.height/o.y;if(s){const p=es(s),m=r&&Js(r)?es(r):r;let v=p,x=tE(v);for(;x&&r&&m!==v;){const y=Zd(x),g=x.getBoundingClientRect(),w=eo(x),b=g.left+(x.clientLeft+parseFloat(w.paddingLeft))*y.x,E=g.top+(x.clientTop+parseFloat(w.paddingTop))*y.y;l*=y.x,c*=y.y,d*=y.x,h*=y.y,l+=b,c+=E,v=es(x),x=tE(v)}}return z0({width:d,height:h,x:l,y:c})}function Z7(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const s=i==="fixed",o=Uo(r),a=e?T_(e.floating):!1;if(r===o||a&&s)return n;let l={scrollLeft:0,scrollTop:0},c=Fl(1);const d=Fl(0),h=ko(r);if((h||!h&&!s)&&((jf(r)!=="body"||Um(o))&&(l=C_(r)),ko(r))){const p=du(r);c=Zd(r),d.x=p.x+r.clientLeft,d.y=p.y+r.clientTop}return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+d.x,y:n.y*c.y-l.scrollTop*c.y+d.y}}function K7(t){return Array.from(t.getClientRects())}function nE(t,e){const n=C_(t).scrollLeft;return e?e.left+n:du(Uo(t)).left+n}function Q7(t){const e=Uo(t),n=C_(t),r=t.ownerDocument.body,i=Ki(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=Ki(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+nE(t);const a=-n.scrollTop;return eo(r).direction==="rtl"&&(o+=Ki(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:a}}function J7(t,e){const n=es(t),r=Uo(t),i=n.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;const c=_C();(!c||c&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a,y:l}}function eX(t,e){const n=du(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,s=ko(t)?Zd(t):Fl(1),o=t.clientWidth*s.x,a=t.clientHeight*s.y,l=i*s.x,c=r*s.y;return{width:o,height:a,x:l,y:c}}function PI(t,e,n){let r;if(e==="viewport")r=J7(t,n);else if(e==="document")r=Q7(Uo(t));else if(Js(e))r=eX(e,n);else{const i=bU(t);r={...e,x:e.x-i.x,y:e.y-i.y}}return z0(r)}function MU(t,e){const n=Bl(t);return n===e||!Js(n)||xf(n)?!1:eo(n).position==="fixed"||MU(n,e)}function tX(t,e){const n=e.get(t);if(n)return n;let r=Kp(t,[],!1).filter(a=>Js(a)&&jf(a)!=="body"),i=null;const s=eo(t).position==="fixed";let o=s?Bl(t):t;for(;Js(o)&&!xf(o);){const a=eo(o),l=xC(o);!l&&a.position==="fixed"&&(i=null),(s?!l&&!i:!l&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Um(o)&&!l&&MU(t,o))?r=r.filter(d=>d!==o):i=a,o=Bl(o)}return e.set(t,r),r}function nX(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const o=[...n==="clippingAncestors"?T_(e)?[]:tX(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((c,d)=>{const h=PI(e,d,i);return c.top=Ki(h.top,c.top),c.right=Ol(h.right,c.right),c.bottom=Ol(h.bottom,c.bottom),c.left=Ki(h.left,c.left),c},PI(e,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function rX(t){const{width:e,height:n}=SU(t);return{width:e,height:n}}function iX(t,e,n){const r=ko(e),i=Uo(e),s=n==="fixed",o=du(t,!0,s,e);let a={scrollLeft:0,scrollTop:0};const l=Fl(0);if(r||!r&&!s)if((jf(e)!=="body"||Um(i))&&(a=C_(e)),r){const m=du(e,!0,s,e);l.x=m.x+e.clientLeft,l.y=m.y+e.clientTop}else i&&(l.x=nE(i));let c=0,d=0;if(i&&!r&&!s){const m=i.getBoundingClientRect();d=m.top+a.scrollTop,c=m.left+a.scrollLeft-nE(i,m)}const h=o.left+a.scrollLeft-l.x-c,p=o.top+a.scrollTop-l.y-d;return{x:h,y:p,width:o.width,height:o.height}}function x1(t){return eo(t).position==="static"}function RI(t,e){if(!ko(t)||eo(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Uo(t)===n&&(n=n.ownerDocument.body),n}function EU(t,e){const n=es(t);if(T_(t))return n;if(!ko(t)){let i=Bl(t);for(;i&&!xf(i);){if(Js(i)&&!x1(i))return i;i=Bl(i)}return n}let r=RI(t,e);for(;r&&X7(r)&&x1(r);)r=RI(r,e);return r&&xf(r)&&x1(r)&&!xC(r)?n:r||$7(t)||n}const sX=async function(t){const e=this.getOffsetParent||EU,n=this.getDimensions,r=await n(t.floating);return{reference:iX(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function oX(t){return eo(t).direction==="rtl"}const aX={convertOffsetParentRelativeRectToViewportRelativeRect:Z7,getDocumentElement:Uo,getClippingRect:nX,getOffsetParent:EU,getElementRects:sX,getClientRects:K7,getDimensions:rX,getScale:Zd,isElement:Js,isRTL:oX};function lX(t,e){let n=null,r;const i=Uo(t);function s(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const{left:c,top:d,width:h,height:p}=t.getBoundingClientRect();if(a||e(),!h||!p)return;const m=Iv(d),v=Iv(i.clientWidth-(c+h)),x=Iv(i.clientHeight-(d+p)),y=Iv(c),w={rootMargin:-m+"px "+-v+"px "+-x+"px "+-y+"px",threshold:Ki(0,Ol(1,l))||1};let b=!0;function E(C){const A=C[0].intersectionRatio;if(A!==l){if(!b)return o();A?o(!1,A):r=setTimeout(()=>{o(!1,1e-7)},1e3)}b=!1}try{n=new IntersectionObserver(E,{...w,root:i.ownerDocument})}catch{n=new IntersectionObserver(E,w)}n.observe(t)}return o(!0),s}function cX(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=wC(t),d=i||s?[...c?Kp(c):[],...Kp(e)]:[];d.forEach(g=>{i&&g.addEventListener("scroll",n,{passive:!0}),s&&g.addEventListener("resize",n)});const h=c&&a?lX(c,n):null;let p=-1,m=null;o&&(m=new ResizeObserver(g=>{let[w]=g;w&&w.target===c&&m&&(m.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var b;(b=m)==null||b.observe(e)})),n()}),c&&!l&&m.observe(c),m.observe(e));let v,x=l?du(t):null;l&&y();function y(){const g=du(t);x&&(g.x!==x.x||g.y!==x.y||g.width!==x.width||g.height!==x.height)&&n(),x=g,v=requestAnimationFrame(y)}return n(),()=>{var g;d.forEach(w=>{i&&w.removeEventListener("scroll",n),s&&w.removeEventListener("resize",n)}),h==null||h(),(g=m)==null||g.disconnect(),m=null,l&&cancelAnimationFrame(v)}}const uX=j7,dX=H7,fX=B7,hX=G7,pX=z7,II=U7,mX=W7,gX=(t,e,n)=>{const r=new Map,i={platform:aX,...n},s={...i.platform,_c:r};return F7(t,e,{...i,platform:s})};var e0=typeof document<"u"?P.useLayoutEffect:P.useEffect;function V0(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!V0(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&t.$$typeof)&&!V0(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function TU(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function NI(t,e){const n=TU(t);return Math.round(e*n)/n}function _1(t){const e=P.useRef(t);return e0(()=>{e.current=t}),e}function vX(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=t,[d,h]=P.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[p,m]=P.useState(r);V0(p,r)||m(r);const[v,x]=P.useState(null),[y,g]=P.useState(null),w=P.useCallback(k=>{k!==A.current&&(A.current=k,x(k))},[]),b=P.useCallback(k=>{k!==I.current&&(I.current=k,g(k))},[]),E=s||v,C=o||y,A=P.useRef(null),I=P.useRef(null),D=P.useRef(d),N=l!=null,R=_1(l),F=_1(i),j=_1(c),G=P.useCallback(()=>{if(!A.current||!I.current)return;const k={placement:e,strategy:n,middleware:p};F.current&&(k.platform=F.current),gX(A.current,I.current,k).then(W=>{const q={...W,isPositioned:j.current!==!1};$.current&&!V0(D.current,q)&&(D.current=q,Yl.flushSync(()=>{h(q)}))})},[p,e,n,F,j]);e0(()=>{c===!1&&D.current.isPositioned&&(D.current.isPositioned=!1,h(k=>({...k,isPositioned:!1})))},[c]);const $=P.useRef(!1);e0(()=>($.current=!0,()=>{$.current=!1}),[]),e0(()=>{if(E&&(A.current=E),C&&(I.current=C),E&&C){if(R.current)return R.current(E,C,G);G()}},[E,C,G,R,N]);const ne=P.useMemo(()=>({reference:A,floating:I,setReference:w,setFloating:b}),[w,b]),J=P.useMemo(()=>({reference:E,floating:C}),[E,C]),re=P.useMemo(()=>{const k={position:n,left:0,top:0};if(!J.floating)return k;const W=NI(J.floating,d.x),q=NI(J.floating,d.y);return a?{...k,transform:"translate("+W+"px, "+q+"px)",...TU(J.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:W,top:q}},[n,a,J.floating,d.x,d.y]);return P.useMemo(()=>({...d,update:G,refs:ne,elements:J,floatingStyles:re}),[d,G,ne,J,re])}const yX=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?II({element:r.current,padding:i}).fn(n):{}:r?II({element:r,padding:i}).fn(n):{}}}},xX=(t,e)=>({...uX(t),options:[t,e]}),_X=(t,e)=>({...dX(t),options:[t,e]}),wX=(t,e)=>({...mX(t),options:[t,e]}),SX=(t,e)=>({...fX(t),options:[t,e]}),bX=(t,e)=>({...hX(t),options:[t,e]}),MX=(t,e)=>({...pX(t),options:[t,e]}),EX=(t,e)=>({...yX(t),options:[t,e]});var TX="Arrow",CU=P.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...s}=t;return S.jsx(mn.svg,{...s,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:S.jsx("polygon",{points:"0,0 30,0 15,10"})})});CU.displayName=TX;var CX=CU;function AX(t,e=[]){let n=[];function r(s,o){const a=P.createContext(o),l=n.length;n=[...n,o];function c(h){const{scope:p,children:m,...v}=h,x=(p==null?void 0:p[t][l])||a,y=P.useMemo(()=>v,Object.values(v));return S.jsx(x.Provider,{value:y,children:m})}function d(h,p){const m=(p==null?void 0:p[t][l])||a,v=P.useContext(m);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${s}\``)}return c.displayName=s+"Provider",[c,d]}const i=()=>{const s=n.map(o=>P.createContext(o));return function(a){const l=(a==null?void 0:a[t])||s;return P.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return i.scopeName=t,[r,PX(i,...e)]}function PX(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const h=l(s)[`__scope${c}`];return{...a,...h}},{});return P.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function RX(t){const[e,n]=P.useState(void 0);return ni(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let o,a;if("borderBoxSize"in s){const l=s.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var SC="Popper",[AU,A_]=AX(SC),[IX,PU]=AU(SC),RU=t=>{const{__scopePopper:e,children:n}=t,[r,i]=P.useState(null);return S.jsx(IX,{scope:e,anchor:r,onAnchorChange:i,children:n})};RU.displayName=SC;var IU="PopperAnchor",NU=P.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,s=PU(IU,n),o=P.useRef(null),a=In(e,o);return P.useEffect(()=>{s.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:S.jsx(mn.div,{...i,ref:a})});NU.displayName=IU;var bC="PopperContent",[NX,LX]=AU(bC),LU=P.forwardRef((t,e)=>{var me,ke,tt,Fe,nt,qe;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:s="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:d=0,sticky:h="partial",hideWhenDetached:p=!1,updatePositionStrategy:m="optimized",onPlaced:v,...x}=t,y=PU(bC,n),[g,w]=P.useState(null),b=In(e,Ye=>w(Ye)),[E,C]=P.useState(null),A=RX(E),I=(A==null?void 0:A.width)??0,D=(A==null?void 0:A.height)??0,N=r+(s!=="center"?"-"+s:""),R=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},F=Array.isArray(c)?c:[c],j=F.length>0,G={padding:R,boundary:F.filter(kX),altBoundary:j},{refs:$,floatingStyles:ne,placement:J,isPositioned:re,middlewareData:k}=vX({strategy:"fixed",placement:N,whileElementsMounted:(...Ye)=>cX(...Ye,{animationFrame:m==="always"}),elements:{reference:y.anchor},middleware:[xX({mainAxis:i+D,alignmentAxis:o}),l&&_X({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?wX():void 0,...G}),l&&SX({...G}),bX({...G,apply:({elements:Ye,rects:V,availableWidth:Oe,availableHeight:Re})=>{const{width:Ue,height:B}=V.reference,Z=Ye.floating.style;Z.setProperty("--radix-popper-available-width",`${Oe}px`),Z.setProperty("--radix-popper-available-height",`${Re}px`),Z.setProperty("--radix-popper-anchor-width",`${Ue}px`),Z.setProperty("--radix-popper-anchor-height",`${B}px`)}}),E&&EX({element:E,padding:a}),OX({arrowWidth:I,arrowHeight:D}),p&&MX({strategy:"referenceHidden",...G})]}),[W,q]=OU(J),ee=rs(v);ni(()=>{re&&(ee==null||ee())},[re,ee]);const de=(me=k.arrow)==null?void 0:me.x,Ae=(ke=k.arrow)==null?void 0:ke.y,ae=((tt=k.arrow)==null?void 0:tt.centerOffset)!==0,[be,Ee]=P.useState();return ni(()=>{g&&Ee(window.getComputedStyle(g).zIndex)},[g]),S.jsx("div",{ref:$.setFloating,"data-radix-popper-content-wrapper":"",style:{...ne,transform:re?ne.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:be,"--radix-popper-transform-origin":[(Fe=k.transformOrigin)==null?void 0:Fe.x,(nt=k.transformOrigin)==null?void 0:nt.y].join(" "),...((qe=k.hide)==null?void 0:qe.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:S.jsx(NX,{scope:n,placedSide:W,onArrowChange:C,arrowX:de,arrowY:Ae,shouldHideArrow:ae,children:S.jsx(mn.div,{"data-side":W,"data-align":q,...x,ref:b,style:{...x.style,animation:re?void 0:"none"}})})})});LU.displayName=bC;var DU="PopperArrow",DX={top:"bottom",right:"left",bottom:"top",left:"right"},kU=P.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,s=LX(DU,r),o=DX[s.placedSide];return S.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:S.jsx(CX,{...i,ref:n,style:{...i.style,display:"block"}})})});kU.displayName=DU;function kX(t){return t!==null}var OX=t=>({name:"transformOrigin",options:t,fn(e){var y,g,w;const{placement:n,rects:r,middlewareData:i}=e,o=((y=i.arrow)==null?void 0:y.centerOffset)!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[c,d]=OU(n),h={start:"0%",center:"50%",end:"100%"}[d],p=(((g=i.arrow)==null?void 0:g.x)??0)+a/2,m=(((w=i.arrow)==null?void 0:w.y)??0)+l/2;let v="",x="";return c==="bottom"?(v=o?h:`${p}px`,x=`${-l}px`):c==="top"?(v=o?h:`${p}px`,x=`${r.floating.height+l}px`):c==="right"?(v=`${-l}px`,x=o?h:`${m}px`):c==="left"&&(v=`${r.floating.width+l}px`,x=o?h:`${m}px`),{data:{x:v,y:x}}}});function OU(t){const[e,n="center"]=t.split("-");return[e,n]}var FX=RU,FU=NU,UU=LU,BU=kU,[P_,zhe]=w_("Tooltip",[A_]),MC=A_(),zU="TooltipProvider",UX=700,LI="tooltip.open",[BX,VU]=P_(zU),jU=t=>{const{__scopeTooltip:e,delayDuration:n=UX,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:s}=t,[o,a]=P.useState(!0),l=P.useRef(!1),c=P.useRef(0);return P.useEffect(()=>{const d=c.current;return()=>window.clearTimeout(d)},[]),S.jsx(BX,{scope:e,isOpenDelayed:o,delayDuration:n,onOpen:P.useCallback(()=>{window.clearTimeout(c.current),a(!1)},[]),onClose:P.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>a(!0),r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:P.useCallback(d=>{l.current=d},[]),disableHoverableContent:i,children:s})};jU.displayName=zU;var HU="Tooltip",[Vhe,R_]=P_(HU),rE="TooltipTrigger",zX=P.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=R_(rE,n),s=VU(rE,n),o=MC(n),a=P.useRef(null),l=In(e,a,i.onTriggerChange),c=P.useRef(!1),d=P.useRef(!1),h=P.useCallback(()=>c.current=!1,[]);return P.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),S.jsx(FU,{asChild:!0,...o,children:S.jsx(mn.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:l,onPointerMove:zt(t.onPointerMove,p=>{p.pointerType!=="touch"&&!d.current&&!s.isPointerInTransitRef.current&&(i.onTriggerEnter(),d.current=!0)}),onPointerLeave:zt(t.onPointerLeave,()=>{i.onTriggerLeave(),d.current=!1}),onPointerDown:zt(t.onPointerDown,()=>{c.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:zt(t.onFocus,()=>{c.current||i.onOpen()}),onBlur:zt(t.onBlur,i.onClose),onClick:zt(t.onClick,i.onClose)})})});zX.displayName=rE;var VX="TooltipPortal",[jhe,jX]=P_(VX,{forceMount:void 0}),_f="TooltipContent",WU=P.forwardRef((t,e)=>{const n=jX(_f,t.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...s}=t,o=R_(_f,t.__scopeTooltip);return S.jsx(Bf,{present:r||o.open,children:o.disableHoverableContent?S.jsx(GU,{side:i,...s,ref:e}):S.jsx(HX,{side:i,...s,ref:e})})}),HX=P.forwardRef((t,e)=>{const n=R_(_f,t.__scopeTooltip),r=VU(_f,t.__scopeTooltip),i=P.useRef(null),s=In(e,i),[o,a]=P.useState(null),{trigger:l,onClose:c}=n,d=i.current,{onPointerInTransitChange:h}=r,p=P.useCallback(()=>{a(null),h(!1)},[h]),m=P.useCallback((v,x)=>{const y=v.currentTarget,g={x:v.clientX,y:v.clientY},w=$X(g,y.getBoundingClientRect()),b=YX(g,w),E=qX(x.getBoundingClientRect()),C=KX([...b,...E]);a(C),h(!0)},[h]);return P.useEffect(()=>()=>p(),[p]),P.useEffect(()=>{if(l&&d){const v=y=>m(y,d),x=y=>m(y,l);return l.addEventListener("pointerleave",v),d.addEventListener("pointerleave",x),()=>{l.removeEventListener("pointerleave",v),d.removeEventListener("pointerleave",x)}}},[l,d,m,p]),P.useEffect(()=>{if(o){const v=x=>{const y=x.target,g={x:x.clientX,y:x.clientY},w=(l==null?void 0:l.contains(y))||(d==null?void 0:d.contains(y)),b=!ZX(g,o);w?p():b&&(p(),c())};return document.addEventListener("pointermove",v),()=>document.removeEventListener("pointermove",v)}},[l,d,o,c,p]),S.jsx(GU,{...t,ref:s})}),[WX,GX]=P_(HU,{isInside:!1}),GU=P.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:s,onPointerDownOutside:o,...a}=t,l=R_(_f,n),c=MC(n),{onClose:d}=l;return P.useEffect(()=>(document.addEventListener(LI,d),()=>document.removeEventListener(LI,d)),[d]),P.useEffect(()=>{if(l.trigger){const h=p=>{const m=p.target;m!=null&&m.contains(l.trigger)&&d()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[l.trigger,d]),S.jsx(Om,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:h=>h.preventDefault(),onDismiss:d,children:S.jsxs(UU,{"data-state":l.stateAttribute,...c,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[S.jsx(EF,{children:r}),S.jsx(WX,{scope:n,isInside:!0,children:S.jsx(MG,{id:l.contentId,role:"tooltip",children:i||r})})]})})});WU.displayName=_f;var XU="TooltipArrow",XX=P.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=MC(n);return GX(XU,n).isInside?null:S.jsx(BU,{...i,...r,ref:e})});XX.displayName=XU;function $X(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),s=Math.abs(e.left-t.x);switch(Math.min(n,r,i,s)){case s:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function YX(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function qX(t){const{top:e,right:n,bottom:r,left:i}=t;return[{x:i,y:e},{x:n,y:e},{x:n,y:r},{x:i,y:r}]}function ZX(t,e){const{x:n,y:r}=t;let i=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const a=e[s].x,l=e[s].y,c=e[o].x,d=e[o].y;l>r!=d>r&&n<(c-a)*(r-l)/(d-l)+a&&(i=!i)}return i}function KX(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),QX(e)}function QX(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const i=t[r];for(;e.length>=2;){const s=e[e.length-1],o=e[e.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))e.pop();else break}e.push(i)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const i=t[r];for(;n.length>=2;){const s=n[n.length-1],o=n[n.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))n.pop();else break}n.push(i)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var JX=jU,$U=WU;const e$=JX,t$=P.forwardRef(({className:t,sideOffset:e=4,...n},r)=>S.jsx($U,{ref:r,sideOffset:e,className:wn("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));t$.displayName=$U.displayName;var I_=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},N_=typeof window>"u"||"Deno"in globalThis;function js(){}function n$(t,e){return typeof t=="function"?t(e):t}function r$(t){return typeof t=="number"&&t>=0&&t!==1/0}function i$(t,e){return Math.max(t+(e||0)-Date.now(),0)}function DI(t,e){return typeof t=="function"?t(e):t}function s$(t,e){return typeof t=="function"?t(e):t}function kI(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:s,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==EC(o,e.options))return!1}else if(!Jp(e.queryKey,o))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||i&&i!==e.state.fetchStatus||s&&!s(e))}function OI(t,e){const{exact:n,status:r,predicate:i,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(n){if(Qp(e.options.mutationKey)!==Qp(s))return!1}else if(!Jp(e.options.mutationKey,s))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function EC(t,e){return((e==null?void 0:e.queryKeyHashFn)||Qp)(t)}function Qp(t){return JSON.stringify(t,(e,n)=>iE(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function Jp(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!Jp(t[n],e[n])):!1}function YU(t,e){if(t===e)return t;const n=FI(t)&&FI(e);if(n||iE(t)&&iE(e)){const r=n?t:Object.keys(t),i=r.length,s=n?e:Object.keys(e),o=s.length,a=n?[]:{};let l=0;for(let c=0;c<o;c++){const d=n?c:s[c];(!n&&r.includes(d)||n)&&t[d]===void 0&&e[d]===void 0?(a[d]=void 0,l++):(a[d]=YU(t[d],e[d]),a[d]===t[d]&&t[d]!==void 0&&l++)}return i===o&&l===i?t:a}return e}function FI(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function iE(t){if(!UI(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!UI(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function UI(t){return Object.prototype.toString.call(t)==="[object Object]"}function o$(t){return new Promise(e=>{setTimeout(e,t)})}function a$(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?YU(t,e):e}function l$(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function c$(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var TC=Symbol();function qU(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===TC?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var $c,hl,nf,t3,u$=(t3=class extends I_{constructor(){super();xn(this,$c);xn(this,hl);xn(this,nf);Ht(this,nf,e=>{if(!N_&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){Ne(this,hl)||this.setEventListener(Ne(this,nf))}onUnsubscribe(){var e;this.hasListeners()||((e=Ne(this,hl))==null||e.call(this),Ht(this,hl,void 0))}setEventListener(e){var n;Ht(this,nf,e),(n=Ne(this,hl))==null||n.call(this),Ht(this,hl,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){Ne(this,$c)!==e&&(Ht(this,$c,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof Ne(this,$c)=="boolean"?Ne(this,$c):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},$c=new WeakMap,hl=new WeakMap,nf=new WeakMap,t3),ZU=new u$,rf,pl,sf,n3,d$=(n3=class extends I_{constructor(){super();xn(this,rf,!0);xn(this,pl);xn(this,sf);Ht(this,sf,e=>{if(!N_&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){Ne(this,pl)||this.setEventListener(Ne(this,sf))}onUnsubscribe(){var e;this.hasListeners()||((e=Ne(this,pl))==null||e.call(this),Ht(this,pl,void 0))}setEventListener(e){var n;Ht(this,sf,e),(n=Ne(this,pl))==null||n.call(this),Ht(this,pl,e(this.setOnline.bind(this)))}setOnline(e){Ne(this,rf)!==e&&(Ht(this,rf,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return Ne(this,rf)}},rf=new WeakMap,pl=new WeakMap,sf=new WeakMap,n3),j0=new d$;function f$(){let t,e;const n=new Promise((i,s)=>{t=i,e=s});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),t(i)},n.reject=i=>{r({status:"rejected",reason:i}),e(i)},n}function h$(t){return Math.min(1e3*2**t,3e4)}function KU(t){return(t??"online")==="online"?j0.isOnline():!0}var QU=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function w1(t){return t instanceof QU}function JU(t){let e=!1,n=0,r=!1,i;const s=f$(),o=x=>{var y;r||(p(new QU(x)),(y=t.abort)==null||y.call(t))},a=()=>{e=!0},l=()=>{e=!1},c=()=>ZU.isFocused()&&(t.networkMode==="always"||j0.isOnline())&&t.canRun(),d=()=>KU(t.networkMode)&&t.canRun(),h=x=>{var y;r||(r=!0,(y=t.onSuccess)==null||y.call(t,x),i==null||i(),s.resolve(x))},p=x=>{var y;r||(r=!0,(y=t.onError)==null||y.call(t,x),i==null||i(),s.reject(x))},m=()=>new Promise(x=>{var y;i=g=>{(r||c())&&x(g)},(y=t.onPause)==null||y.call(t)}).then(()=>{var x;i=void 0,r||(x=t.onContinue)==null||x.call(t)}),v=()=>{if(r)return;let x;const y=n===0?t.initialPromise:void 0;try{x=y??t.fn()}catch(g){x=Promise.reject(g)}Promise.resolve(x).then(h).catch(g=>{var A;if(r)return;const w=t.retry??(N_?0:3),b=t.retryDelay??h$,E=typeof b=="function"?b(n,g):b,C=w===!0||typeof w=="number"&&n<w||typeof w=="function"&&w(n,g);if(e||!C){p(g);return}n++,(A=t.onFail)==null||A.call(t,n,g),o$(E).then(()=>c()?void 0:m()).then(()=>{e?p(g):v()})})};return{promise:s,cancel:o,continue:()=>(i==null||i(),s),cancelRetry:a,continueRetry:l,canStart:d,start:()=>(d()?v():m().then(v),s)}}function p$(){let t=[],e=0,n=a=>{a()},r=a=>{a()},i=a=>setTimeout(a,0);const s=a=>{e?t.push(a):i(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&i(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{s(()=>{a(...l)})},schedule:s,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{i=a}}}var di=p$(),Yc,r3,eB=(r3=class{constructor(){xn(this,Yc)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),r$(this.gcTime)&&Ht(this,Yc,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(N_?1/0:5*60*1e3))}clearGcTimeout(){Ne(this,Yc)&&(clearTimeout(Ne(this,Yc)),Ht(this,Yc,void 0))}},Yc=new WeakMap,r3),of,af,ys,qr,Pm,qc,Ws,ra,i3,m$=(i3=class extends eB{constructor(e){super();xn(this,Ws);xn(this,of);xn(this,af);xn(this,ys);xn(this,qr);xn(this,Pm);xn(this,qc);Ht(this,qc,!1),Ht(this,Pm,e.defaultOptions),this.setOptions(e.options),this.observers=[],Ht(this,ys,e.cache),this.queryKey=e.queryKey,this.queryHash=e.queryHash,Ht(this,of,v$(this.options)),this.state=e.state??Ne(this,of),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=Ne(this,qr))==null?void 0:e.promise}setOptions(e){this.options={...Ne(this,Pm),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&Ne(this,ys).remove(this)}setData(e,n){const r=a$(this.state.data,e,this.options);return Hr(this,Ws,ra).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(e,n){Hr(this,Ws,ra).call(this,{type:"setState",state:e,setStateOptions:n})}cancel(e){var r,i;const n=(r=Ne(this,qr))==null?void 0:r.promise;return(i=Ne(this,qr))==null||i.cancel(e),n?n.then(js).catch(js):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(Ne(this,of))}isActive(){return this.observers.some(e=>s$(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===TC||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!i$(this.state.dataUpdatedAt,e)}onFocus(){var n;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(n=Ne(this,qr))==null||n.continue()}onOnline(){var n;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(n=Ne(this,qr))==null||n.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),Ne(this,ys).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(Ne(this,qr)&&(Ne(this,qc)?Ne(this,qr).cancel({revert:!0}):Ne(this,qr).cancelRetry()),this.scheduleGc()),Ne(this,ys).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Hr(this,Ws,ra).call(this,{type:"invalidate"})}fetch(e,n){var l,c,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(Ne(this,qr))return Ne(this,qr).continueRetry(),Ne(this,qr).promise}if(e&&this.setOptions(e),!this.options.queryFn){const h=this.observers.find(p=>p.options.queryFn);h&&this.setOptions(h.options)}const r=new AbortController,i=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(Ht(this,qc,!0),r.signal)})},s=()=>{const h=qU(this.options,n),p={queryKey:this.queryKey,meta:this.meta};return i(p),Ht(this,qc,!1),this.options.persister?this.options.persister(h,p,this):h(p)},o={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:s};i(o),(l=this.options.behavior)==null||l.onFetch(o,this),Ht(this,af,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((c=o.fetchOptions)==null?void 0:c.meta))&&Hr(this,Ws,ra).call(this,{type:"fetch",meta:(d=o.fetchOptions)==null?void 0:d.meta});const a=h=>{var p,m,v,x;w1(h)&&h.silent||Hr(this,Ws,ra).call(this,{type:"error",error:h}),w1(h)||((m=(p=Ne(this,ys).config).onError)==null||m.call(p,h,this),(x=(v=Ne(this,ys).config).onSettled)==null||x.call(v,this.state.data,h,this)),this.scheduleGc()};return Ht(this,qr,JU({initialPromise:n==null?void 0:n.initialPromise,fn:o.fetchFn,abort:r.abort.bind(r),onSuccess:h=>{var p,m,v,x;if(h===void 0){a(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(h)}catch(y){a(y);return}(m=(p=Ne(this,ys).config).onSuccess)==null||m.call(p,h,this),(x=(v=Ne(this,ys).config).onSettled)==null||x.call(v,h,this.state.error,this),this.scheduleGc()},onError:a,onFail:(h,p)=>{Hr(this,Ws,ra).call(this,{type:"failed",failureCount:h,error:p})},onPause:()=>{Hr(this,Ws,ra).call(this,{type:"pause"})},onContinue:()=>{Hr(this,Ws,ra).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),Ne(this,qr).start()}},of=new WeakMap,af=new WeakMap,ys=new WeakMap,qr=new WeakMap,Pm=new WeakMap,qc=new WeakMap,Ws=new WeakSet,ra=function(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...g$(r.data,this.options),fetchMeta:e.meta??null};case"success":return{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=e.error;return w1(i)&&i.revert&&Ne(this,af)?{...Ne(this,af),fetchStatus:"idle"}:{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),di.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),Ne(this,ys).notify({query:this,type:"updated",action:e})})},i3);function g$(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:KU(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function v$(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var vo,s3,y$=(s3=class extends I_{constructor(e={}){super();xn(this,vo);this.config=e,Ht(this,vo,new Map)}build(e,n,r){const i=n.queryKey,s=n.queryHash??EC(i,n);let o=this.get(s);return o||(o=new m$({cache:this,queryKey:i,queryHash:s,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(o)),o}add(e){Ne(this,vo).has(e.queryHash)||(Ne(this,vo).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=Ne(this,vo).get(e.queryHash);n&&(e.destroy(),n===e&&Ne(this,vo).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){di.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return Ne(this,vo).get(e)}getAll(){return[...Ne(this,vo).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>kI(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>kI(e,r)):n}notify(e){di.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){di.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){di.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},vo=new WeakMap,s3),yo,li,Zc,xo,rl,o3,x$=(o3=class extends eB{constructor(e){super();xn(this,xo);xn(this,yo);xn(this,li);xn(this,Zc);this.mutationId=e.mutationId,Ht(this,li,e.mutationCache),Ht(this,yo,[]),this.state=e.state||_$(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){Ne(this,yo).includes(e)||(Ne(this,yo).push(e),this.clearGcTimeout(),Ne(this,li).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){Ht(this,yo,Ne(this,yo).filter(n=>n!==e)),this.scheduleGc(),Ne(this,li).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){Ne(this,yo).length||(this.state.status==="pending"?this.scheduleGc():Ne(this,li).remove(this))}continue(){var e;return((e=Ne(this,Zc))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var i,s,o,a,l,c,d,h,p,m,v,x,y,g,w,b,E,C,A,I;Ht(this,Zc,JU({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(D,N)=>{Hr(this,xo,rl).call(this,{type:"failed",failureCount:D,error:N})},onPause:()=>{Hr(this,xo,rl).call(this,{type:"pause"})},onContinue:()=>{Hr(this,xo,rl).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>Ne(this,li).canRun(this)}));const n=this.state.status==="pending",r=!Ne(this,Zc).canStart();try{if(!n){Hr(this,xo,rl).call(this,{type:"pending",variables:e,isPaused:r}),await((s=(i=Ne(this,li).config).onMutate)==null?void 0:s.call(i,e,this));const N=await((a=(o=this.options).onMutate)==null?void 0:a.call(o,e));N!==this.state.context&&Hr(this,xo,rl).call(this,{type:"pending",context:N,variables:e,isPaused:r})}const D=await Ne(this,Zc).start();return await((c=(l=Ne(this,li).config).onSuccess)==null?void 0:c.call(l,D,e,this.state.context,this)),await((h=(d=this.options).onSuccess)==null?void 0:h.call(d,D,e,this.state.context)),await((m=(p=Ne(this,li).config).onSettled)==null?void 0:m.call(p,D,null,this.state.variables,this.state.context,this)),await((x=(v=this.options).onSettled)==null?void 0:x.call(v,D,null,e,this.state.context)),Hr(this,xo,rl).call(this,{type:"success",data:D}),D}catch(D){try{throw await((g=(y=Ne(this,li).config).onError)==null?void 0:g.call(y,D,e,this.state.context,this)),await((b=(w=this.options).onError)==null?void 0:b.call(w,D,e,this.state.context)),await((C=(E=Ne(this,li).config).onSettled)==null?void 0:C.call(E,void 0,D,this.state.variables,this.state.context,this)),await((I=(A=this.options).onSettled)==null?void 0:I.call(A,void 0,D,e,this.state.context)),D}finally{Hr(this,xo,rl).call(this,{type:"error",error:D})}}finally{Ne(this,li).runNext(this)}}},yo=new WeakMap,li=new WeakMap,Zc=new WeakMap,xo=new WeakSet,rl=function(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),di.batch(()=>{Ne(this,yo).forEach(r=>{r.onMutationUpdate(e)}),Ne(this,li).notify({mutation:this,type:"updated",action:e})})},o3);function _$(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Yi,Rm,a3,w$=(a3=class extends I_{constructor(e={}){super();xn(this,Yi);xn(this,Rm);this.config=e,Ht(this,Yi,new Map),Ht(this,Rm,Date.now())}build(e,n,r){const i=new x$({mutationCache:this,mutationId:++cv(this,Rm)._,options:e.defaultMutationOptions(n),state:r});return this.add(i),i}add(e){const n=Nv(e),r=Ne(this,Yi).get(n)??[];r.push(e),Ne(this,Yi).set(n,r),this.notify({type:"added",mutation:e})}remove(e){var r;const n=Nv(e);if(Ne(this,Yi).has(n)){const i=(r=Ne(this,Yi).get(n))==null?void 0:r.filter(s=>s!==e);i&&(i.length===0?Ne(this,Yi).delete(n):Ne(this,Yi).set(n,i))}this.notify({type:"removed",mutation:e})}canRun(e){var r;const n=(r=Ne(this,Yi).get(Nv(e)))==null?void 0:r.find(i=>i.state.status==="pending");return!n||n===e}runNext(e){var r;const n=(r=Ne(this,Yi).get(Nv(e)))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){di.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...Ne(this,Yi).values()].flat()}find(e){const n={exact:!0,...e};return this.getAll().find(r=>OI(n,r))}findAll(e={}){return this.getAll().filter(n=>OI(e,n))}notify(e){di.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return di.batch(()=>Promise.all(e.map(n=>n.continue().catch(js))))}},Yi=new WeakMap,Rm=new WeakMap,a3);function Nv(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function BI(t){return{onFetch:(e,n)=>{var d,h,p,m,v;const r=e.options,i=(p=(h=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:h.fetchMore)==null?void 0:p.direction,s=((m=e.state.data)==null?void 0:m.pages)||[],o=((v=e.state.data)==null?void 0:v.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const c=async()=>{let x=!1;const y=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(e.signal.aborted?x=!0:e.signal.addEventListener("abort",()=>{x=!0}),e.signal)})},g=qU(e.options,e.fetchOptions),w=async(b,E,C)=>{if(x)return Promise.reject();if(E==null&&b.pages.length)return Promise.resolve(b);const A={queryKey:e.queryKey,pageParam:E,direction:C?"backward":"forward",meta:e.options.meta};y(A);const I=await g(A),{maxPages:D}=e.options,N=C?c$:l$;return{pages:N(b.pages,I,D),pageParams:N(b.pageParams,E,D)}};if(i&&s.length){const b=i==="backward",E=b?S$:zI,C={pages:s,pageParams:o},A=E(r,C);a=await w(C,A,b)}else{const b=t??s.length;do{const E=l===0?o[0]??r.initialPageParam:zI(r,a);if(l>0&&E==null)break;a=await w(a,E),l++}while(l<b)}return a};e.options.persister?e.fetchFn=()=>{var x,y;return(y=(x=e.options).persister)==null?void 0:y.call(x,c,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=c}}}function zI(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function S$(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var Xn,ml,gl,lf,cf,vl,uf,df,l3,b$=(l3=class{constructor(t={}){xn(this,Xn);xn(this,ml);xn(this,gl);xn(this,lf);xn(this,cf);xn(this,vl);xn(this,uf);xn(this,df);Ht(this,Xn,t.queryCache||new y$),Ht(this,ml,t.mutationCache||new w$),Ht(this,gl,t.defaultOptions||{}),Ht(this,lf,new Map),Ht(this,cf,new Map),Ht(this,vl,0)}mount(){cv(this,vl)._++,Ne(this,vl)===1&&(Ht(this,uf,ZU.subscribe(async t=>{t&&(await this.resumePausedMutations(),Ne(this,Xn).onFocus())})),Ht(this,df,j0.subscribe(async t=>{t&&(await this.resumePausedMutations(),Ne(this,Xn).onOnline())})))}unmount(){var t,e;cv(this,vl)._--,Ne(this,vl)===0&&((t=Ne(this,uf))==null||t.call(this),Ht(this,uf,void 0),(e=Ne(this,df))==null||e.call(this),Ht(this,df,void 0))}isFetching(t){return Ne(this,Xn).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return Ne(this,ml).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=Ne(this,Xn).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const n=this.defaultQueryOptions(t),r=Ne(this,Xn).build(this,n);return t.revalidateIfStale&&r.isStaleByTime(DI(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(e)}}getQueriesData(t){return Ne(this,Xn).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),i=Ne(this,Xn).get(r.queryHash),s=i==null?void 0:i.state.data,o=n$(e,s);if(o!==void 0)return Ne(this,Xn).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return di.batch(()=>Ne(this,Xn).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=Ne(this,Xn).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=Ne(this,Xn);di.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=Ne(this,Xn),r={type:"active",...t};return di.batch(()=>(n.findAll(t).forEach(i=>{i.reset()}),this.refetchQueries(r,e)))}cancelQueries(t={},e={}){const n={revert:!0,...e},r=di.batch(()=>Ne(this,Xn).findAll(t).map(i=>i.cancel(n)));return Promise.all(r).then(js).catch(js)}invalidateQueries(t={},e={}){return di.batch(()=>{if(Ne(this,Xn).findAll(t).forEach(r=>{r.invalidate()}),t.refetchType==="none")return Promise.resolve();const n={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(n,e)})}refetchQueries(t={},e){const n={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},r=di.batch(()=>Ne(this,Xn).findAll(t).filter(i=>!i.isDisabled()).map(i=>{let s=i.fetch(void 0,n);return n.throwOnError||(s=s.catch(js)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(r).then(js)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=Ne(this,Xn).build(this,e);return n.isStaleByTime(DI(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(js).catch(js)}fetchInfiniteQuery(t){return t.behavior=BI(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(js).catch(js)}ensureInfiniteQueryData(t){return t.behavior=BI(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return j0.isOnline()?Ne(this,ml).resumePausedMutations():Promise.resolve()}getQueryCache(){return Ne(this,Xn)}getMutationCache(){return Ne(this,ml)}getDefaultOptions(){return Ne(this,gl)}setDefaultOptions(t){Ht(this,gl,t)}setQueryDefaults(t,e){Ne(this,lf).set(Qp(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...Ne(this,lf).values()];let n={};return e.forEach(r=>{Jp(t,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(t,e){Ne(this,cf).set(Qp(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...Ne(this,cf).values()];let n={};return e.forEach(r=>{Jp(t,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...Ne(this,gl).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=EC(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===TC&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...Ne(this,gl).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){Ne(this,Xn).clear(),Ne(this,ml).clear()}},Xn=new WeakMap,ml=new WeakMap,gl=new WeakMap,lf=new WeakMap,cf=new WeakMap,vl=new WeakMap,uf=new WeakMap,df=new WeakMap,l3),M$=P.createContext(void 0),E$=({client:t,children:e})=>(P.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),S.jsx(M$.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function em(){return em=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},em.apply(this,arguments)}var wl;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(wl||(wl={}));const VI="popstate";function T$(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return sE("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:H0(i)}return A$(e,n,null,t)}function fr(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function tB(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function C$(){return Math.random().toString(36).substr(2,8)}function jI(t,e){return{usr:t.state,key:t.key,idx:e}}function sE(t,e,n,r){return n===void 0&&(n=null),em({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Hf(e):e,{state:n,key:e&&e.key||r||C$()})}function H0(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Hf(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function A$(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=wl.Pop,l=null,c=d();c==null&&(c=0,o.replaceState(em({},o.state,{idx:c}),""));function d(){return(o.state||{idx:null}).idx}function h(){a=wl.Pop;let y=d(),g=y==null?null:y-c;c=y,l&&l({action:a,location:x.location,delta:g})}function p(y,g){a=wl.Push;let w=sE(x.location,y,g);c=d()+1;let b=jI(w,c),E=x.createHref(w);try{o.pushState(b,"",E)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;i.location.assign(E)}s&&l&&l({action:a,location:x.location,delta:1})}function m(y,g){a=wl.Replace;let w=sE(x.location,y,g);c=d();let b=jI(w,c),E=x.createHref(w);o.replaceState(b,"",E),s&&l&&l({action:a,location:x.location,delta:0})}function v(y){let g=i.location.origin!=="null"?i.location.origin:i.location.href,w=typeof y=="string"?y:H0(y);return w=w.replace(/ $/,"%20"),fr(g,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,g)}let x={get action(){return a},get location(){return t(i,o)},listen(y){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(VI,h),l=y,()=>{i.removeEventListener(VI,h),l=null}},createHref(y){return e(i,y)},createURL:v,encodeLocation(y){let g=v(y);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:p,replace:m,go(y){return o.go(y)}};return x}var HI;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(HI||(HI={}));function P$(t,e,n){return n===void 0&&(n="/"),R$(t,e,n,!1)}function R$(t,e,n,r){let i=typeof e=="string"?Hf(e):e,s=CC(i.pathname||"/",n);if(s==null)return null;let o=nB(t);I$(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=j$(s);a=z$(o[l],c,r)}return a}function nB(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(fr(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=Il([r,l.relativePath]),d=n.concat(l);s.children&&s.children.length>0&&(fr(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),nB(s.children,e,d,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:U$(c,s.index),routesMeta:d})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of rB(s.path))i(s,o,l)}),e}function rB(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=rB(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function I$(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:B$(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const N$=/^:[\w-]+$/,L$=3,D$=2,k$=1,O$=10,F$=-2,WI=t=>t==="*";function U$(t,e){let n=t.split("/"),r=n.length;return n.some(WI)&&(r+=F$),e&&(r+=D$),n.filter(i=>!WI(i)).reduce((i,s)=>i+(N$.test(s)?L$:s===""?k$:O$),r)}function B$(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function z$(t,e,n){let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,d=s==="/"?e:e.slice(s.length)||"/",h=GI({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},d),p=l.route;if(!h&&c&&n&&!r[r.length-1].route.index&&(h=GI({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!h)return null;Object.assign(i,h.params),o.push({params:i,pathname:Il([s,h.pathname]),pathnameBase:X$(Il([s,h.pathnameBase])),route:p}),h.pathnameBase!=="/"&&(s=Il([s,h.pathnameBase]))}return o}function GI(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=V$(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,d,h)=>{let{paramName:p,isOptional:m}=d;if(p==="*"){let x=a[h]||"";o=s.slice(0,s.length-x.length).replace(/(.)\/+$/,"$1")}const v=a[h];return m&&!v?c[p]=void 0:c[p]=(v||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:t}}function V$(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),tB(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function j$(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return tB(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function CC(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function H$(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Hf(t):t;return{pathname:n?n.startsWith("/")?n:W$(n,e):e,search:$$(r),hash:Y$(i)}}function W$(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function S1(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function G$(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function iB(t,e){let n=G$(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function sB(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Hf(t):(i=em({},t),fr(!i.pathname||!i.pathname.includes("?"),S1("?","pathname","search",i)),fr(!i.pathname||!i.pathname.includes("#"),S1("#","pathname","hash",i)),fr(!i.search||!i.search.includes("#"),S1("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let h=e.length-1;if(!r&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),h-=1;i.pathname=p.join("/")}a=h>=0?e[h]:"/"}let l=H$(i,a),c=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}const Il=t=>t.join("/").replace(/\/\/+/g,"/"),X$=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),$$=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Y$=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function q$(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const oB=["post","put","patch","delete"];new Set(oB);const Z$=["get",...oB];new Set(Z$);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function tm(){return tm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tm.apply(this,arguments)}const AC=P.createContext(null),K$=P.createContext(null),Su=P.createContext(null),L_=P.createContext(null),bu=P.createContext({outlet:null,matches:[],isDataRoute:!1}),aB=P.createContext(null);function Q$(t,e){let{relative:n}=e===void 0?{}:e;Bm()||fr(!1);let{basename:r,navigator:i}=P.useContext(Su),{hash:s,pathname:o,search:a}=cB(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:Il([r,o])),i.createHref({pathname:l,search:a,hash:s})}function Bm(){return P.useContext(L_)!=null}function Mu(){return Bm()||fr(!1),P.useContext(L_).location}function lB(t){P.useContext(Su).static||P.useLayoutEffect(t)}function D_(){let{isDataRoute:t}=P.useContext(bu);return t?dY():J$()}function J$(){Bm()||fr(!1);let t=P.useContext(AC),{basename:e,future:n,navigator:r}=P.useContext(Su),{matches:i}=P.useContext(bu),{pathname:s}=Mu(),o=JSON.stringify(iB(i,n.v7_relativeSplatPath)),a=P.useRef(!1);return lB(()=>{a.current=!0}),P.useCallback(function(c,d){if(d===void 0&&(d={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let h=sB(c,JSON.parse(o),s,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Il([e,h.pathname])),(d.replace?r.replace:r.push)(h,d.state,d)},[e,r,o,s,t])}function cB(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=P.useContext(Su),{matches:i}=P.useContext(bu),{pathname:s}=Mu(),o=JSON.stringify(iB(i,r.v7_relativeSplatPath));return P.useMemo(()=>sB(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function eY(t,e){return tY(t,e)}function tY(t,e,n,r){Bm()||fr(!1);let{navigator:i}=P.useContext(Su),{matches:s}=P.useContext(bu),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=Mu(),d;if(e){var h;let y=typeof e=="string"?Hf(e):e;l==="/"||(h=y.pathname)!=null&&h.startsWith(l)||fr(!1),d=y}else d=c;let p=d.pathname||"/",m=p;if(l!=="/"){let y=l.replace(/^\//,"").split("/");m="/"+p.replace(/^\//,"").split("/").slice(y.length).join("/")}let v=P$(t,{pathname:m}),x=oY(v&&v.map(y=>Object.assign({},y,{params:Object.assign({},a,y.params),pathname:Il([l,i.encodeLocation?i.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?l:Il([l,i.encodeLocation?i.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),s,n,r);return e&&x?P.createElement(L_.Provider,{value:{location:tm({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:wl.Pop}},x):x}function nY(){let t=uY(),e=q$(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return P.createElement(P.Fragment,null,P.createElement("h2",null,"Unexpected Application Error!"),P.createElement("h3",{style:{fontStyle:"italic"}},e),n?P.createElement("pre",{style:i},n):null,null)}const rY=P.createElement(nY,null);class iY extends P.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?P.createElement(bu.Provider,{value:this.props.routeContext},P.createElement(aB.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function sY(t){let{routeContext:e,match:n,children:r}=t,i=P.useContext(AC);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),P.createElement(bu.Provider,{value:e},r)}function oY(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let d=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);d>=0||fr(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=d),h.route.id){let{loaderData:p,errors:m}=n,v=h.route.loader&&p[h.route.id]===void 0&&(!m||m[h.route.id]===void 0);if(h.route.lazy||v){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((d,h,p)=>{let m,v=!1,x=null,y=null;n&&(m=a&&h.route.id?a[h.route.id]:void 0,x=h.route.errorElement||rY,l&&(c<0&&p===0?(v=!0,y=null):c===p&&(v=!0,y=h.route.hydrateFallbackElement||null)));let g=e.concat(o.slice(0,p+1)),w=()=>{let b;return m?b=x:v?b=y:h.route.Component?b=P.createElement(h.route.Component,null):h.route.element?b=h.route.element:b=d,P.createElement(sY,{match:h,routeContext:{outlet:d,matches:g,isDataRoute:n!=null},children:b})};return n&&(h.route.ErrorBoundary||h.route.errorElement||p===0)?P.createElement(iY,{location:n.location,revalidation:n.revalidation,component:x,error:m,children:w(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):w()},null)}var uB=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(uB||{}),W0=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(W0||{});function aY(t){let e=P.useContext(AC);return e||fr(!1),e}function lY(t){let e=P.useContext(K$);return e||fr(!1),e}function cY(t){let e=P.useContext(bu);return e||fr(!1),e}function dB(t){let e=cY(),n=e.matches[e.matches.length-1];return n.route.id||fr(!1),n.route.id}function uY(){var t;let e=P.useContext(aB),n=lY(W0.UseRouteError),r=dB(W0.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function dY(){let{router:t}=aY(uB.UseNavigateStable),e=dB(W0.UseNavigateStable),n=P.useRef(!1);return lB(()=>{n.current=!0}),P.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,tm({fromRouteId:e},s)))},[t,e])}function Rc(t){fr(!1)}function fY(t){let{basename:e="/",children:n=null,location:r,navigationType:i=wl.Pop,navigator:s,static:o=!1,future:a}=t;Bm()&&fr(!1);let l=e.replace(/^\/*/,"/"),c=P.useMemo(()=>({basename:l,navigator:s,static:o,future:tm({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=Hf(r));let{pathname:d="/",search:h="",hash:p="",state:m=null,key:v="default"}=r,x=P.useMemo(()=>{let y=CC(d,l);return y==null?null:{location:{pathname:y,search:h,hash:p,state:m,key:v},navigationType:i}},[l,d,h,p,m,v,i]);return x==null?null:P.createElement(Su.Provider,{value:c},P.createElement(L_.Provider,{children:n,value:x}))}function hY(t){let{children:e,location:n}=t;return eY(oE(e),n)}new Promise(()=>{});function oE(t,e){e===void 0&&(e=[]);let n=[];return P.Children.forEach(t,(r,i)=>{if(!P.isValidElement(r))return;let s=[...e,i];if(r.type===P.Fragment){n.push.apply(n,oE(r.props.children,s));return}r.type!==Rc&&fr(!1),!r.props.index||!r.props.children||fr(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=oE(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function aE(){return aE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},aE.apply(this,arguments)}function pY(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function mY(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function gY(t,e){return t.button===0&&(!e||e==="_self")&&!mY(t)}function lE(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function vY(t,e){let n=lE(t);return e&&e.forEach((r,i)=>{n.has(i)||e.getAll(i).forEach(s=>{n.append(i,s)})}),n}const yY=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],xY="6";try{window.__reactRouterVersion=xY}catch{}const _Y="startTransition",XI=x3[_Y];function wY(t){let{basename:e,children:n,future:r,window:i}=t,s=P.useRef();s.current==null&&(s.current=T$({window:i,v5Compat:!0}));let o=s.current,[a,l]=P.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},d=P.useCallback(h=>{c&&XI?XI(()=>l(h)):l(h)},[l,c]);return P.useLayoutEffect(()=>o.listen(d),[o,d]),P.createElement(fY,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const SY=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",bY=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Kd=P.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:d,viewTransition:h}=e,p=pY(e,yY),{basename:m}=P.useContext(Su),v,x=!1;if(typeof c=="string"&&bY.test(c)&&(v=c,SY))try{let b=new URL(window.location.href),E=c.startsWith("//")?new URL(b.protocol+c):new URL(c),C=CC(E.pathname,m);E.origin===b.origin&&C!=null?c=C+E.search+E.hash:x=!0}catch{}let y=Q$(c,{relative:i}),g=MY(c,{replace:o,state:a,target:l,preventScrollReset:d,relative:i,viewTransition:h});function w(b){r&&r(b),b.defaultPrevented||g(b)}return P.createElement("a",aE({},p,{href:v||y,onClick:x||s?r:w,ref:n,target:l}))});var $I;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})($I||($I={}));var YI;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(YI||(YI={}));function MY(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,viewTransition:a}=e===void 0?{}:e,l=D_(),c=Mu(),d=cB(t,{relative:o});return P.useCallback(h=>{if(gY(h,n)){h.preventDefault();let p=r!==void 0?r:H0(c)===H0(d);l(t,{replace:p,state:i,preventScrollReset:s,relative:o,viewTransition:a})}},[c,l,d,r,i,n,t,s,o,a])}function EY(t){let e=P.useRef(lE(t)),n=P.useRef(!1),r=Mu(),i=P.useMemo(()=>vY(r.search,n.current?null:e.current),[r.search]),s=D_(),o=P.useCallback((a,l)=>{const c=lE(typeof a=="function"?a(i):a);n.current=!0,s("?"+c,l)},[s,i]);return[i,o]}const PC=P.createContext({});function RC(t){const e=P.useRef(null);return e.current===null&&(e.current=t()),e.current}const IC=typeof window<"u",fB=IC?P.useLayoutEffect:P.useEffect,k_=P.createContext(null);function NC(t,e){t.indexOf(e)===-1&&t.push(e)}function LC(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Ma=(t,e,n)=>n>e?e:n<t?t:n;let G0=()=>{};const Ea={},hB=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function pB(t){return typeof t=="object"&&t!==null}const mB=t=>/^0[^.\s]+$/u.test(t);function DC(t){let e;return()=>(e===void 0&&(e=t()),e)}const Cs=t=>t,TY=(t,e)=>n=>e(t(n)),zm=(...t)=>t.reduce(TY),nm=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class kC{constructor(){this.subscriptions=[]}add(e){return NC(this.subscriptions,e),()=>LC(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Po=t=>t*1e3,Ro=t=>t/1e3;function gB(t,e){return e?t*(1e3/e):0}const vB=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,CY=1e-7,AY=12;function PY(t,e,n,r,i){let s,o,a=0;do o=e+(n-e)/2,s=vB(o,r,i)-t,s>0?n=o:e=o;while(Math.abs(s)>CY&&++a<AY);return o}function Vm(t,e,n,r){if(t===e&&n===r)return Cs;const i=s=>PY(s,0,1,t,n);return s=>s===0||s===1?s:vB(i(s),e,r)}const yB=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,xB=t=>e=>1-t(1-e),_B=Vm(.33,1.53,.69,.99),OC=xB(_B),wB=yB(OC),SB=t=>(t*=2)<1?.5*OC(t):.5*(2-Math.pow(2,-10*(t-1))),FC=t=>1-Math.sin(Math.acos(t)),bB=xB(FC),MB=yB(FC),RY=Vm(.42,0,1,1),IY=Vm(0,0,.58,1),EB=Vm(.42,0,.58,1),NY=t=>Array.isArray(t)&&typeof t[0]!="number",TB=t=>Array.isArray(t)&&typeof t[0]=="number",qI={linear:Cs,easeIn:RY,easeInOut:EB,easeOut:IY,circIn:FC,circInOut:MB,circOut:bB,backIn:OC,backInOut:wB,backOut:_B,anticipate:SB},LY=t=>typeof t=="string",ZI=t=>{if(TB(t)){G0(t.length===4);const[e,n,r,i]=t;return Vm(e,n,r,i)}else if(LY(t))return G0(qI[t]!==void 0),qI[t];return t},Lv=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],KI={value:null,addProjectionMetrics:null};function DY(t,e){let n=new Set,r=new Set,i=!1,s=!1;const o=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1},l=0;function c(h){o.has(h)&&(d.schedule(h),t()),l++,h(a)}const d={schedule:(h,p=!1,m=!1)=>{const x=m&&i?n:r;return p&&o.add(h),x.has(h)||x.add(h),h},cancel:h=>{r.delete(h),o.delete(h)},process:h=>{if(a=h,i){s=!0;return}i=!0,[n,r]=[r,n],n.forEach(c),e&&KI.value&&KI.value.frameloop[e].push(l),l=0,n.clear(),i=!1,s&&(s=!1,d.process(h))}};return d}const kY=40;function CB(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,o=Lv.reduce((b,E)=>(b[E]=DY(s,e?E:void 0),b),{}),{setup:a,read:l,resolveKeyframes:c,preUpdate:d,update:h,preRender:p,render:m,postRender:v}=o,x=()=>{const b=Ea.useManualTiming?i.timestamp:performance.now();n=!1,Ea.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(b-i.timestamp,kY),1)),i.timestamp=b,i.isProcessing=!0,a.process(i),l.process(i),c.process(i),d.process(i),h.process(i),p.process(i),m.process(i),v.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(x))},y=()=>{n=!0,r=!0,i.isProcessing||t(x)};return{schedule:Lv.reduce((b,E)=>{const C=o[E];return b[E]=(A,I=!1,D=!1)=>(n||y(),C.schedule(A,I,D)),b},{}),cancel:b=>{for(let E=0;E<Lv.length;E++)o[Lv[E]].cancel(b)},state:i,steps:o}}const{schedule:kn,cancel:zl,state:Ir,steps:b1}=CB(typeof requestAnimationFrame<"u"?requestAnimationFrame:Cs,!0);let t0;function OY(){t0=void 0}const Di={now:()=>(t0===void 0&&Di.set(Ir.isProcessing||Ea.useManualTiming?Ir.timestamp:performance.now()),t0),set:t=>{t0=t,queueMicrotask(OY)}},AB=t=>e=>typeof e=="string"&&e.startsWith(t),UC=AB("--"),FY=AB("var(--"),BC=t=>FY(t)?UY.test(t.split("/*")[0].trim()):!1,UY=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Wf={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},rm={...Wf,transform:t=>Ma(0,1,t)},Dv={...Wf,default:1},hp=t=>Math.round(t*1e5)/1e5,zC=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function BY(t){return t==null}const zY=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,VC=(t,e)=>n=>!!(typeof n=="string"&&zY.test(n)&&n.startsWith(t)||e&&!BY(n)&&Object.prototype.hasOwnProperty.call(n,e)),PB=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,s,o,a]=r.match(zC);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},VY=t=>Ma(0,255,t),M1={...Wf,transform:t=>Math.round(VY(t))},Vc={test:VC("rgb","red"),parse:PB("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+M1.transform(t)+", "+M1.transform(e)+", "+M1.transform(n)+", "+hp(rm.transform(r))+")"};function jY(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const cE={test:VC("#"),parse:jY,transform:Vc.transform},jm=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),il=jm("deg"),Io=jm("%"),Ct=jm("px"),HY=jm("vh"),WY=jm("vw"),QI={...Io,parse:t=>Io.parse(t)/100,transform:t=>Io.transform(t*100)},Nd={test:VC("hsl","hue"),parse:PB("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Io.transform(hp(e))+", "+Io.transform(hp(n))+", "+hp(rm.transform(r))+")"},cr={test:t=>Vc.test(t)||cE.test(t)||Nd.test(t),parse:t=>Vc.test(t)?Vc.parse(t):Nd.test(t)?Nd.parse(t):cE.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Vc.transform(t):Nd.transform(t),getAnimatableNone:t=>{const e=cr.parse(t);return e.alpha=0,cr.transform(e)}},GY=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function XY(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(zC))==null?void 0:e.length)||0)+(((n=t.match(GY))==null?void 0:n.length)||0)>0}const RB="number",IB="color",$Y="var",YY="var(",JI="${}",qY=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function im(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const a=e.replace(qY,l=>(cr.test(l)?(r.color.push(s),i.push(IB),n.push(cr.parse(l))):l.startsWith(YY)?(r.var.push(s),i.push($Y),n.push(l)):(r.number.push(s),i.push(RB),n.push(parseFloat(l))),++s,JI)).split(JI);return{values:n,split:a,indexes:r,types:i}}function NB(t){return im(t).values}function LB(t){const{split:e,types:n}=im(t),r=e.length;return i=>{let s="";for(let o=0;o<r;o++)if(s+=e[o],i[o]!==void 0){const a=n[o];a===RB?s+=hp(i[o]):a===IB?s+=cr.transform(i[o]):s+=i[o]}return s}}const ZY=t=>typeof t=="number"?0:cr.test(t)?cr.getAnimatableNone(t):t;function KY(t){const e=NB(t);return LB(t)(e.map(ZY))}const Vl={test:XY,parse:NB,createTransformer:LB,getAnimatableNone:KY};function E1(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function QY({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,o=0;if(!e)i=s=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;i=E1(l,a,t+1/3),s=E1(l,a,t),o=E1(l,a,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}function X0(t,e){return n=>n>0?e:t}const zn=(t,e,n)=>t+(e-t)*n,T1=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},JY=[cE,Vc,Nd],eq=t=>JY.find(e=>e.test(t));function eN(t){const e=eq(t);if(!e)return!1;let n=e.parse(t);return e===Nd&&(n=QY(n)),n}const tN=(t,e)=>{const n=eN(t),r=eN(e);if(!n||!r)return X0(t,e);const i={...n};return s=>(i.red=T1(n.red,r.red,s),i.green=T1(n.green,r.green,s),i.blue=T1(n.blue,r.blue,s),i.alpha=zn(n.alpha,r.alpha,s),Vc.transform(i))},uE=new Set(["none","hidden"]);function tq(t,e){return uE.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function nq(t,e){return n=>zn(t,e,n)}function jC(t){return typeof t=="number"?nq:typeof t=="string"?BC(t)?X0:cr.test(t)?tN:sq:Array.isArray(t)?DB:typeof t=="object"?cr.test(t)?tN:rq:X0}function DB(t,e){const n=[...t],r=n.length,i=t.map((s,o)=>jC(s)(s,e[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}}function rq(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=jC(t[i])(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function iq(t,e){const n=[],r={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const s=e.types[i],o=t.indexes[s][r[s]],a=t.values[o]??0;n[i]=a,r[s]++}return n}const sq=(t,e)=>{const n=Vl.createTransformer(e),r=im(t),i=im(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?uE.has(t)&&!i.values.length||uE.has(e)&&!r.values.length?tq(t,e):zm(DB(iq(r,i),i.values),n):X0(t,e)};function kB(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?zn(t,e,n):jC(t)(t,e)}const oq=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>kn.update(e,n),stop:()=>zl(e),now:()=>Ir.isProcessing?Ir.timestamp:Di.now()}},OB=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let s=0;s<i;s++)r+=Math.round(t(s/(i-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},$0=2e4;function HC(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<$0;)e+=n,r=t.next(e);return e>=$0?1/0:e}function aq(t,e=100,n){const r=n({...t,keyframes:[0,e]}),i=Math.min(HC(r),$0);return{type:"keyframes",ease:s=>r.next(i*s).value/e,duration:Ro(i)}}const lq=5;function FB(t,e,n){const r=Math.max(e-lq,0);return gB(n-t(r),e-r)}const $n={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},C1=.001;function cq({duration:t=$n.duration,bounce:e=$n.bounce,velocity:n=$n.velocity,mass:r=$n.mass}){let i,s,o=1-e;o=Ma($n.minDamping,$n.maxDamping,o),t=Ma($n.minDuration,$n.maxDuration,Ro(t)),o<1?(i=c=>{const d=c*o,h=d*t,p=d-n,m=dE(c,o),v=Math.exp(-h);return C1-p/m*v},s=c=>{const h=c*o*t,p=h*n+n,m=Math.pow(o,2)*Math.pow(c,2)*t,v=Math.exp(-h),x=dE(Math.pow(c,2),o);return(-i(c)+C1>0?-1:1)*((p-m)*v)/x}):(i=c=>{const d=Math.exp(-c*t),h=(c-n)*t+1;return-C1+d*h},s=c=>{const d=Math.exp(-c*t),h=(n-c)*(t*t);return d*h});const a=5/t,l=dq(i,s,a);if(t=Po(t),isNaN(l))return{stiffness:$n.stiffness,damping:$n.damping,duration:t};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:t}}}const uq=12;function dq(t,e,n){let r=n;for(let i=1;i<uq;i++)r=r-t(r)/e(r);return r}function dE(t,e){return t*Math.sqrt(1-e*e)}const fq=["duration","bounce"],hq=["stiffness","damping","mass"];function nN(t,e){return e.some(n=>t[n]!==void 0)}function pq(t){let e={velocity:$n.velocity,stiffness:$n.stiffness,damping:$n.damping,mass:$n.mass,isResolvedFromDuration:!1,...t};if(!nN(t,hq)&&nN(t,fq))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,s=2*Ma(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:$n.mass,stiffness:i,damping:s}}else{const n=cq(t);e={...e,...n,mass:$n.mass},e.isResolvedFromDuration=!0}return e}function Y0(t=$n.visualDuration,e=$n.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const s=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:s},{stiffness:l,damping:c,mass:d,duration:h,velocity:p,isResolvedFromDuration:m}=pq({...n,velocity:-Ro(n.velocity||0)}),v=p||0,x=c/(2*Math.sqrt(l*d)),y=o-s,g=Ro(Math.sqrt(l/d)),w=Math.abs(y)<5;r||(r=w?$n.restSpeed.granular:$n.restSpeed.default),i||(i=w?$n.restDelta.granular:$n.restDelta.default);let b;if(x<1){const C=dE(g,x);b=A=>{const I=Math.exp(-x*g*A);return o-I*((v+x*g*y)/C*Math.sin(C*A)+y*Math.cos(C*A))}}else if(x===1)b=C=>o-Math.exp(-g*C)*(y+(v+g*y)*C);else{const C=g*Math.sqrt(x*x-1);b=A=>{const I=Math.exp(-x*g*A),D=Math.min(C*A,300);return o-I*((v+x*g*y)*Math.sinh(D)+C*y*Math.cosh(D))/C}}const E={calculatedDuration:m&&h||null,next:C=>{const A=b(C);if(m)a.done=C>=h;else{let I=C===0?v:0;x<1&&(I=C===0?Po(v):FB(b,C,A));const D=Math.abs(I)<=r,N=Math.abs(o-A)<=i;a.done=D&&N}return a.value=a.done?o:A,a},toString:()=>{const C=Math.min(HC(E),$0),A=OB(I=>E.next(C*I).value,C,30);return C+"ms "+A},toTransition:()=>{}};return E}Y0.applyToOptions=t=>{const e=aq(t,100,Y0);return t.ease=e.ease,t.duration=Po(e.duration),t.type="keyframes",t};function fE({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:d}){const h=t[0],p={done:!1,value:h},m=D=>a!==void 0&&D<a||l!==void 0&&D>l,v=D=>a===void 0?l:l===void 0||Math.abs(a-D)<Math.abs(l-D)?a:l;let x=n*e;const y=h+x,g=o===void 0?y:o(y);g!==y&&(x=g-h);const w=D=>-x*Math.exp(-D/r),b=D=>g+w(D),E=D=>{const N=w(D),R=b(D);p.done=Math.abs(N)<=c,p.value=p.done?g:R};let C,A;const I=D=>{m(p.value)&&(C=D,A=Y0({keyframes:[p.value,v(p.value)],velocity:FB(b,D,p.value),damping:i,stiffness:s,restDelta:c,restSpeed:d}))};return I(0),{calculatedDuration:null,next:D=>{let N=!1;return!A&&C===void 0&&(N=!0,E(D),I(D)),C!==void 0&&D>=C?A.next(D-C):(!N&&E(D),p)}}}function mq(t,e,n){const r=[],i=n||Ea.mix||kB,s=t.length-1;for(let o=0;o<s;o++){let a=i(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||Cs:e;a=zm(l,a)}r.push(a)}return r}function gq(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(G0(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=mq(e,r,i),l=a.length,c=d=>{if(o&&d<t[0])return e[0];let h=0;if(l>1)for(;h<t.length-2&&!(d<t[h+1]);h++);const p=nm(t[h],t[h+1],d);return a[h](p)};return n?d=>c(Ma(t[0],t[s-1],d)):c}function vq(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=nm(0,e,r);t.push(zn(n,1,i))}}function yq(t){const e=[0];return vq(e,t.length-1),e}function xq(t,e){return t.map(n=>n*e)}function _q(t,e){return t.map(()=>e||EB).splice(0,t.length-1)}function pp({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=NY(r)?r.map(ZI):ZI(r),s={done:!1,value:e[0]},o=xq(n&&n.length===e.length?n:yq(e),t),a=gq(o,e,{ease:Array.isArray(i)?i:_q(e,i)});return{calculatedDuration:t,next:l=>(s.value=a(l),s.done=l>=t,s)}}const wq=t=>t!==null;function WC(t,{repeat:e,repeatType:n="loop"},r,i=1){const s=t.filter(wq),a=i<0||e&&n!=="loop"&&e%2===1?0:s.length-1;return!a||r===void 0?s[a]:r}const Sq={decay:fE,inertia:fE,tween:pp,keyframes:pp,spring:Y0};function UB(t){typeof t.type=="string"&&(t.type=Sq[t.type])}class GC{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const bq=t=>t/100;class XC extends GC{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,i;const{motionValue:n}=this.options;n&&n.updatedAt!==Di.now()&&this.tick(Di.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(r=this.options).onStop)==null||i.call(r))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;UB(e);const{type:n=pp,repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:o=0}=e;let{keyframes:a}=e;const l=n||pp;l!==pp&&typeof a[0]!="number"&&(this.mixKeyframes=zm(bq,kB(a[0],a[1])),a=[0,100]);const c=l({...e,keyframes:a});s==="mirror"&&(this.mirroredGenerator=l({...e,keyframes:[...a].reverse(),velocity:-o})),c.calculatedDuration===null&&(c.calculatedDuration=HC(c));const{calculatedDuration:d}=c;this.calculatedDuration=d,this.resolvedDuration=d+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=c}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:i,mixKeyframes:s,mirroredGenerator:o,resolvedDuration:a,calculatedDuration:l}=this;if(this.startTime===null)return r.next(0);const{delay:c=0,keyframes:d,repeat:h,repeatType:p,repeatDelay:m,type:v,onUpdate:x,finalKeyframe:y}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const g=this.currentTime-c*(this.playbackSpeed>=0?1:-1),w=this.playbackSpeed>=0?g<0:g>i;this.currentTime=Math.max(g,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let b=this.currentTime,E=r;if(h){const D=Math.min(this.currentTime,i)/a;let N=Math.floor(D),R=D%1;!R&&D>=1&&(R=1),R===1&&N--,N=Math.min(N,h+1),!!(N%2)&&(p==="reverse"?(R=1-R,m&&(R-=m/a)):p==="mirror"&&(E=o)),b=Ma(0,1,R)*a}const C=w?{done:!1,value:d[0]}:E.next(b);s&&(C.value=s(C.value));let{done:A}=C;!w&&l!==null&&(A=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const I=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&A);return I&&v!==fE&&(C.value=WC(d,this.options,y,this.speed)),x&&x(C.value),I&&this.finish(),C}then(e,n){return this.finished.then(e,n)}get duration(){return Ro(this.calculatedDuration)}get time(){return Ro(this.currentTime)}set time(e){var n;e=Po(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Di.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Ro(this.currentTime))}play(){var i,s;if(this.isStopped)return;const{driver:e=oq,startTime:n}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),(s=(i=this.options).onPlay)==null||s.call(i);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Di.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function Mq(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const jc=t=>t*180/Math.PI,hE=t=>{const e=jc(Math.atan2(t[1],t[0]));return pE(e)},Eq={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:hE,rotateZ:hE,skewX:t=>jc(Math.atan(t[1])),skewY:t=>jc(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},pE=t=>(t=t%360,t<0&&(t+=360),t),rN=hE,iN=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),sN=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),Tq={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:iN,scaleY:sN,scale:t=>(iN(t)+sN(t))/2,rotateX:t=>pE(jc(Math.atan2(t[6],t[5]))),rotateY:t=>pE(jc(Math.atan2(-t[2],t[0]))),rotateZ:rN,rotate:rN,skewX:t=>jc(Math.atan(t[4])),skewY:t=>jc(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function mE(t){return t.includes("scale")?1:0}function gE(t,e){if(!t||t==="none")return mE(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(n)r=Tq,i=n;else{const a=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=Eq,i=a}if(!i)return mE(e);const s=r[e],o=i[1].split(",").map(Aq);return typeof s=="function"?s(o):o[s]}const Cq=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return gE(n,e)};function Aq(t){return parseFloat(t.trim())}const Gf=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Xf=new Set(Gf),oN=t=>t===Wf||t===Ct,Pq=new Set(["x","y","z"]),Rq=Gf.filter(t=>!Pq.has(t));function Iq(t){const e=[];return Rq.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Jc={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>gE(e,"x"),y:(t,{transform:e})=>gE(e,"y")};Jc.translateX=Jc.x;Jc.translateY=Jc.y;const eu=new Set;let vE=!1,yE=!1,xE=!1;function BB(){if(yE){const t=Array.from(eu).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=Iq(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([s,o])=>{var a;(a=r.getValue(s))==null||a.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}yE=!1,vE=!1,eu.forEach(t=>t.complete(xE)),eu.clear()}function zB(){eu.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(yE=!0)})}function Nq(){xE=!0,zB(),BB(),xE=!1}class $C{constructor(e,n,r,i,s,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(eu.add(this),vE||(vE=!0,kn.read(zB),kn.resolveKeyframes(BB))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;if(e[0]===null){const s=i==null?void 0:i.get(),o=e[e.length-1];if(s!==void 0)e[0]=s;else if(r&&n){const a=r.readValue(n,o);a!=null&&(e[0]=a)}e[0]===void 0&&(e[0]=o),i&&s===void 0&&i.set(e[0])}Mq(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),eu.delete(this)}cancel(){this.state==="scheduled"&&(eu.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const Lq=t=>t.startsWith("--");function Dq(t,e,n){Lq(e)?t.style.setProperty(e,n):t.style[e]=n}const kq=DC(()=>window.ScrollTimeline!==void 0),Oq={};function Fq(t,e){const n=DC(t);return()=>Oq[e]??n()}const VB=Fq(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),qh=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,aN={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:qh([0,.65,.55,1]),circOut:qh([.55,0,1,.45]),backIn:qh([.31,.01,.66,-.59]),backOut:qh([.33,1.53,.69,.99])};function jB(t,e){if(t)return typeof t=="function"?VB()?OB(t,e):"ease-out":TB(t)?qh(t):Array.isArray(t)?t.map(n=>jB(n,e)||aN.easeOut):aN[t]}function Uq(t,e,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:o="loop",ease:a="easeOut",times:l}={},c=void 0){const d={[e]:n};l&&(d.offset=l);const h=jB(a,i);Array.isArray(h)&&(d.easing=h);const p={delay:r,duration:i,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"};return c&&(p.pseudoElement=c),t.animate(d,p)}function HB(t){return typeof t=="function"&&"applyToOptions"in t}function Bq({type:t,...e}){return HB(t)&&VB()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class zq extends GC{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:i,pseudoElement:s,allowFlatten:o=!1,finalKeyframe:a,onComplete:l}=e;this.isPseudoElement=!!s,this.allowFlatten=o,this.options=e,G0(typeof e.type!="string");const c=Bq(e);this.animation=Uq(n,r,i,c,s),c.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const d=WC(i,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(d):Dq(n,r,d),this.animation.cancel()}l==null||l(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,r;const e=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return Ro(Number(e))}get time(){return Ro(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Po(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&kq()?(this.animation.timeline=e,Cs):n(this)}}const WB={anticipate:SB,backInOut:wB,circInOut:MB};function Vq(t){return t in WB}function jq(t){typeof t.ease=="string"&&Vq(t.ease)&&(t.ease=WB[t.ease])}const lN=10;class Hq extends zq{constructor(e){jq(e),UB(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:i,element:s,...o}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const a=new XC({...o,autoplay:!1}),l=Po(this.finishedTime??this.time);n.setWithVelocity(a.sample(l-lN).value,a.sample(l).value,lN),a.stop()}}const cN=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Vl.test(t)||t==="0")&&!t.startsWith("url("));function Wq(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function Gq(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],o=cN(i,e),a=cN(s,e);return!o||!a?!1:Wq(t)||(n==="spring"||HB(n))&&r}const Xq=new Set(["opacity","clipPath","filter","transform"]),$q=DC(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function Yq(t){var d;const{motionValue:e,name:n,repeatDelay:r,repeatType:i,damping:s,type:o}=t;if(!(((d=e==null?void 0:e.owner)==null?void 0:d.current)instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:c}=e.owner.getProps();return $q()&&n&&Xq.has(n)&&(n!=="transform"||!c)&&!l&&!r&&i!=="mirror"&&s!==0&&o!=="inertia"}const qq=40;class Zq extends GC{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:o="loop",keyframes:a,name:l,motionValue:c,element:d,...h}){var v;super(),this.stop=()=>{var x,y;this._animation&&(this._animation.stop(),(x=this.stopTimeline)==null||x.call(this)),(y=this.keyframeResolver)==null||y.cancel()},this.createdAt=Di.now();const p={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:o,name:l,motionValue:c,element:d,...h},m=(d==null?void 0:d.KeyframeResolver)||$C;this.keyframeResolver=new m(a,(x,y,g)=>this.onKeyframesResolved(x,y,p,!g),l,c,d),(v=this.keyframeResolver)==null||v.scheduleResolve()}onKeyframesResolved(e,n,r,i){this.keyframeResolver=void 0;const{name:s,type:o,velocity:a,delay:l,isHandoff:c,onUpdate:d}=r;this.resolvedAt=Di.now(),Gq(e,s,o,a)||((Ea.instantAnimations||!l)&&(d==null||d(WC(e,r,n))),e[0]=e[e.length-1],r.duration=0,r.repeat=0);const p={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>qq?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},m=!c&&Yq(p)?new Hq({...p,element:p.motionValue.owner.current}):new XC(p);m.finished.then(()=>this.notifyFinished()).catch(Cs),this.pendingTimeline&&(this.stopTimeline=m.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=m}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),Nq()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const Kq=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Qq(t){const e=Kq.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function GB(t,e,n=1){const[r,i]=Qq(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const o=s.trim();return hB(o)?parseFloat(o):o}return BC(i)?GB(i,e,n+1):i}function YC(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const XB=new Set(["width","height","top","left","right","bottom",...Gf]),Jq={test:t=>t==="auto",parse:t=>t},$B=t=>e=>e.test(t),YB=[Wf,Ct,Io,il,WY,HY,Jq],uN=t=>YB.find($B(t));function eZ(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||mB(t):!0}const tZ=new Set(["brightness","contrast","saturate","opacity"]);function nZ(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(zC)||[];if(!r)return t;const i=n.replace(r,"");let s=tZ.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const rZ=/\b([a-z-]*)\(.*?\)/gu,_E={...Vl,getAnimatableNone:t=>{const e=t.match(rZ);return e?e.map(nZ).join(" "):t}},dN={...Wf,transform:Math.round},iZ={rotate:il,rotateX:il,rotateY:il,rotateZ:il,scale:Dv,scaleX:Dv,scaleY:Dv,scaleZ:Dv,skew:il,skewX:il,skewY:il,distance:Ct,translateX:Ct,translateY:Ct,translateZ:Ct,x:Ct,y:Ct,z:Ct,perspective:Ct,transformPerspective:Ct,opacity:rm,originX:QI,originY:QI,originZ:Ct},qC={borderWidth:Ct,borderTopWidth:Ct,borderRightWidth:Ct,borderBottomWidth:Ct,borderLeftWidth:Ct,borderRadius:Ct,radius:Ct,borderTopLeftRadius:Ct,borderTopRightRadius:Ct,borderBottomRightRadius:Ct,borderBottomLeftRadius:Ct,width:Ct,maxWidth:Ct,height:Ct,maxHeight:Ct,top:Ct,right:Ct,bottom:Ct,left:Ct,padding:Ct,paddingTop:Ct,paddingRight:Ct,paddingBottom:Ct,paddingLeft:Ct,margin:Ct,marginTop:Ct,marginRight:Ct,marginBottom:Ct,marginLeft:Ct,backgroundPositionX:Ct,backgroundPositionY:Ct,...iZ,zIndex:dN,fillOpacity:rm,strokeOpacity:rm,numOctaves:dN},sZ={...qC,color:cr,backgroundColor:cr,outlineColor:cr,fill:cr,stroke:cr,borderColor:cr,borderTopColor:cr,borderRightColor:cr,borderBottomColor:cr,borderLeftColor:cr,filter:_E,WebkitFilter:_E},qB=t=>sZ[t];function ZB(t,e){let n=qB(t);return n!==_E&&(n=Vl),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const oZ=new Set(["auto","none","0"]);function aZ(t,e,n){let r=0,i;for(;r<t.length&&!i;){const s=t[r];typeof s=="string"&&!oZ.has(s)&&im(s).values.length&&(i=t[r]),r++}if(i&&n)for(const s of e)t[s]=ZB(n,i)}class lZ extends $C{constructor(e,n,r,i,s){super(e,n,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let c=e[l];if(typeof c=="string"&&(c=c.trim(),BC(c))){const d=GB(c,n.current);d!==void 0&&(e[l]=d),l===e.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!XB.has(r)||e.length!==2)return;const[i,s]=e,o=uN(i),a=uN(s);if(o!==a)if(oN(o)&&oN(a))for(let l=0;l<e.length;l++){const c=e[l];typeof c=="string"&&(e[l]=parseFloat(c))}else Jc[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)(e[i]===null||eZ(e[i]))&&r.push(i);r.length&&aZ(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Jc[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var a;const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const i=e.getValue(n);i&&i.jump(this.measuredOrigin,!1);const s=r.length-1,o=r[s];r[s]=Jc[n](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(a=this.removedTransforms)!=null&&a.length&&this.removedTransforms.forEach(([l,c])=>{e.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function cZ(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){const i=document.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}const KB=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function QB(t){return pB(t)&&"offsetHeight"in t}const fN=30,uZ=t=>!isNaN(parseFloat(t));class dZ{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{var o,a;const s=Di.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((o=this.events.change)==null||o.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty();i&&((a=this.events.renderRequest)==null||a.notify(this.current))},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Di.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=uZ(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new kC);const r=this.events[e].add(n);return e==="change"?()=>{r(),kn.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Di.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>fN)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,fN);return gB(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function wf(t,e){return new dZ(t,e)}const{schedule:ZC,cancel:Hhe}=CB(queueMicrotask,!1),Bs={x:!1,y:!1};function JB(){return Bs.x||Bs.y}function fZ(t){return t==="x"||t==="y"?Bs[t]?null:(Bs[t]=!0,()=>{Bs[t]=!1}):Bs.x||Bs.y?null:(Bs.x=Bs.y=!0,()=>{Bs.x=Bs.y=!1})}function ez(t,e){const n=cZ(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function hN(t){return!(t.pointerType==="touch"||JB())}function hZ(t,e,n={}){const[r,i,s]=ez(t,n),o=a=>{if(!hN(a))return;const{target:l}=a,c=e(l,a);if(typeof c!="function"||!l)return;const d=h=>{hN(h)&&(c(h),l.removeEventListener("pointerleave",d))};l.addEventListener("pointerleave",d,i)};return r.forEach(a=>{a.addEventListener("pointerenter",o,i)}),s}const tz=(t,e)=>e?t===e?!0:tz(t,e.parentElement):!1,KC=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,pZ=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function mZ(t){return pZ.has(t.tagName)||t.tabIndex!==-1}const n0=new WeakSet;function pN(t){return e=>{e.key==="Enter"&&t(e)}}function A1(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const gZ=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=pN(()=>{if(n0.has(n))return;A1(n,"down");const i=pN(()=>{A1(n,"up")}),s=()=>A1(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",s,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function mN(t){return KC(t)&&!JB()}function vZ(t,e,n={}){const[r,i,s]=ez(t,n),o=a=>{const l=a.currentTarget;if(!mN(a))return;n0.add(l);const c=e(l,a),d=(m,v)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",p),n0.has(l)&&n0.delete(l),mN(m)&&typeof c=="function"&&c(m,{success:v})},h=m=>{d(m,l===window||l===document||n.useGlobalTarget||tz(l,m.target))},p=m=>{d(m,!1)};window.addEventListener("pointerup",h,i),window.addEventListener("pointercancel",p,i)};return r.forEach(a=>{(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,i),QB(a)&&(a.addEventListener("focus",c=>gZ(c,i)),!mZ(a)&&!a.hasAttribute("tabindex")&&(a.tabIndex=0))}),s}function nz(t){return pB(t)&&"ownerSVGElement"in t}function yZ(t){return nz(t)&&t.tagName==="svg"}const Kr=t=>!!(t&&t.getVelocity),xZ=[...YB,cr,Vl],_Z=t=>xZ.find($B(t)),QC=P.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class wZ extends P.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,i=QB(r)&&r.offsetWidth||0,s=this.props.sizeRef.current;s.height=n.offsetHeight||0,s.width=n.offsetWidth||0,s.top=n.offsetTop,s.left=n.offsetLeft,s.right=i-s.width-s.left}return null}componentDidUpdate(){}render(){return this.props.children}}function SZ({children:t,isPresent:e,anchorX:n,root:r}){const i=P.useId(),s=P.useRef(null),o=P.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:a}=P.useContext(QC);return P.useInsertionEffect(()=>{const{width:l,height:c,top:d,left:h,right:p}=o.current;if(e||!s.current||!l||!c)return;const m=n==="left"?`left: ${h}`:`right: ${p}`;s.current.dataset.motionPopId=i;const v=document.createElement("style");a&&(v.nonce=a);const x=r??document.head;return x.appendChild(v),v.sheet&&v.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${l}px !important;
            height: ${c}px !important;
            ${m}px !important;
            top: ${d}px !important;
          }
        `),()=>{x.contains(v)&&x.removeChild(v)}},[e]),S.jsx(wZ,{isPresent:e,childRef:s,sizeRef:o,children:P.cloneElement(t,{ref:s})})}const bZ=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:o,anchorX:a,root:l})=>{const c=RC(MZ),d=P.useId();let h=!0,p=P.useMemo(()=>(h=!1,{id:d,initial:e,isPresent:n,custom:i,onExitComplete:m=>{c.set(m,!0);for(const v of c.values())if(!v)return;r&&r()},register:m=>(c.set(m,!1),()=>c.delete(m))}),[n,c,r]);return s&&h&&(p={...p}),P.useMemo(()=>{c.forEach((m,v)=>c.set(v,!1))},[n]),P.useEffect(()=>{!n&&!c.size&&r&&r()},[n]),o==="popLayout"&&(t=S.jsx(SZ,{isPresent:n,anchorX:a,root:l,children:t})),S.jsx(k_.Provider,{value:p,children:t})};function MZ(){return new Map}function rz(t=!0){const e=P.useContext(k_);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,s=P.useId();P.useEffect(()=>{if(t)return i(s)},[t]);const o=P.useCallback(()=>t&&r&&r(s),[s,r,t]);return!n&&r?[!1,o]:[!0]}const kv=t=>t.key||"";function gN(t){const e=[];return P.Children.forEach(t,n=>{P.isValidElement(n)&&e.push(n)}),e}const iz=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:s="sync",propagate:o=!1,anchorX:a="left",root:l})=>{const[c,d]=rz(o),h=P.useMemo(()=>gN(t),[t]),p=o&&!c?[]:h.map(kv),m=P.useRef(!0),v=P.useRef(h),x=RC(()=>new Map),[y,g]=P.useState(h),[w,b]=P.useState(h);fB(()=>{m.current=!1,v.current=h;for(let A=0;A<w.length;A++){const I=kv(w[A]);p.includes(I)?x.delete(I):x.get(I)!==!0&&x.set(I,!1)}},[w,p.length,p.join("-")]);const E=[];if(h!==y){let A=[...h];for(let I=0;I<w.length;I++){const D=w[I],N=kv(D);p.includes(N)||(A.splice(I,0,D),E.push(D))}return s==="wait"&&E.length&&(A=E),b(gN(A)),g(h),null}const{forceRender:C}=P.useContext(PC);return S.jsx(S.Fragment,{children:w.map(A=>{const I=kv(A),D=o&&!c?!1:h===w||p.includes(I),N=()=>{if(x.has(I))x.set(I,!0);else return;let R=!0;x.forEach(F=>{F||(R=!1)}),R&&(C==null||C(),b(v.current),o&&(d==null||d()),r&&r())};return S.jsx(bZ,{isPresent:D,initial:!m.current||n?void 0:!1,custom:e,presenceAffectsLayout:i,mode:s,root:l,onExitComplete:D?void 0:N,anchorX:a,children:A},I)})})},sz=P.createContext({strict:!1}),vN={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Sf={};for(const t in vN)Sf[t]={isEnabled:e=>vN[t].some(n=>!!e[n])};function EZ(t){for(const e in t)Sf[e]={...Sf[e],...t[e]}}const TZ=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function q0(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||TZ.has(t)}let oz=t=>!q0(t);function CZ(t){typeof t=="function"&&(oz=e=>e.startsWith("on")?!q0(e):t(e))}try{CZ(require("@emotion/is-prop-valid").default)}catch{}function AZ(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(oz(i)||n===!0&&q0(i)||!e&&!q0(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}const O_=P.createContext({});function F_(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function sm(t){return typeof t=="string"||Array.isArray(t)}const JC=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],eA=["initial",...JC];function U_(t){return F_(t.animate)||eA.some(e=>sm(t[e]))}function az(t){return!!(U_(t)||t.variants)}function PZ(t,e){if(U_(t)){const{initial:n,animate:r}=t;return{initial:n===!1||sm(n)?n:void 0,animate:sm(r)?r:void 0}}return t.inherit!==!1?e:{}}function RZ(t){const{initial:e,animate:n}=PZ(t,P.useContext(O_));return P.useMemo(()=>({initial:e,animate:n}),[yN(e),yN(n)])}function yN(t){return Array.isArray(t)?t.join(" "):t}const om={};function IZ(t){for(const e in t)om[e]=t[e],UC(e)&&(om[e].isCSSVariable=!0)}function lz(t,{layout:e,layoutId:n}){return Xf.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!om[t]||t==="opacity")}const NZ={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},LZ=Gf.length;function DZ(t,e,n){let r="",i=!0;for(let s=0;s<LZ;s++){const o=Gf[s],a=t[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const c=KB(a,qC[o]);if(!l){i=!1;const d=NZ[o]||o;r+=`${d}(${c}) `}n&&(e[o]=c)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function tA(t,e,n){const{style:r,vars:i,transformOrigin:s}=t;let o=!1,a=!1;for(const l in e){const c=e[l];if(Xf.has(l)){o=!0;continue}else if(UC(l)){i[l]=c;continue}else{const d=KB(c,qC[l]);l.startsWith("origin")?(a=!0,s[l]=d):r[l]=d}}if(e.transform||(o||n?r.transform=DZ(e,t.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:c="50%",originZ:d=0}=s;r.transformOrigin=`${l} ${c} ${d}`}}const nA=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function cz(t,e,n){for(const r in e)!Kr(e[r])&&!lz(r,n)&&(t[r]=e[r])}function kZ({transformTemplate:t},e){return P.useMemo(()=>{const n=nA();return tA(n,e,t),Object.assign({},n.vars,n.style)},[e])}function OZ(t,e){const n=t.style||{},r={};return cz(r,n,t),Object.assign(r,kZ(t,e)),r}function FZ(t,e){const n={},r=OZ(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const UZ={offset:"stroke-dashoffset",array:"stroke-dasharray"},BZ={offset:"strokeDashoffset",array:"strokeDasharray"};function zZ(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?UZ:BZ;t[s.offset]=Ct.transform(-r);const o=Ct.transform(e),a=Ct.transform(n);t[s.array]=`${o} ${a}`}function uz(t,{attrX:e,attrY:n,attrScale:r,pathLength:i,pathSpacing:s=1,pathOffset:o=0,...a},l,c,d){if(tA(t,a,c),l){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:h,style:p}=t;h.transform&&(p.transform=h.transform,delete h.transform),(p.transform||h.transformOrigin)&&(p.transformOrigin=h.transformOrigin??"50% 50%",delete h.transformOrigin),p.transform&&(p.transformBox=(d==null?void 0:d.transformBox)??"fill-box",delete h.transformBox),e!==void 0&&(h.x=e),n!==void 0&&(h.y=n),r!==void 0&&(h.scale=r),i!==void 0&&zZ(h,i,s,o,!1)}const dz=()=>({...nA(),attrs:{}}),fz=t=>typeof t=="string"&&t.toLowerCase()==="svg";function VZ(t,e,n,r){const i=P.useMemo(()=>{const s=dz();return uz(s,e,fz(r),t.transformTemplate,t.style),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};cz(s,t.style,t),i.style={...s,...i.style}}return i}const jZ=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function rA(t){return typeof t!="string"||t.includes("-")?!1:!!(jZ.indexOf(t)>-1||/[A-Z]/u.test(t))}function HZ(t,e,n,{latestValues:r},i,s=!1){const a=(rA(t)?VZ:FZ)(e,r,i,t),l=AZ(e,typeof t=="string",s),c=t!==P.Fragment?{...l,...a,ref:n}:{},{children:d}=e,h=P.useMemo(()=>Kr(d)?d.get():d,[d]);return P.createElement(t,{...c,children:h})}function xN(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function iA(t,e,n,r){if(typeof e=="function"){const[i,s]=xN(r);e=e(n!==void 0?n:t.custom,i,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,s]=xN(r);e=e(n!==void 0?n:t.custom,i,s)}return e}function r0(t){return Kr(t)?t.get():t}function WZ({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,i){return{latestValues:GZ(n,r,i,t),renderState:e()}}function GZ(t,e,n,r){const i={},s=r(t,{});for(const p in s)i[p]=r0(s[p]);let{initial:o,animate:a}=t;const l=U_(t),c=az(t);e&&c&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let d=n?n.initial===!1:!1;d=d||o===!1;const h=d?a:o;if(h&&typeof h!="boolean"&&!F_(h)){const p=Array.isArray(h)?h:[h];for(let m=0;m<p.length;m++){const v=iA(t,p[m]);if(v){const{transitionEnd:x,transition:y,...g}=v;for(const w in g){let b=g[w];if(Array.isArray(b)){const E=d?b.length-1:0;b=b[E]}b!==null&&(i[w]=b)}for(const w in x)i[w]=x[w]}}}return i}const hz=t=>(e,n)=>{const r=P.useContext(O_),i=P.useContext(k_),s=()=>WZ(t,e,r,i);return n?s():RC(s)};function sA(t,e,n){var s;const{style:r}=t,i={};for(const o in r)(Kr(r[o])||e.style&&Kr(e.style[o])||lz(o,t)||((s=n==null?void 0:n.getValue(o))==null?void 0:s.liveStyle)!==void 0)&&(i[o]=r[o]);return i}const XZ=hz({scrapeMotionValuesFromProps:sA,createRenderState:nA});function pz(t,e,n){const r=sA(t,e,n);for(const i in t)if(Kr(t[i])||Kr(e[i])){const s=Gf.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=t[i]}return r}const $Z=hz({scrapeMotionValuesFromProps:pz,createRenderState:dz}),YZ=Symbol.for("motionComponentSymbol");function Ld(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function qZ(t,e,n){return P.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Ld(n)&&(n.current=r))},[e])}const oA=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),ZZ="framerAppearId",mz="data-"+oA(ZZ),gz=P.createContext({});function KZ(t,e,n,r,i){var x,y;const{visualElement:s}=P.useContext(O_),o=P.useContext(sz),a=P.useContext(k_),l=P.useContext(QC).reducedMotion,c=P.useRef(null);r=r||o.renderer,!c.current&&r&&(c.current=r(t,{visualState:e,parent:s,props:n,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:l}));const d=c.current,h=P.useContext(gz);d&&!d.projection&&i&&(d.type==="html"||d.type==="svg")&&QZ(c.current,n,i,h);const p=P.useRef(!1);P.useInsertionEffect(()=>{d&&p.current&&d.update(n,a)});const m=n[mz],v=P.useRef(!!m&&!((x=window.MotionHandoffIsComplete)!=null&&x.call(window,m))&&((y=window.MotionHasOptimisedAnimation)==null?void 0:y.call(window,m)));return fB(()=>{d&&(p.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),d.scheduleRenderMicrotask(),v.current&&d.animationState&&d.animationState.animateChanges())}),P.useEffect(()=>{d&&(!v.current&&d.animationState&&d.animationState.animateChanges(),v.current&&(queueMicrotask(()=>{var g;(g=window.MotionHandoffMarkAsComplete)==null||g.call(window,m)}),v.current=!1))}),d}function QZ(t,e,n,r){const{layoutId:i,layout:s,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:c,layoutCrossfade:d}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:vz(t.parent)),t.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!o||a&&Ld(a),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,crossfade:d,layoutScroll:l,layoutRoot:c})}function vz(t){if(t)return t.options.allowProjection!==!1?t.projection:vz(t.parent)}function P1(t,{forwardMotionProps:e=!1}={},n,r){n&&EZ(n);const i=rA(t)?$Z:XZ;function s(a,l){let c;const d={...P.useContext(QC),...a,layoutId:JZ(a)},{isStatic:h}=d,p=RZ(a),m=i(a,h);if(!h&&IC){eK();const v=tK(d);c=v.MeasureLayout,p.visualElement=KZ(t,m,d,r,v.ProjectionNode)}return S.jsxs(O_.Provider,{value:p,children:[c&&p.visualElement?S.jsx(c,{visualElement:p.visualElement,...d}):null,HZ(t,a,qZ(m,p.visualElement,l),m,h,e)]})}s.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const o=P.forwardRef(s);return o[YZ]=t,o}function JZ({layoutId:t}){const e=P.useContext(PC).id;return e&&t!==void 0?e+"-"+t:t}function eK(t,e){P.useContext(sz).strict}function tK(t){const{drag:e,layout:n}=Sf;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function nK(t,e){if(typeof Proxy>"u")return P1;const n=new Map,r=(s,o)=>P1(s,o,t,e),i=(s,o)=>r(s,o);return new Proxy(i,{get:(s,o)=>o==="create"?r:(n.has(o)||n.set(o,P1(o,void 0,t,e)),n.get(o))})}function yz({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function rK({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function iK(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function R1(t){return t===void 0||t===1}function wE({scale:t,scaleX:e,scaleY:n}){return!R1(t)||!R1(e)||!R1(n)}function Ic(t){return wE(t)||xz(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function xz(t){return _N(t.x)||_N(t.y)}function _N(t){return t&&t!=="0%"}function Z0(t,e,n){const r=t-n,i=e*r;return n+i}function wN(t,e,n,r,i){return i!==void 0&&(t=Z0(t,i,r)),Z0(t,n,r)+e}function SE(t,e=0,n=1,r,i){t.min=wN(t.min,e,n,r,i),t.max=wN(t.max,e,n,r,i)}function _z(t,{x:e,y:n}){SE(t.x,e.translate,e.scale,e.originPoint),SE(t.y,n.translate,n.scale,n.originPoint)}const SN=.999999999999,bN=1.0000000000001;function sK(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,o;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&kd(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,_z(t,o)),r&&Ic(s.latestValues)&&kd(t,s.latestValues))}e.x<bN&&e.x>SN&&(e.x=1),e.y<bN&&e.y>SN&&(e.y=1)}function Dd(t,e){t.min=t.min+e,t.max=t.max+e}function MN(t,e,n,r,i=.5){const s=zn(t.min,t.max,i);SE(t,e,n,s,r)}function kd(t,e){MN(t.x,e.x,e.scaleX,e.scale,e.originX),MN(t.y,e.y,e.scaleY,e.scale,e.originY)}function wz(t,e){return yz(iK(t.getBoundingClientRect(),e))}function oK(t,e,n){const r=wz(t,n),{scroll:i}=e;return i&&(Dd(r.x,i.offset.x),Dd(r.y,i.offset.y)),r}const EN=()=>({translate:0,scale:1,origin:0,originPoint:0}),Od=()=>({x:EN(),y:EN()}),TN=()=>({min:0,max:0}),tr=()=>({x:TN(),y:TN()}),bE={current:null},Sz={current:!1};function aK(){if(Sz.current=!0,!!IC)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>bE.current=t.matches;t.addEventListener("change",e),e()}else bE.current=!1}const lK=new WeakMap;function cK(t,e,n){for(const r in e){const i=e[r],s=n[r];if(Kr(i))t.addValue(r,i);else if(Kr(s))t.addValue(r,wf(i,{owner:t}));else if(s!==i)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=t.getStaticValue(r);t.addValue(r,wf(o!==void 0?o:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const CN=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class uK{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=$C,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const p=Di.now();this.renderScheduledAt<p&&(this.renderScheduledAt=p,kn.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=!!s,this.isControllingVariants=U_(n),this.isVariantNode=az(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:d,...h}=this.scrapeMotionValuesFromProps(n,{},this);for(const p in h){const m=h[p];l[p]!==void 0&&Kr(m)&&m.set(l[p],!1)}}mount(e){this.current=e,lK.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),Sz.current||aK(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:bE.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),zl(this.notifyUpdate),zl(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Xf.has(e);r&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&kn.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),s(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Sf){const n=Sf[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):tr()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<CN.length;r++){const i=CN[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,o=e[s];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=cK(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=wf(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(hB(r)||mB(r))?r=parseFloat(r):!_Z(r)&&Vl.test(n)&&(r=ZB(e,n)),this.setBaseTarget(e,Kr(r)?r.get():r)),Kr(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var s;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const o=iA(this.props,n,(s=this.presenceContext)==null?void 0:s.custom);o&&(r=o[e])}if(n&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!Kr(i)?i:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new kC),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){ZC.render(this.render)}}class bz extends uK{constructor(){super(...arguments),this.KeyframeResolver=lZ}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Kr(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function Mz(t,{style:e,vars:n},r,i){const s=t.style;let o;for(o in e)s[o]=e[o];i==null||i.applyProjectionStyles(s,r);for(o in n)s.setProperty(o,n[o])}function dK(t){return window.getComputedStyle(t)}class fK extends bz{constructor(){super(...arguments),this.type="html",this.renderInstance=Mz}readValueFromInstance(e,n){var r;if(Xf.has(n))return(r=this.projection)!=null&&r.isProjecting?mE(n):Cq(e,n);{const i=dK(e),s=(UC(n)?i.getPropertyValue(n):i[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return wz(e,n)}build(e,n,r){tA(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return sA(e,n,r)}}const Ez=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function hK(t,e,n,r){Mz(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(Ez.has(i)?i:oA(i),e.attrs[i])}class pK extends bz{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=tr}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Xf.has(n)){const r=qB(n);return r&&r.default||0}return n=Ez.has(n)?n:oA(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return pz(e,n,r)}build(e,n,r){uz(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,i){hK(e,n,r,i)}mount(e){this.isSVGTag=fz(e.tagName),super.mount(e)}}const mK=(t,e)=>rA(t)?new pK(e):new fK(e,{allowProjection:t!==P.Fragment});function am(t,e,n){const r=t.getProps();return iA(r,e,n!==void 0?n:r.custom,t)}const ME=t=>Array.isArray(t);function gK(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,wf(n))}function vK(t){return ME(t)?t[t.length-1]||0:t}function yK(t,e){const n=am(t,e);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const o in s){const a=vK(s[o]);gK(t,o,a)}}function xK(t){return!!(Kr(t)&&t.add)}function EE(t,e){const n=t.getValue("willChange");if(xK(n))return n.add(e);if(!n&&Ea.WillChange){const r=new Ea.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function Tz(t){return t.props[mz]}const _K=t=>t!==null;function wK(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(_K),s=e&&n!=="loop"&&e%2===1?0:i.length-1;return!s||r===void 0?i[s]:r}const SK={type:"spring",stiffness:500,damping:25,restSpeed:10},bK=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),MK={type:"keyframes",duration:.8},EK={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},TK=(t,{keyframes:e})=>e.length>2?MK:Xf.has(t)?t.startsWith("scale")?bK(e[1]):SK:EK;function CK({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:c,...d}){return!!Object.keys(d).length}const aA=(t,e,n,r={},i,s)=>o=>{const a=YC(r,t)||{},l=a.delay||r.delay||0;let{elapsed:c=0}=r;c=c-Po(l);const d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-c,onUpdate:p=>{e.set(p),a.onUpdate&&a.onUpdate(p)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:s?void 0:i};CK(a)||Object.assign(d,TK(t,d)),d.duration&&(d.duration=Po(d.duration)),d.repeatDelay&&(d.repeatDelay=Po(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let h=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(h=!0)),(Ea.instantAnimations||Ea.skipAnimations)&&(h=!0,d.duration=0,d.delay=0),d.allowFlatten=!a.type&&!a.ease,h&&!s&&e.get()!==void 0){const p=wK(d.keyframes,a);if(p!==void 0){kn.update(()=>{d.onUpdate(p),d.onComplete()});return}}return a.isSync?new XC(d):new Zq(d)};function AK({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function Cz(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:s=t.getDefaultTransition(),transitionEnd:o,...a}=e;r&&(s=r);const l=[],c=i&&t.animationState&&t.animationState.getState()[i];for(const d in a){const h=t.getValue(d,t.latestValues[d]??null),p=a[d];if(p===void 0||c&&AK(c,d))continue;const m={delay:n,...YC(s||{},d)},v=h.get();if(v!==void 0&&!h.isAnimating&&!Array.isArray(p)&&p===v&&!m.velocity)continue;let x=!1;if(window.MotionHandoffAnimation){const g=Tz(t);if(g){const w=window.MotionHandoffAnimation(g,d,kn);w!==null&&(m.startTime=w,x=!0)}}EE(t,d),h.start(aA(d,h,p,t.shouldReduceMotion&&XB.has(d)?{type:!1}:m,t,x));const y=h.animation;y&&l.push(y)}return o&&Promise.all(l).then(()=>{kn.update(()=>{o&&yK(t,o)})}),l}function TE(t,e,n={}){var l;const r=am(t,e,n.type==="exit"?(l=t.presenceContext)==null?void 0:l.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const s=r?()=>Promise.all(Cz(t,r,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:d=0,staggerChildren:h,staggerDirection:p}=i;return PK(t,e,c,d,h,p,n)}:()=>Promise.resolve(),{when:a}=i;if(a){const[c,d]=a==="beforeChildren"?[s,o]:[o,s];return c().then(()=>d())}else return Promise.all([s(),o(n.delay)])}function PK(t,e,n=0,r=0,i=0,s=1,o){const a=[],l=t.variantChildren.size,c=(l-1)*i,d=typeof r=="function",h=d?p=>r(p,l):s===1?(p=0)=>p*i:(p=0)=>c-p*i;return Array.from(t.variantChildren).sort(RK).forEach((p,m)=>{p.notify("AnimationStart",e),a.push(TE(p,e,{...o,delay:n+(d?0:r)+h(m)}).then(()=>p.notify("AnimationComplete",e)))}),Promise.all(a)}function RK(t,e){return t.sortNodePosition(e)}function IK(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>TE(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=TE(t,e,n);else{const i=typeof e=="function"?am(t,e,n.custom):e;r=Promise.all(Cz(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function Az(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const NK=eA.length;function Pz(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?Pz(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<NK;n++){const r=eA[n],i=t.props[r];(sm(i)||i===!1)&&(e[r]=i)}return e}const LK=[...JC].reverse(),DK=JC.length;function kK(t){return e=>Promise.all(e.map(({animation:n,options:r})=>IK(t,n,r)))}function OK(t){let e=kK(t),n=AN(),r=!0;const i=l=>(c,d)=>{var p;const h=am(t,d,l==="exit"?(p=t.presenceContext)==null?void 0:p.custom:void 0);if(h){const{transition:m,transitionEnd:v,...x}=h;c={...c,...x,...v}}return c};function s(l){e=l(t)}function o(l){const{props:c}=t,d=Pz(t.parent)||{},h=[],p=new Set;let m={},v=1/0;for(let y=0;y<DK;y++){const g=LK[y],w=n[g],b=c[g]!==void 0?c[g]:d[g],E=sm(b),C=g===l?w.isActive:null;C===!1&&(v=y);let A=b===d[g]&&b!==c[g]&&E;if(A&&r&&t.manuallyAnimateOnMount&&(A=!1),w.protectedKeys={...m},!w.isActive&&C===null||!b&&!w.prevProp||F_(b)||typeof b=="boolean")continue;const I=FK(w.prevProp,b);let D=I||g===l&&w.isActive&&!A&&E||y>v&&E,N=!1;const R=Array.isArray(b)?b:[b];let F=R.reduce(i(g),{});C===!1&&(F={});const{prevResolvedValues:j={}}=w,G={...j,...F},$=re=>{D=!0,p.has(re)&&(N=!0,p.delete(re)),w.needsAnimating[re]=!0;const k=t.getValue(re);k&&(k.liveStyle=!1)};for(const re in G){const k=F[re],W=j[re];if(m.hasOwnProperty(re))continue;let q=!1;ME(k)&&ME(W)?q=!Az(k,W):q=k!==W,q?k!=null?$(re):p.add(re):k!==void 0&&p.has(re)?$(re):w.protectedKeys[re]=!0}w.prevProp=b,w.prevResolvedValues=F,w.isActive&&(m={...m,...F}),r&&t.blockInitialAnimation&&(D=!1),D&&(!(A&&I)||N)&&h.push(...R.map(re=>({animation:re,options:{type:g}})))}if(p.size){const y={};if(typeof c.initial!="boolean"){const g=am(t,Array.isArray(c.initial)?c.initial[0]:c.initial);g&&g.transition&&(y.transition=g.transition)}p.forEach(g=>{const w=t.getBaseTarget(g),b=t.getValue(g);b&&(b.liveStyle=!0),y[g]=w??null}),h.push({animation:y})}let x=!!h.length;return r&&(c.initial===!1||c.initial===c.animate)&&!t.manuallyAnimateOnMount&&(x=!1),r=!1,x?e(h):Promise.resolve()}function a(l,c){var h;if(n[l].isActive===c)return Promise.resolve();(h=t.variantChildren)==null||h.forEach(p=>{var m;return(m=p.animationState)==null?void 0:m.setActive(l,c)}),n[l].isActive=c;const d=o(l);for(const p in n)n[p].protectedKeys={};return d}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n,reset:()=>{n=AN(),r=!0}}}function FK(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!Az(e,t):!1}function fc(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function AN(){return{animate:fc(!0),whileInView:fc(),whileHover:fc(),whileTap:fc(),whileDrag:fc(),whileFocus:fc(),exit:fc()}}class ql{constructor(e){this.isMounted=!1,this.node=e}update(){}}class UK extends ql{constructor(e){super(e),e.animationState||(e.animationState=OK(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();F_(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let BK=0;class zK extends ql{constructor(){super(...arguments),this.id=BK++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const VK={animation:{Feature:UK},exit:{Feature:zK}};function lm(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Hm(t){return{point:{x:t.pageX,y:t.pageY}}}const jK=t=>e=>KC(e)&&t(e,Hm(e));function mp(t,e,n,r){return lm(t,e,jK(n),r)}const Rz=1e-4,HK=1-Rz,WK=1+Rz,Iz=.01,GK=0-Iz,XK=0+Iz;function hi(t){return t.max-t.min}function $K(t,e,n){return Math.abs(t-e)<=n}function PN(t,e,n,r=.5){t.origin=r,t.originPoint=zn(e.min,e.max,t.origin),t.scale=hi(n)/hi(e),t.translate=zn(n.min,n.max,t.origin)-t.originPoint,(t.scale>=HK&&t.scale<=WK||isNaN(t.scale))&&(t.scale=1),(t.translate>=GK&&t.translate<=XK||isNaN(t.translate))&&(t.translate=0)}function gp(t,e,n,r){PN(t.x,e.x,n.x,r?r.originX:void 0),PN(t.y,e.y,n.y,r?r.originY:void 0)}function RN(t,e,n){t.min=n.min+e.min,t.max=t.min+hi(e)}function YK(t,e,n){RN(t.x,e.x,n.x),RN(t.y,e.y,n.y)}function IN(t,e,n){t.min=e.min-n.min,t.max=t.min+hi(e)}function vp(t,e,n){IN(t.x,e.x,n.x),IN(t.y,e.y,n.y)}function vs(t){return[t("x"),t("y")]}const Nz=({current:t})=>t?t.ownerDocument.defaultView:null,NN=(t,e)=>Math.abs(t-e);function qK(t,e){const n=NN(t.x,e.x),r=NN(t.y,e.y);return Math.sqrt(n**2+r**2)}class Lz{constructor(e,n,{transformPagePoint:r,contextWindow:i=window,dragSnapToOrigin:s=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const p=N1(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,v=qK(p.offset,{x:0,y:0})>=this.distanceThreshold;if(!m&&!v)return;const{point:x}=p,{timestamp:y}=Ir;this.history.push({...x,timestamp:y});const{onStart:g,onMove:w}=this.handlers;m||(g&&g(this.lastMoveEvent,p),this.startEvent=this.lastMoveEvent),w&&w(this.lastMoveEvent,p)},this.handlePointerMove=(p,m)=>{this.lastMoveEvent=p,this.lastMoveEventInfo=I1(m,this.transformPagePoint),kn.update(this.updatePoint,!0)},this.handlePointerUp=(p,m)=>{this.end();const{onEnd:v,onSessionEnd:x,resumeAnimation:y}=this.handlers;if(this.dragSnapToOrigin&&y&&y(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=N1(p.type==="pointercancel"?this.lastMoveEventInfo:I1(m,this.transformPagePoint),this.history);this.startEvent&&v&&v(p,g),x&&x(p,g)},!KC(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=o,this.contextWindow=i||window;const a=Hm(e),l=I1(a,this.transformPagePoint),{point:c}=l,{timestamp:d}=Ir;this.history=[{...c,timestamp:d}];const{onSessionStart:h}=n;h&&h(e,N1(l,this.history)),this.removeListeners=zm(mp(this.contextWindow,"pointermove",this.handlePointerMove),mp(this.contextWindow,"pointerup",this.handlePointerUp),mp(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),zl(this.updatePoint)}}function I1(t,e){return e?{point:e(t.point)}:t}function LN(t,e){return{x:t.x-e.x,y:t.y-e.y}}function N1({point:t},e){return{point:t,delta:LN(t,Dz(e)),offset:LN(t,ZK(e)),velocity:KK(e,.1)}}function ZK(t){return t[0]}function Dz(t){return t[t.length-1]}function KK(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=Dz(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>Po(e)));)n--;if(!r)return{x:0,y:0};const s=Ro(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function QK(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?zn(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?zn(n,t,r.max):Math.min(t,n)),t}function DN(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function JK(t,{top:e,left:n,bottom:r,right:i}){return{x:DN(t.x,n,i),y:DN(t.y,e,r)}}function kN(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function eQ(t,e){return{x:kN(t.x,e.x),y:kN(t.y,e.y)}}function tQ(t,e){let n=.5;const r=hi(t),i=hi(e);return i>r?n=nm(e.min,e.max-r,t.min):r>i&&(n=nm(t.min,t.max-i,e.min)),Ma(0,1,n)}function nQ(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const CE=.35;function rQ(t=CE){return t===!1?t=0:t===!0&&(t=CE),{x:ON(t,"left","right"),y:ON(t,"top","bottom")}}function ON(t,e,n){return{min:FN(t,e),max:FN(t,n)}}function FN(t,e){return typeof t=="number"?t:t[e]||0}const iQ=new WeakMap;class sQ{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=tr(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const s=h=>{const{dragSnapToOrigin:p}=this.getProps();p?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Hm(h).point)},o=(h,p)=>{const{drag:m,dragPropagation:v,onDragStart:x}=this.getProps();if(m&&!v&&(this.openDragLock&&this.openDragLock(),this.openDragLock=fZ(m),!this.openDragLock))return;this.latestPointerEvent=h,this.latestPanInfo=p,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),vs(g=>{let w=this.getAxisMotionValue(g).get()||0;if(Io.test(w)){const{projection:b}=this.visualElement;if(b&&b.layout){const E=b.layout.layoutBox[g];E&&(w=hi(E)*(parseFloat(w)/100))}}this.originPoint[g]=w}),x&&kn.postRender(()=>x(h,p)),EE(this.visualElement,"transform");const{animationState:y}=this.visualElement;y&&y.setActive("whileDrag",!0)},a=(h,p)=>{this.latestPointerEvent=h,this.latestPanInfo=p;const{dragPropagation:m,dragDirectionLock:v,onDirectionLock:x,onDrag:y}=this.getProps();if(!m&&!this.openDragLock)return;const{offset:g}=p;if(v&&this.currentDirection===null){this.currentDirection=oQ(g),this.currentDirection!==null&&x&&x(this.currentDirection);return}this.updateAxis("x",p.point,g),this.updateAxis("y",p.point,g),this.visualElement.render(),y&&y(h,p)},l=(h,p)=>{this.latestPointerEvent=h,this.latestPanInfo=p,this.stop(h,p),this.latestPointerEvent=null,this.latestPanInfo=null},c=()=>vs(h=>{var p;return this.getAnimationState(h)==="paused"&&((p=this.getAxisMotionValue(h).animation)==null?void 0:p.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new Lz(e,{onSessionStart:s,onStart:o,onMove:a,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,distanceThreshold:r,contextWindow:Nz(this.visualElement)})}stop(e,n){const r=e||this.latestPointerEvent,i=n||this.latestPanInfo,s=this.isDragging;if(this.cancel(),!s||!i||!r)return;const{velocity:o}=i;this.startAnimation(o);const{onDragEnd:a}=this.getProps();a&&kn.postRender(()=>a(r,i))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!Ov(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=QK(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var s;const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(s=this.visualElement.projection)==null?void 0:s.layout,i=this.constraints;e&&Ld(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=JK(r.layoutBox,e):this.constraints=!1,this.elastic=rQ(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&vs(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=nQ(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Ld(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=oK(r,i.root,this.visualElement.getTransformPagePoint());let o=eQ(i.layout.layoutBox,s);if(n){const a=n(rK(o));this.hasMutatedConstraints=!!a,a&&(o=yz(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=vs(d=>{if(!Ov(d,n,this.currentDirection))return;let h=l&&l[d]||{};o&&(h={min:0,max:0});const p=i?200:1e6,m=i?40:1e7,v={type:"inertia",velocity:r?e[d]:0,bounceStiffness:p,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...s,...h};return this.startAxisValueAnimation(d,v)});return Promise.all(c).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return EE(this.visualElement,e),r.start(aA(e,r,0,n,this.visualElement,!1))}stopAnimation(){vs(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){vs(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){vs(n=>{const{drag:r}=this.getProps();if(!Ov(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[n];s.set(e[n]-zn(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Ld(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};vs(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();i[o]=tQ({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),vs(o=>{if(!Ov(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(zn(l,c,i[o]))})}addListeners(){if(!this.visualElement.current)return;iQ.set(this.visualElement,this);const e=this.visualElement.current,n=mp(e,"pointerdown",l=>{const{drag:c,dragListener:d=!0}=this.getProps();c&&d&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Ld(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),kn.read(r);const o=lm(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(vs(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=l[d].translate,h.set(h.get()+l[d].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=CE,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function Ov(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function oQ(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class aQ extends ql{constructor(e){super(e),this.removeGroupControls=Cs,this.removeListeners=Cs,this.controls=new sQ(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Cs}unmount(){this.removeGroupControls(),this.removeListeners()}}const UN=t=>(e,n)=>{t&&kn.postRender(()=>t(e,n))};class lQ extends ql{constructor(){super(...arguments),this.removePointerDownListener=Cs}onPointerDown(e){this.session=new Lz(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Nz(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:UN(e),onStart:UN(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&kn.postRender(()=>i(s,o))}}}mount(){this.removePointerDownListener=mp(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const i0={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function BN(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Ah={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Ct.test(t))t=parseFloat(t);else return t;const n=BN(t,e.target.x),r=BN(t,e.target.y);return`${n}% ${r}%`}},cQ={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=Vl.parse(t);if(i.length>5)return r;const s=Vl.createTransformer(t),o=typeof i[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;i[0+o]/=a,i[1+o]/=l;const c=zn(a,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=c),typeof i[3+o]=="number"&&(i[3+o]/=c),s(i)}};let zN=!1;class uQ extends P.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;IZ(dQ),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),zN&&s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),i0.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,{projection:o}=r;return o&&(o.isPresent=s,zN=!0,i||e.layoutDependency!==n||n===void 0||e.isPresent!==s?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||kn.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),ZC.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function kz(t){const[e,n]=rz(),r=P.useContext(PC);return S.jsx(uQ,{...t,layoutGroup:r,switchLayoutGroup:P.useContext(gz),isPresent:e,safeToRemove:n})}const dQ={borderRadius:{...Ah,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ah,borderTopRightRadius:Ah,borderBottomLeftRadius:Ah,borderBottomRightRadius:Ah,boxShadow:cQ};function fQ(t,e,n){const r=Kr(t)?t:wf(t);return r.start(aA("",r,e,n)),r.animation}const hQ=(t,e)=>t.depth-e.depth;class pQ{constructor(){this.children=[],this.isDirty=!1}add(e){NC(this.children,e),this.isDirty=!0}remove(e){LC(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(hQ),this.isDirty=!1,this.children.forEach(e)}}function mQ(t,e){const n=Di.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(zl(r),t(s-e))};return kn.setup(r,!0),()=>zl(r)}const Oz=["TopLeft","TopRight","BottomLeft","BottomRight"],gQ=Oz.length,VN=t=>typeof t=="string"?parseFloat(t):t,jN=t=>typeof t=="number"||Ct.test(t);function vQ(t,e,n,r,i,s){i?(t.opacity=zn(0,n.opacity??1,yQ(r)),t.opacityExit=zn(e.opacity??1,0,xQ(r))):s&&(t.opacity=zn(e.opacity??1,n.opacity??1,r));for(let o=0;o<gQ;o++){const a=`border${Oz[o]}Radius`;let l=HN(e,a),c=HN(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||jN(l)===jN(c)?(t[a]=Math.max(zn(VN(l),VN(c),r),0),(Io.test(c)||Io.test(l))&&(t[a]+="%")):t[a]=c}(e.rotate||n.rotate)&&(t.rotate=zn(e.rotate||0,n.rotate||0,r))}function HN(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const yQ=Fz(0,.5,bB),xQ=Fz(.5,.95,Cs);function Fz(t,e,n){return r=>r<t?0:r>e?1:n(nm(t,e,r))}function WN(t,e){t.min=e.min,t.max=e.max}function ms(t,e){WN(t.x,e.x),WN(t.y,e.y)}function GN(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function XN(t,e,n,r,i){return t-=e,t=Z0(t,1/n,r),i!==void 0&&(t=Z0(t,1/i,r)),t}function _Q(t,e=0,n=1,r=.5,i,s=t,o=t){if(Io.test(e)&&(e=parseFloat(e),e=zn(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=zn(s.min,s.max,r);t===s&&(a-=e),t.min=XN(t.min,e,n,a,i),t.max=XN(t.max,e,n,a,i)}function $N(t,e,[n,r,i],s,o){_Q(t,e[n],e[r],e[i],e.scale,s,o)}const wQ=["x","scaleX","originX"],SQ=["y","scaleY","originY"];function YN(t,e,n,r){$N(t.x,e,wQ,n?n.x:void 0,r?r.x:void 0),$N(t.y,e,SQ,n?n.y:void 0,r?r.y:void 0)}function qN(t){return t.translate===0&&t.scale===1}function Uz(t){return qN(t.x)&&qN(t.y)}function ZN(t,e){return t.min===e.min&&t.max===e.max}function bQ(t,e){return ZN(t.x,e.x)&&ZN(t.y,e.y)}function KN(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function Bz(t,e){return KN(t.x,e.x)&&KN(t.y,e.y)}function QN(t){return hi(t.x)/hi(t.y)}function JN(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class MQ{constructor(){this.members=[]}add(e){NC(this.members,e),e.scheduleRender()}remove(e){if(LC(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function EQ(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((i||s||o)&&(r=`translate3d(${i}px, ${s}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:c,rotate:d,rotateX:h,rotateY:p,skewX:m,skewY:v}=n;c&&(r=`perspective(${c}px) ${r}`),d&&(r+=`rotate(${d}deg) `),h&&(r+=`rotateX(${h}deg) `),p&&(r+=`rotateY(${p}deg) `),m&&(r+=`skewX(${m}deg) `),v&&(r+=`skewY(${v}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const L1=["","X","Y","Z"],TQ=1e3;let CQ=0;function D1(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function zz(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=Tz(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",kn,!(i||s))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&zz(r)}function Vz({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=e==null?void 0:e()){this.id=CQ++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(RQ),this.nodes.forEach(DQ),this.nodes.forEach(kQ),this.nodes.forEach(IQ)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new pQ)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new kC),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=nz(o)&&!yZ(o),this.instance=o;const{layoutId:a,layout:l,visualElement:c}=this.options;if(c&&!c.current&&c.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||a)&&(this.isLayoutDirty=!0),t){let d,h=0;const p=()=>this.root.updateBlockedByResize=!1;kn.read(()=>{h=window.innerWidth}),t(o,()=>{const m=window.innerWidth;m!==h&&(h=m,this.root.updateBlockedByResize=!0,d&&d(),d=mQ(p,250),i0.hasAnimatedSinceResize&&(i0.hasAnimatedSinceResize=!1,this.nodes.forEach(nL)))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&c&&(a||l)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:h,hasRelativeLayoutChanged:p,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||c.getDefaultTransition()||zQ,{onLayoutAnimationStart:x,onLayoutAnimationComplete:y}=c.getProps(),g=!this.targetLayout||!Bz(this.targetLayout,m),w=!h&&p;if(this.options.layoutRoot||this.resumeFrom||w||h&&(g||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const b={...YC(v,"layout"),onPlay:x,onComplete:y};(c.shouldReduceMotion||this.options.layoutRoot)&&(b.delay=0,b.type=!1),this.startAnimation(b),this.setAnimationOrigin(d,w)}else h||nL(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),zl(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(OQ),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&zz(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(eL);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(tL);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(LQ),this.nodes.forEach(AQ),this.nodes.forEach(PQ)):this.nodes.forEach(tL),this.clearAllSnapshots();const a=Di.now();Ir.delta=Ma(0,1e3/60,a-Ir.timestamp),Ir.timestamp=a,Ir.isProcessing=!0,b1.update.process(Ir),b1.preRender.process(Ir),b1.render.process(Ir),Ir.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,ZC.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(NQ),this.sharedNodes.forEach(FQ)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,kn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){kn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!hi(this.snapshot.measuredBox.x)&&!hi(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=tr(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&this.instance){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!Uz(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,d=c!==this.prevTransformTemplateValue;o&&this.instance&&(a||Ic(this.latestValues)||d)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),VQ(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var c;const{visualElement:o}=this.options;if(!o)return tr();const a=o.measureViewportBox();if(!(((c=this.scroll)==null?void 0:c.wasRoot)||this.path.some(jQ))){const{scroll:d}=this.root;d&&(Dd(a.x,d.offset.x),Dd(a.y,d.offset.y))}return a}removeElementScroll(o){var l;const a=tr();if(ms(a,o),(l=this.scroll)!=null&&l.wasRoot)return a;for(let c=0;c<this.path.length;c++){const d=this.path[c],{scroll:h,options:p}=d;d!==this.root&&h&&p.layoutScroll&&(h.wasRoot&&ms(a,o),Dd(a.x,h.offset.x),Dd(a.y,h.offset.y))}return a}applyTransform(o,a=!1){const l=tr();ms(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c];!a&&d.options.layoutScroll&&d.scroll&&d!==d.root&&kd(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Ic(d.latestValues)&&kd(l,d.latestValues)}return Ic(this.latestValues)&&kd(l,this.latestValues),l}removeTransform(o){const a=tr();ms(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!Ic(c.latestValues))continue;wE(c.latestValues)&&c.updateSnapshot();const d=tr(),h=c.measurePageBox();ms(d,h),YN(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,d)}return Ic(this.latestValues)&&YN(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ir.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var p;const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==a;if(!(o||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(p=this.parent)!=null&&p.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:h}=this.options;if(!(!this.layout||!(d||h))){if(this.resolvedRelativeTargetAt=Ir.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=tr(),this.relativeTargetOrigin=tr(),vp(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),ms(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=tr(),this.targetWithTransforms=tr()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),YK(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ms(this.target,this.layout.layoutBox),_z(this.target,this.targetDelta)):ms(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=tr(),this.relativeTargetOrigin=tr(),vp(this.relativeTargetOrigin,this.target,m.target),ms(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||wE(this.parent.latestValues)||xz(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var v;const o=this.getLead(),a=!!this.resumingFrom||this!==o;let l=!0;if((this.isProjectionDirty||(v=this.parent)!=null&&v.isProjectionDirty)&&(l=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===Ir.timestamp&&(l=!1),l)return;const{layout:c,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||d))return;ms(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,p=this.treeScale.y;sK(this.layoutCorrected,this.treeScale,this.path,a),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=tr());const{target:m}=o;if(!m){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(GN(this.prevProjectionDelta.x,this.projectionDelta.x),GN(this.prevProjectionDelta.y,this.projectionDelta.y)),gp(this.projectionDelta,this.layoutCorrected,m,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==p||!JN(this.projectionDelta.x,this.prevProjectionDelta.x)||!JN(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)==null||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Od(),this.projectionDelta=Od(),this.projectionDeltaWithTransform=Od()}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},d={...this.latestValues},h=Od();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const p=tr(),m=l?l.source:void 0,v=this.layout?this.layout.source:void 0,x=m!==v,y=this.getStack(),g=!y||y.members.length<=1,w=!!(x&&!g&&this.options.crossfade===!0&&!this.path.some(BQ));this.animationProgress=0;let b;this.mixTargetDelta=E=>{const C=E/1e3;rL(h.x,o.x,C),rL(h.y,o.y,C),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(vp(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),UQ(this.relativeTarget,this.relativeTargetOrigin,p,C),b&&bQ(this.relativeTarget,b)&&(this.isProjectionDirty=!1),b||(b=tr()),ms(b,this.relativeTarget)),x&&(this.animationValues=d,vQ(d,c,this.latestValues,C,w,g)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=C},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var a,l,c;this.notifyListeners("animationStart"),(a=this.currentAnimation)==null||a.stop(),(c=(l=this.resumingFrom)==null?void 0:l.currentAnimation)==null||c.stop(),this.pendingAnimation&&(zl(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=kn.update(()=>{i0.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=wf(0)),this.currentAnimation=fQ(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),o.onUpdate&&o.onUpdate(d)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(TQ),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:d}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&jz(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||tr();const h=hi(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+h;const p=hi(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+p}ms(a,l),kd(a,d),gp(this.projectionDeltaWithTransform,this.layoutCorrected,a,d)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new MQ),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var a;const{layoutId:o}=this.options;return o?((a=this.getStack())==null?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:o}=this.options;return o?(a=this.getStack())==null?void 0:a.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const c={};l.z&&D1("z",o,c,this.animationValues);for(let d=0;d<L1.length;d++)D1(`rotate${L1[d]}`,o,c,this.animationValues),D1(`skew${L1[d]}`,o,c,this.animationValues);o.render();for(const d in c)o.setStaticValue(d,c[d]),this.animationValues&&(this.animationValues[d]=c[d]);o.scheduleRender()}applyProjectionStyles(o,a){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const l=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=r0(a==null?void 0:a.pointerEvents)||"",o.transform=l?l(this.latestValues,""):"none";return}const c=this.getLead();if(!this.projectionDelta||!this.layout||!c.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=r0(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!Ic(this.latestValues)&&(o.transform=l?l({},""):"none",this.hasProjected=!1);return}o.visibility="";const d=c.animationValues||c.latestValues;this.applyTransformsToTarget();let h=EQ(this.projectionDeltaWithTransform,this.treeScale,d);l&&(h=l(d,h)),o.transform=h;const{x:p,y:m}=this.projectionDelta;o.transformOrigin=`${p.origin*100}% ${m.origin*100}% 0`,c.animationValues?o.opacity=c===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:o.opacity=c===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const v in om){if(d[v]===void 0)continue;const{correct:x,applyTo:y,isCSSVariable:g}=om[v],w=h==="none"?d[v]:x(d[v],c);if(y){const b=y.length;for(let E=0;E<b;E++)o[y[E]]=w}else g?this.options.visualElement.renderState.vars[v]=w:o[v]=w}this.options.layoutId&&(o.pointerEvents=c===this?r0(a==null?void 0:a.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)==null?void 0:a.stop()}),this.root.nodes.forEach(eL),this.root.sharedNodes.clear()}}}function AQ(t){t.updateLayout()}function PQ(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:s}=t.options,o=e.source!==t.layout.source;s==="size"?vs(h=>{const p=o?e.measuredBox[h]:e.layoutBox[h],m=hi(p);p.min=r[h].min,p.max=p.min+m}):jz(s,e.layoutBox,r)&&vs(h=>{const p=o?e.measuredBox[h]:e.layoutBox[h],m=hi(r[h]);p.max=p.min+m,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+m)});const a=Od();gp(a,r,e.layoutBox);const l=Od();o?gp(l,t.applyTransform(i,!0),e.measuredBox):gp(l,r,e.layoutBox);const c=!Uz(a);let d=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:p,layout:m}=h;if(p&&m){const v=tr();vp(v,e.layoutBox,p.layoutBox);const x=tr();vp(x,r,m.layoutBox),Bz(v,x)||(d=!0),h.options.layoutRoot&&(t.relativeTarget=x,t.relativeTargetOrigin=v,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeLayoutChanged:d})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function RQ(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function IQ(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function NQ(t){t.clearSnapshot()}function eL(t){t.clearMeasurements()}function tL(t){t.isLayoutDirty=!1}function LQ(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function nL(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function DQ(t){t.resolveTargetDelta()}function kQ(t){t.calcProjection()}function OQ(t){t.resetSkewAndRotation()}function FQ(t){t.removeLeadSnapshot()}function rL(t,e,n){t.translate=zn(e.translate,0,n),t.scale=zn(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function iL(t,e,n,r){t.min=zn(e.min,n.min,r),t.max=zn(e.max,n.max,r)}function UQ(t,e,n,r){iL(t.x,e.x,n.x,r),iL(t.y,e.y,n.y,r)}function BQ(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const zQ={duration:.45,ease:[.4,0,.1,1]},sL=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),oL=sL("applewebkit/")&&!sL("chrome/")?Math.round:Cs;function aL(t){t.min=oL(t.min),t.max=oL(t.max)}function VQ(t){aL(t.x),aL(t.y)}function jz(t,e,n){return t==="position"||t==="preserve-aspect"&&!$K(QN(e),QN(n),.2)}function jQ(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const HQ=Vz({attachResizeListener:(t,e)=>lm(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),k1={current:void 0},Hz=Vz({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!k1.current){const t=new HQ({});t.mount(window),t.setOptions({layoutScroll:!0}),k1.current=t}return k1.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),WQ={pan:{Feature:lQ},drag:{Feature:aQ,ProjectionNode:Hz,MeasureLayout:kz}};function lL(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,s=r[i];s&&kn.postRender(()=>s(e,Hm(e)))}class GQ extends ql{mount(){const{current:e}=this.node;e&&(this.unmount=hZ(e,(n,r)=>(lL(this.node,r,"Start"),i=>lL(this.node,i,"End"))))}unmount(){}}class XQ extends ql{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=zm(lm(this.node.current,"focus",()=>this.onFocus()),lm(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function cL(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),s=r[i];s&&kn.postRender(()=>s(e,Hm(e)))}class $Q extends ql{mount(){const{current:e}=this.node;e&&(this.unmount=vZ(e,(n,r)=>(cL(this.node,r,"Start"),(i,{success:s})=>cL(this.node,i,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const AE=new WeakMap,O1=new WeakMap,YQ=t=>{const e=AE.get(t.target);e&&e(t)},qQ=t=>{t.forEach(YQ)};function ZQ({root:t,...e}){const n=t||document;O1.has(n)||O1.set(n,{});const r=O1.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(qQ,{root:t,...e})),r[i]}function KQ(t,e,n){const r=ZQ(e);return AE.set(t,n),r.observe(t),()=>{AE.delete(t),r.unobserve(t)}}const QQ={some:0,all:1};class JQ extends ql{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:QQ[i]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,s&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),p=c?d:h;p&&p(l)};return KQ(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(eJ(e,n))&&this.startObserver()}unmount(){}}function eJ({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const tJ={inView:{Feature:JQ},tap:{Feature:$Q},focus:{Feature:XQ},hover:{Feature:GQ}},nJ={layout:{ProjectionNode:Hz,MeasureLayout:kz}},rJ={...VK,...tJ,...WQ,...nJ},$e=nK(rJ,mK),iJ=hC("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),bs=P.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...i},s)=>{const o=r?kl:"button";return S.jsx(o,{className:wn(iJ({variant:e,size:n,className:t})),ref:s,...i})});bs.displayName="Button";const sJ=()=>S.jsx(Kd,{to:"/",children:S.jsx($e.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.5},whileHover:{scale:1.05},className:"cursor-pointer",children:S.jsx($e.img,{src:"https://res.cloudinary.com/dlxhvugmw/image/upload/v1755342413/ChatGPT_Image_Aug_16__2025__04_23_54_PM-removebg-preview_ytq1ea.png",alt:"Virach Logo",className:"h-12 w-auto object-contain",whileHover:{scale:1.02},transition:{duration:.2}})})}),uL=[{name:"Home",path:"/",icon:i9},{name:"About",path:"/about",icon:p9},{name:"Solutions",path:"/solutions",icon:YG},{name:"Contact",path:"/contact",icon:oU},{name:"Careers",path:"/careers",icon:Yp}],oJ=()=>{const[t,e]=P.useState(!1),n=Mu();return S.jsxs(S.Fragment,{children:[S.jsx($e.header,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.6},className:"fixed top-0 left-0 right-0 z-50 glass border-b border-glass-border/50",children:S.jsx("div",{className:"container mx-auto px-6",children:S.jsxs("div",{className:"flex items-center h-16",children:[S.jsx("div",{className:"flex-shrink-0",children:S.jsx(sJ,{})}),S.jsx("nav",{className:"hidden md:flex items-center space-x-8 flex-1 justify-center ml-[600px]",children:uL.map(r=>{const i=n.pathname===r.path;return S.jsx(Kd,{to:r.path,className:`text-sm font-medium transition-colors hover:text-primary ${i?"text-primary":"text-muted-foreground"}`,children:r.name},r.name)})}),S.jsx(bs,{variant:"ghost",size:"sm",onClick:()=>e(!t),className:`md:hidden ${t?"glow-primary":""}`,children:t?S.jsx(qp,{className:"h-5 w-5 text-foreground"}):S.jsx(o9,{className:"h-5 w-5 text-foreground"})})]})})}),S.jsx(iz,{children:t&&S.jsx($e.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"fixed top-16 left-0 right-0 z-40 md:hidden glass border-b border-glass-border/50",children:S.jsx("div",{className:"container mx-auto px-6 py-4",children:S.jsx("nav",{className:"space-y-4",children:uL.map((r,i)=>{const s=n.pathname===r.path;return S.jsx($e.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3,delay:i*.1},children:S.jsx(Kd,{to:r.path,onClick:()=>e(!1),className:`block text-base font-medium transition-colors hover:text-primary ${s?"text-primary":"text-foreground"}`,children:r.name})},r.name)})})})})})]})},bf=({children:t,className:e})=>S.jsx("div",{className:wn("bento-grid",e),children:t}),pi=({children:t,className:e,size:n="1x1",delay:r=0,hover:i=!0})=>S.jsxs($e.div,{initial:{opacity:0,y:20,scale:.95},animate:{opacity:1,y:0,scale:1},transition:{duration:.5,delay:r,ease:[.4,0,.2,1]},whileHover:i?{scale:1.02,y:-5,transition:{duration:.2}}:void 0,className:wn("bento-card relative group",`bento-${n}`,e),children:[S.jsx("div",{className:"absolute inset-0 bg-gradient-glow opacity-0 group-hover:opacity-100 transition-opacity duration-300 rounded-2xl"}),S.jsx("div",{className:"relative z-10 h-full",children:t})]});/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const B_="178",Nc={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},Lc={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},Wz=0,PE=1,Gz=2,aJ=3,Xz=0,z_=1,yp=2,Hs=3,Ta=0,gi=1,So=2,ma=0,tu=1,RE=2,IE=3,NE=4,$z=5,dl=100,Yz=101,qz=102,Zz=103,Kz=104,Qz=200,Jz=201,e4=202,t4=203,K0=204,Q0=205,n4=206,r4=207,i4=208,s4=209,o4=210,a4=211,l4=212,c4=213,u4=214,J0=0,ex=1,tx=2,fu=3,nx=4,rx=5,ix=6,sx=7,Wm=0,d4=1,f4=2,No=0,h4=1,p4=2,m4=3,lA=4,g4=5,v4=6,y4=7,LE="attached",x4="detached",V_=300,Ca=301,jl=302,cm=303,um=304,$f=306,dm=1e3,Ms=1001,fm=1002,Dr=1003,cA=1004,lJ=1004,Fd=1005,cJ=1005,yr=1006,xp=1007,uJ=1007,Mo=1008,dJ=1008,Is=1009,uA=1010,dA=1011,Mf=1012,j_=1013,Aa=1014,ki=1015,Yf=1016,H_=1017,W_=1018,Ef=1020,fA=35902,hA=1021,pA=1022,Qr=1023,Tf=1026,Cf=1027,G_=1028,Gm=1029,mA=1030,X_=1031,fJ=1032,$_=1033,_p=33776,wp=33777,Sp=33778,bp=33779,ox=35840,ax=35841,lx=35842,cx=35843,ux=36196,dx=37492,fx=37496,hx=37808,px=37809,mx=37810,gx=37811,vx=37812,yx=37813,xx=37814,_x=37815,wx=37816,Sx=37817,bx=37818,Mx=37819,Ex=37820,Tx=37821,Mp=36492,Cx=36494,Ax=36495,gA=36283,Px=36284,Rx=36285,Ix=36286,_4=2200,w4=2201,S4=2202,hm=2300,Nx=2301,s0=2302,Hc=2400,Wc=2401,pm=2402,Y_=2500,vA=2501,hJ=0,pJ=1,mJ=2,b4=3200,M4=3201,gJ=3202,vJ=3203,Zl=0,E4=1,la="",Ri="srgb",hu="srgb-linear",mm="linear",Sn="srgb",yJ=0,Dc=7680,xJ=7681,_J=7682,wJ=7683,SJ=34055,bJ=34056,MJ=5386,EJ=512,TJ=513,CJ=514,AJ=515,PJ=516,RJ=517,IJ=518,DE=519,T4=512,C4=513,A4=514,yA=515,P4=516,R4=517,I4=518,N4=519,gm=35044,NJ=35048,LJ=35040,DJ=35045,kJ=35049,OJ=35041,FJ=35046,UJ=35050,BJ=35042,zJ="100",kE="300 es",Es=2e3,vm=2001,VJ={COMPUTE:"compute",RENDER:"render"},jJ={PERSPECTIVE:"perspective",LINEAR:"linear",FLAT:"flat"},HJ={NORMAL:"normal",CENTROID:"centroid",SAMPLE:"sample",FIRST:"first",EITHER:"either"};let Bo=class{addEventListener(e,n){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(n)===-1&&r[e].push(n)}hasEventListener(e,n){const r=this._listeners;return r===void 0?!1:r[e]!==void 0&&r[e].indexOf(n)!==-1}removeEventListener(e,n){const r=this._listeners;if(r===void 0)return;const i=r[e];if(i!==void 0){const s=i.indexOf(n);s!==-1&&i.splice(s,1)}}dispatchEvent(e){const n=this._listeners;if(n===void 0)return;const r=n[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let s=0,o=i.length;s<o;s++)i[s].call(this,e);e.target=null}}};const Xr=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let dL=1234567;const nu=Math.PI/180,Af=180/Math.PI;function ts(){const t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,n=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(Xr[t&255]+Xr[t>>8&255]+Xr[t>>16&255]+Xr[t>>24&255]+"-"+Xr[e&255]+Xr[e>>8&255]+"-"+Xr[e>>16&15|64]+Xr[e>>24&255]+"-"+Xr[n&63|128]+Xr[n>>8&255]+"-"+Xr[n>>16&255]+Xr[n>>24&255]+Xr[r&255]+Xr[r>>8&255]+Xr[r>>16&255]+Xr[r>>24&255]).toLowerCase()}function It(t,e,n){return Math.max(e,Math.min(n,t))}function xA(t,e){return(t%e+e)%e}function WJ(t,e,n,r,i){return r+(t-e)*(i-r)/(n-e)}function GJ(t,e,n){return t!==e?(n-t)/(e-t):0}function Ep(t,e,n){return(1-n)*t+n*e}function XJ(t,e,n,r){return Ep(t,e,1-Math.exp(-n*r))}function $J(t,e=1){return e-Math.abs(xA(t,e*2)-e)}function YJ(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*(3-2*t))}function qJ(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*t*(t*(t*6-15)+10))}function ZJ(t,e){return t+Math.floor(Math.random()*(e-t+1))}function KJ(t,e){return t+Math.random()*(e-t)}function QJ(t){return t*(.5-Math.random())}function JJ(t){t!==void 0&&(dL=t);let e=dL+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function eee(t){return t*nu}function tee(t){return t*Af}function nee(t){return(t&t-1)===0&&t!==0}function ree(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))}function iee(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))}function see(t,e,n,r,i){const s=Math.cos,o=Math.sin,a=s(n/2),l=o(n/2),c=s((e+r)/2),d=o((e+r)/2),h=s((e-r)/2),p=o((e-r)/2),m=s((r-e)/2),v=o((r-e)/2);switch(i){case"XYX":t.set(a*d,l*h,l*p,a*c);break;case"YZY":t.set(l*p,a*d,l*h,a*c);break;case"ZXZ":t.set(l*h,l*p,a*d,a*c);break;case"XZX":t.set(a*d,l*v,l*m,a*c);break;case"YXY":t.set(l*m,a*d,l*v,a*c);break;case"ZYZ":t.set(l*v,l*m,a*d,a*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}function fi(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return t/4294967295;case Uint16Array:return t/65535;case Uint8Array:return t/255;case Int32Array:return Math.max(t/2147483647,-1);case Int16Array:return Math.max(t/32767,-1);case Int8Array:return Math.max(t/127,-1);default:throw new Error("Invalid component type.")}}function kt(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return Math.round(t*4294967295);case Uint16Array:return Math.round(t*65535);case Uint8Array:return Math.round(t*255);case Int32Array:return Math.round(t*2147483647);case Int16Array:return Math.round(t*32767);case Int8Array:return Math.round(t*127);default:throw new Error("Invalid component type.")}}const oee={DEG2RAD:nu,RAD2DEG:Af,generateUUID:ts,clamp:It,euclideanModulo:xA,mapLinear:WJ,inverseLerp:GJ,lerp:Ep,damp:XJ,pingpong:$J,smoothstep:YJ,smootherstep:qJ,randInt:ZJ,randFloat:KJ,randFloatSpread:QJ,seededRandom:JJ,degToRad:eee,radToDeg:tee,isPowerOfTwo:nee,ceilPowerOfTwo:ree,floorPowerOfTwo:iee,setQuaternionFromProperEuler:see,normalize:kt,denormalize:fi};class Te{constructor(e=0,n=0){Te.prototype.isVector2=!0,this.x=e,this.y=n}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,n){return this.x=e,this.y=n,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const n=this.x,r=this.y,i=e.elements;return this.x=i[0]*n+i[3]*r+i[6],this.y=i[1]*n+i[4]*r+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,n){return this.x=It(this.x,e.x,n.x),this.y=It(this.y,e.y,n.y),this}clampScalar(e,n){return this.x=It(this.x,e,n),this.y=It(this.y,e,n),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(It(r,e,n))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(It(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y;return n*n+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this}rotateAround(e,n){const r=Math.cos(n),i=Math.sin(n),s=this.x-e.x,o=this.y-e.y;return this.x=s*r-o*i+e.x,this.y=s*i+o*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Jr{constructor(e=0,n=0,r=0,i=1){this.isQuaternion=!0,this._x=e,this._y=n,this._z=r,this._w=i}static slerpFlat(e,n,r,i,s,o,a){let l=r[i+0],c=r[i+1],d=r[i+2],h=r[i+3];const p=s[o+0],m=s[o+1],v=s[o+2],x=s[o+3];if(a===0){e[n+0]=l,e[n+1]=c,e[n+2]=d,e[n+3]=h;return}if(a===1){e[n+0]=p,e[n+1]=m,e[n+2]=v,e[n+3]=x;return}if(h!==x||l!==p||c!==m||d!==v){let y=1-a;const g=l*p+c*m+d*v+h*x,w=g>=0?1:-1,b=1-g*g;if(b>Number.EPSILON){const C=Math.sqrt(b),A=Math.atan2(C,g*w);y=Math.sin(y*A)/C,a=Math.sin(a*A)/C}const E=a*w;if(l=l*y+p*E,c=c*y+m*E,d=d*y+v*E,h=h*y+x*E,y===1-a){const C=1/Math.sqrt(l*l+c*c+d*d+h*h);l*=C,c*=C,d*=C,h*=C}}e[n]=l,e[n+1]=c,e[n+2]=d,e[n+3]=h}static multiplyQuaternionsFlat(e,n,r,i,s,o){const a=r[i],l=r[i+1],c=r[i+2],d=r[i+3],h=s[o],p=s[o+1],m=s[o+2],v=s[o+3];return e[n]=a*v+d*h+l*m-c*p,e[n+1]=l*v+d*p+c*h-a*m,e[n+2]=c*v+d*m+a*p-l*h,e[n+3]=d*v-a*h-l*p-c*m,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,n,r,i){return this._x=e,this._y=n,this._z=r,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,n=!0){const r=e._x,i=e._y,s=e._z,o=e._order,a=Math.cos,l=Math.sin,c=a(r/2),d=a(i/2),h=a(s/2),p=l(r/2),m=l(i/2),v=l(s/2);switch(o){case"XYZ":this._x=p*d*h+c*m*v,this._y=c*m*h-p*d*v,this._z=c*d*v+p*m*h,this._w=c*d*h-p*m*v;break;case"YXZ":this._x=p*d*h+c*m*v,this._y=c*m*h-p*d*v,this._z=c*d*v-p*m*h,this._w=c*d*h+p*m*v;break;case"ZXY":this._x=p*d*h-c*m*v,this._y=c*m*h+p*d*v,this._z=c*d*v+p*m*h,this._w=c*d*h-p*m*v;break;case"ZYX":this._x=p*d*h-c*m*v,this._y=c*m*h+p*d*v,this._z=c*d*v-p*m*h,this._w=c*d*h+p*m*v;break;case"YZX":this._x=p*d*h+c*m*v,this._y=c*m*h+p*d*v,this._z=c*d*v-p*m*h,this._w=c*d*h-p*m*v;break;case"XZY":this._x=p*d*h-c*m*v,this._y=c*m*h-p*d*v,this._z=c*d*v+p*m*h,this._w=c*d*h+p*m*v;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return n===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,n){const r=n/2,i=Math.sin(r);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const n=e.elements,r=n[0],i=n[4],s=n[8],o=n[1],a=n[5],l=n[9],c=n[2],d=n[6],h=n[10],p=r+a+h;if(p>0){const m=.5/Math.sqrt(p+1);this._w=.25/m,this._x=(d-l)*m,this._y=(s-c)*m,this._z=(o-i)*m}else if(r>a&&r>h){const m=2*Math.sqrt(1+r-a-h);this._w=(d-l)/m,this._x=.25*m,this._y=(i+o)/m,this._z=(s+c)/m}else if(a>h){const m=2*Math.sqrt(1+a-r-h);this._w=(s-c)/m,this._x=(i+o)/m,this._y=.25*m,this._z=(l+d)/m}else{const m=2*Math.sqrt(1+h-r-a);this._w=(o-i)/m,this._x=(s+c)/m,this._y=(l+d)/m,this._z=.25*m}return this._onChangeCallback(),this}setFromUnitVectors(e,n){let r=e.dot(n)+1;return r<1e-8?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*n.z-e.z*n.y,this._y=e.z*n.x-e.x*n.z,this._z=e.x*n.y-e.y*n.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(It(this.dot(e),-1,1)))}rotateTowards(e,n){const r=this.angleTo(e);if(r===0)return this;const i=Math.min(1,n/r);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,n){const r=e._x,i=e._y,s=e._z,o=e._w,a=n._x,l=n._y,c=n._z,d=n._w;return this._x=r*d+o*a+i*c-s*l,this._y=i*d+o*l+s*a-r*c,this._z=s*d+o*c+r*l-i*a,this._w=o*d-r*a-i*l-s*c,this._onChangeCallback(),this}slerp(e,n){if(n===0)return this;if(n===1)return this.copy(e);const r=this._x,i=this._y,s=this._z,o=this._w;let a=o*e._w+r*e._x+i*e._y+s*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=r,this._y=i,this._z=s,this;const l=1-a*a;if(l<=Number.EPSILON){const m=1-n;return this._w=m*o+n*this._w,this._x=m*r+n*this._x,this._y=m*i+n*this._y,this._z=m*s+n*this._z,this.normalize(),this}const c=Math.sqrt(l),d=Math.atan2(c,a),h=Math.sin((1-n)*d)/c,p=Math.sin(n*d)/c;return this._w=o*h+this._w*p,this._x=r*h+this._x*p,this._y=i*h+this._y*p,this._z=s*h+this._z*p,this._onChangeCallback(),this}slerpQuaternions(e,n,r){return this.copy(e).slerp(n,r)}random(){const e=2*Math.PI*Math.random(),n=2*Math.PI*Math.random(),r=Math.random(),i=Math.sqrt(1-r),s=Math.sqrt(r);return this.set(i*Math.sin(e),i*Math.cos(e),s*Math.sin(n),s*Math.cos(n))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,n=0){return this._x=e[n],this._y=e[n+1],this._z=e[n+2],this._w=e[n+3],this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._w,e}fromBufferAttribute(e,n){return this._x=e.getX(n),this._y=e.getY(n),this._z=e.getZ(n),this._w=e.getW(n),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class H{constructor(e=0,n=0,r=0){H.prototype.isVector3=!0,this.x=e,this.y=n,this.z=r}set(e,n,r){return r===void 0&&(r=this.z),this.x=e,this.y=n,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,n){return this.x=e.x*n.x,this.y=e.y*n.y,this.z=e.z*n.z,this}applyEuler(e){return this.applyQuaternion(fL.setFromEuler(e))}applyAxisAngle(e,n){return this.applyQuaternion(fL.setFromAxisAngle(e,n))}applyMatrix3(e){const n=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*n+s[3]*r+s[6]*i,this.y=s[1]*n+s[4]*r+s[7]*i,this.z=s[2]*n+s[5]*r+s[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const n=this.x,r=this.y,i=this.z,s=e.elements,o=1/(s[3]*n+s[7]*r+s[11]*i+s[15]);return this.x=(s[0]*n+s[4]*r+s[8]*i+s[12])*o,this.y=(s[1]*n+s[5]*r+s[9]*i+s[13])*o,this.z=(s[2]*n+s[6]*r+s[10]*i+s[14])*o,this}applyQuaternion(e){const n=this.x,r=this.y,i=this.z,s=e.x,o=e.y,a=e.z,l=e.w,c=2*(o*i-a*r),d=2*(a*n-s*i),h=2*(s*r-o*n);return this.x=n+l*c+o*h-a*d,this.y=r+l*d+a*c-s*h,this.z=i+l*h+s*d-o*c,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const n=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*n+s[4]*r+s[8]*i,this.y=s[1]*n+s[5]*r+s[9]*i,this.z=s[2]*n+s[6]*r+s[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,n){return this.x=It(this.x,e.x,n.x),this.y=It(this.y,e.y,n.y),this.z=It(this.z,e.z,n.z),this}clampScalar(e,n){return this.x=It(this.x,e,n),this.y=It(this.y,e,n),this.z=It(this.z,e,n),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(It(r,e,n))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,n){const r=e.x,i=e.y,s=e.z,o=n.x,a=n.y,l=n.z;return this.x=i*l-s*a,this.y=s*o-r*l,this.z=r*a-i*o,this}projectOnVector(e){const n=e.lengthSq();if(n===0)return this.set(0,0,0);const r=e.dot(this)/n;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return F1.copy(this).projectOnVector(e),this.sub(F1)}reflect(e){return this.sub(F1.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(It(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y,i=this.z-e.z;return n*n+r*r+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,n,r){const i=Math.sin(n)*e;return this.x=i*Math.sin(r),this.y=Math.cos(n)*e,this.z=i*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,n,r){return this.x=e*Math.sin(n),this.y=r,this.z=e*Math.cos(n),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this}setFromMatrixScale(e){const n=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=n,this.y=r,this.z=i,this}setFromMatrixColumn(e,n){return this.fromArray(e.elements,n*4)}setFromMatrix3Column(e,n){return this.fromArray(e.elements,n*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,n=Math.random()*2-1,r=Math.sqrt(1-n*n);return this.x=r*Math.cos(e),this.y=n,this.z=r*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const F1=new H,fL=new Jr;class Dt{constructor(e,n,r,i,s,o,a,l,c){Dt.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,n,r,i,s,o,a,l,c)}set(e,n,r,i,s,o,a,l,c){const d=this.elements;return d[0]=e,d[1]=i,d[2]=a,d[3]=n,d[4]=s,d[5]=l,d[6]=r,d[7]=o,d[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],this}extractBasis(e,n,r){return e.setFromMatrix3Column(this,0),n.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const n=e.elements;return this.set(n[0],n[4],n[8],n[1],n[5],n[9],n[2],n[6],n[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,i=n.elements,s=this.elements,o=r[0],a=r[3],l=r[6],c=r[1],d=r[4],h=r[7],p=r[2],m=r[5],v=r[8],x=i[0],y=i[3],g=i[6],w=i[1],b=i[4],E=i[7],C=i[2],A=i[5],I=i[8];return s[0]=o*x+a*w+l*C,s[3]=o*y+a*b+l*A,s[6]=o*g+a*E+l*I,s[1]=c*x+d*w+h*C,s[4]=c*y+d*b+h*A,s[7]=c*g+d*E+h*I,s[2]=p*x+m*w+v*C,s[5]=p*y+m*b+v*A,s[8]=p*g+m*E+v*I,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=e,n[4]*=e,n[7]*=e,n[2]*=e,n[5]*=e,n[8]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],d=e[8];return n*o*d-n*a*c-r*s*d+r*a*l+i*s*c-i*o*l}invert(){const e=this.elements,n=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],d=e[8],h=d*o-a*c,p=a*l-d*s,m=c*s-o*l,v=n*h+r*p+i*m;if(v===0)return this.set(0,0,0,0,0,0,0,0,0);const x=1/v;return e[0]=h*x,e[1]=(i*c-d*r)*x,e[2]=(a*r-i*o)*x,e[3]=p*x,e[4]=(d*n-i*l)*x,e[5]=(i*s-a*n)*x,e[6]=m*x,e[7]=(r*l-c*n)*x,e[8]=(o*n-r*s)*x,this}transpose(){let e;const n=this.elements;return e=n[1],n[1]=n[3],n[3]=e,e=n[2],n[2]=n[6],n[6]=e,e=n[5],n[5]=n[7],n[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const n=this.elements;return e[0]=n[0],e[1]=n[3],e[2]=n[6],e[3]=n[1],e[4]=n[4],e[5]=n[7],e[6]=n[2],e[7]=n[5],e[8]=n[8],this}setUvTransform(e,n,r,i,s,o,a){const l=Math.cos(s),c=Math.sin(s);return this.set(r*l,r*c,-r*(l*o+c*a)+o+e,-i*c,i*l,-i*(-c*o+l*a)+a+n,0,0,1),this}scale(e,n){return this.premultiply(U1.makeScale(e,n)),this}rotate(e){return this.premultiply(U1.makeRotation(-e)),this}translate(e,n){return this.premultiply(U1.makeTranslation(e,n)),this}makeTranslation(e,n){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,n,0,0,1),this}makeRotation(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,r,n,0,0,0,1),this}makeScale(e,n){return this.set(e,0,0,0,n,0,0,0,1),this}equals(e){const n=this.elements,r=e.elements;for(let i=0;i<9;i++)if(n[i]!==r[i])return!1;return!0}fromArray(e,n=0){for(let r=0;r<9;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const U1=new Dt;function L4(t){for(let e=t.length-1;e>=0;--e)if(t[e]>=65535)return!0;return!1}const aee={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function Ud(t,e){return new aee[t](e)}function ym(t){return document.createElementNS("http://www.w3.org/1999/xhtml",t)}function D4(){const t=ym("canvas");return t.style.display="block",t}const hL={};function Qd(t){t in hL||(hL[t]=!0,console.warn(t))}function lee(t,e,n){return new Promise(function(r,i){function s(){switch(t.clientWaitSync(e,t.SYNC_FLUSH_COMMANDS_BIT,0)){case t.WAIT_FAILED:i();break;case t.TIMEOUT_EXPIRED:setTimeout(s,n);break;default:r()}}setTimeout(s,n)})}function cee(t){const e=t.elements;e[2]=.5*e[2]+.5*e[3],e[6]=.5*e[6]+.5*e[7],e[10]=.5*e[10]+.5*e[11],e[14]=.5*e[14]+.5*e[15]}function uee(t){const e=t.elements;e[11]===-1?(e[10]=-e[10]-1,e[14]=-e[14]):(e[10]=-e[10],e[14]=-e[14]+1)}const pL=new Dt().set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),mL=new Dt().set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function dee(){const t={enabled:!0,workingColorSpace:hu,spaces:{},convert:function(i,s,o){return this.enabled===!1||s===o||!s||!o||(this.spaces[s].transfer===Sn&&(i.r=ga(i.r),i.g=ga(i.g),i.b=ga(i.b)),this.spaces[s].primaries!==this.spaces[o].primaries&&(i.applyMatrix3(this.spaces[s].toXYZ),i.applyMatrix3(this.spaces[o].fromXYZ)),this.spaces[o].transfer===Sn&&(i.r=Jd(i.r),i.g=Jd(i.g),i.b=Jd(i.b))),i},workingToColorSpace:function(i,s){return this.convert(i,this.workingColorSpace,s)},colorSpaceToWorking:function(i,s){return this.convert(i,s,this.workingColorSpace)},getPrimaries:function(i){return this.spaces[i].primaries},getTransfer:function(i){return i===la?mm:this.spaces[i].transfer},getLuminanceCoefficients:function(i,s=this.workingColorSpace){return i.fromArray(this.spaces[s].luminanceCoefficients)},define:function(i){Object.assign(this.spaces,i)},_getMatrix:function(i,s,o){return i.copy(this.spaces[s].toXYZ).multiply(this.spaces[o].fromXYZ)},_getDrawingBufferColorSpace:function(i){return this.spaces[i].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(i=this.workingColorSpace){return this.spaces[i].workingColorSpaceConfig.unpackColorSpace},fromWorkingColorSpace:function(i,s){return Qd("THREE.ColorManagement: .fromWorkingColorSpace() has been renamed to .workingToColorSpace()."),t.workingToColorSpace(i,s)},toWorkingColorSpace:function(i,s){return Qd("THREE.ColorManagement: .toWorkingColorSpace() has been renamed to .colorSpaceToWorking()."),t.colorSpaceToWorking(i,s)}},e=[.64,.33,.3,.6,.15,.06],n=[.2126,.7152,.0722],r=[.3127,.329];return t.define({[hu]:{primaries:e,whitePoint:r,transfer:mm,toXYZ:pL,fromXYZ:mL,luminanceCoefficients:n,workingColorSpaceConfig:{unpackColorSpace:Ri},outputColorSpaceConfig:{drawingBufferColorSpace:Ri}},[Ri]:{primaries:e,whitePoint:r,transfer:Sn,toXYZ:pL,fromXYZ:mL,luminanceCoefficients:n,outputColorSpaceConfig:{drawingBufferColorSpace:Ri}}}),t}const cn=dee();function ga(t){return t<.04045?t*.0773993808:Math.pow(t*.9478672986+.0521327014,2.4)}function Jd(t){return t<.0031308?t*12.92:1.055*Math.pow(t,.41666)-.055}let Xu;class k4{static getDataURL(e,n="image/png"){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let r;if(e instanceof HTMLCanvasElement)r=e;else{Xu===void 0&&(Xu=ym("canvas")),Xu.width=e.width,Xu.height=e.height;const i=Xu.getContext("2d");e instanceof ImageData?i.putImageData(e,0,0):i.drawImage(e,0,0,e.width,e.height),r=Xu}return r.toDataURL(n)}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const n=ym("canvas");n.width=e.width,n.height=e.height;const r=n.getContext("2d");r.drawImage(e,0,0,e.width,e.height);const i=r.getImageData(0,0,e.width,e.height),s=i.data;for(let o=0;o<s.length;o++)s[o]=ga(s[o]/255)*255;return r.putImageData(i,0,0),n}else if(e.data){const n=e.data.slice(0);for(let r=0;r<n.length;r++)n instanceof Uint8Array||n instanceof Uint8ClampedArray?n[r]=Math.floor(ga(n[r]/255)*255):n[r]=ga(n[r]);return{data:n,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let fee=0;class Sl{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:fee++}),this.uuid=ts(),this.data=e,this.dataReady=!0,this.version=0}getSize(e){const n=this.data;return n instanceof HTMLVideoElement?e.set(n.videoWidth,n.videoHeight):n!==null?e.set(n.width,n.height,n.depth||0):e.set(0,0,0),e}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const r={uuid:this.uuid,url:""},i=this.data;if(i!==null){let s;if(Array.isArray(i)){s=[];for(let o=0,a=i.length;o<a;o++)i[o].isDataTexture?s.push(B1(i[o].image)):s.push(B1(i[o]))}else s=B1(i);r.url=s}return n||(e.images[this.uuid]=r),r}}function B1(t){return typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap?k4.getDataURL(t):t.data?{data:Array.from(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let hee=0;const z1=new H;class Qn extends Bo{constructor(e=Qn.DEFAULT_IMAGE,n=Qn.DEFAULT_MAPPING,r=Ms,i=Ms,s=yr,o=Mo,a=Qr,l=Is,c=Qn.DEFAULT_ANISOTROPY,d=la){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:hee++}),this.uuid=ts(),this.name="",this.source=new Sl(e),this.mipmaps=[],this.mapping=n,this.channel=0,this.wrapS=r,this.wrapT=i,this.magFilter=s,this.minFilter=o,this.anisotropy=c,this.format=a,this.internalFormat=null,this.type=l,this.offset=new Te(0,0),this.repeat=new Te(1,1),this.center=new Te(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Dt,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=d,this.userData={},this.updateRanges=[],this.version=0,this.onUpdate=null,this.renderTarget=null,this.isRenderTargetTexture=!1,this.isArrayTexture=!!(e&&e.depth&&e.depth>1),this.pmremVersion=0}get width(){return this.source.getSize(z1).x}get height(){return this.source.getSize(z1).y}get depth(){return this.source.getSize(z1).z}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.renderTarget=e.renderTarget,this.isRenderTargetTexture=e.isRenderTargetTexture,this.isArrayTexture=e.isArrayTexture,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}setValues(e){for(const n in e){const r=e[n];if(r===void 0){console.warn(`THREE.Texture.setValues(): parameter '${n}' has value of undefined.`);continue}const i=this[n];if(i===void 0){console.warn(`THREE.Texture.setValues(): property '${n}' does not exist.`);continue}i&&r&&i.isVector2&&r.isVector2||i&&r&&i.isVector3&&r.isVector3||i&&r&&i.isMatrix3&&r.isMatrix3?i.copy(r):this[n]=r}}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const r={metadata:{version:4.7,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(r.userData=this.userData),n||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==V_)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case dm:e.x=e.x-Math.floor(e.x);break;case Ms:e.x=e.x<0?0:1;break;case fm:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case dm:e.y=e.y-Math.floor(e.y);break;case Ms:e.y=e.y<0?0:1;break;case fm:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}}Qn.DEFAULT_IMAGE=null;Qn.DEFAULT_MAPPING=V_;Qn.DEFAULT_ANISOTROPY=1;class dn{constructor(e=0,n=0,r=0,i=1){dn.prototype.isVector4=!0,this.x=e,this.y=n,this.z=r,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,n,r,i){return this.x=e,this.y=n,this.z=r,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;case 3:this.w=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this.w=e.w+n.w,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this.w+=e.w*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this.w=e.w-n.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const n=this.x,r=this.y,i=this.z,s=this.w,o=e.elements;return this.x=o[0]*n+o[4]*r+o[8]*i+o[12]*s,this.y=o[1]*n+o[5]*r+o[9]*i+o[13]*s,this.z=o[2]*n+o[6]*r+o[10]*i+o[14]*s,this.w=o[3]*n+o[7]*r+o[11]*i+o[15]*s,this}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this.w/=e.w,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const n=Math.sqrt(1-e.w*e.w);return n<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/n,this.y=e.y/n,this.z=e.z/n),this}setAxisAngleFromRotationMatrix(e){let n,r,i,s;const l=e.elements,c=l[0],d=l[4],h=l[8],p=l[1],m=l[5],v=l[9],x=l[2],y=l[6],g=l[10];if(Math.abs(d-p)<.01&&Math.abs(h-x)<.01&&Math.abs(v-y)<.01){if(Math.abs(d+p)<.1&&Math.abs(h+x)<.1&&Math.abs(v+y)<.1&&Math.abs(c+m+g-3)<.1)return this.set(1,0,0,0),this;n=Math.PI;const b=(c+1)/2,E=(m+1)/2,C=(g+1)/2,A=(d+p)/4,I=(h+x)/4,D=(v+y)/4;return b>E&&b>C?b<.01?(r=0,i=.707106781,s=.707106781):(r=Math.sqrt(b),i=A/r,s=I/r):E>C?E<.01?(r=.707106781,i=0,s=.707106781):(i=Math.sqrt(E),r=A/i,s=D/i):C<.01?(r=.707106781,i=.707106781,s=0):(s=Math.sqrt(C),r=I/s,i=D/s),this.set(r,i,s,n),this}let w=Math.sqrt((y-v)*(y-v)+(h-x)*(h-x)+(p-d)*(p-d));return Math.abs(w)<.001&&(w=1),this.x=(y-v)/w,this.y=(h-x)/w,this.z=(p-d)/w,this.w=Math.acos((c+m+g-1)/2),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this.w=n[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,n){return this.x=It(this.x,e.x,n.x),this.y=It(this.y,e.y,n.y),this.z=It(this.z,e.z,n.z),this.w=It(this.w,e.w,n.w),this}clampScalar(e,n){return this.x=It(this.x,e,n),this.y=It(this.y,e,n),this.z=It(this.z,e,n),this.w=It(this.w,e,n),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(It(r,e,n))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this.w+=(e.w-this.w)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this.w=e.w+(n.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this.w=e[n+3],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e[n+3]=this.w,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this.w=e.getW(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class _A extends Bo{constructor(e=1,n=1,r={}){super(),r=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:yr,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1,depth:1,multiview:!1},r),this.isRenderTarget=!0,this.width=e,this.height=n,this.depth=r.depth,this.scissor=new dn(0,0,e,n),this.scissorTest=!1,this.viewport=new dn(0,0,e,n);const i={width:e,height:n,depth:r.depth},s=new Qn(i);this.textures=[];const o=r.count;for(let a=0;a<o;a++)this.textures[a]=s.clone(),this.textures[a].isRenderTargetTexture=!0,this.textures[a].renderTarget=this;this._setTextureOptions(r),this.depthBuffer=r.depthBuffer,this.stencilBuffer=r.stencilBuffer,this.resolveDepthBuffer=r.resolveDepthBuffer,this.resolveStencilBuffer=r.resolveStencilBuffer,this._depthTexture=null,this.depthTexture=r.depthTexture,this.samples=r.samples,this.multiview=r.multiview}_setTextureOptions(e={}){const n={minFilter:yr,generateMipmaps:!1,flipY:!1,internalFormat:null};e.mapping!==void 0&&(n.mapping=e.mapping),e.wrapS!==void 0&&(n.wrapS=e.wrapS),e.wrapT!==void 0&&(n.wrapT=e.wrapT),e.wrapR!==void 0&&(n.wrapR=e.wrapR),e.magFilter!==void 0&&(n.magFilter=e.magFilter),e.minFilter!==void 0&&(n.minFilter=e.minFilter),e.format!==void 0&&(n.format=e.format),e.type!==void 0&&(n.type=e.type),e.anisotropy!==void 0&&(n.anisotropy=e.anisotropy),e.colorSpace!==void 0&&(n.colorSpace=e.colorSpace),e.flipY!==void 0&&(n.flipY=e.flipY),e.generateMipmaps!==void 0&&(n.generateMipmaps=e.generateMipmaps),e.internalFormat!==void 0&&(n.internalFormat=e.internalFormat);for(let r=0;r<this.textures.length;r++)this.textures[r].setValues(n)}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}set depthTexture(e){this._depthTexture!==null&&(this._depthTexture.renderTarget=null),e!==null&&(e.renderTarget=this),this._depthTexture=e}get depthTexture(){return this._depthTexture}setSize(e,n,r=1){if(this.width!==e||this.height!==n||this.depth!==r){this.width=e,this.height=n,this.depth=r;for(let i=0,s=this.textures.length;i<s;i++)this.textures[i].image.width=e,this.textures[i].image.height=n,this.textures[i].image.depth=r,this.textures[i].isArrayTexture=this.textures[i].image.depth>1;this.dispose()}this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let n=0,r=e.textures.length;n<r;n++){this.textures[n]=e.textures[n].clone(),this.textures[n].isRenderTargetTexture=!0,this.textures[n].renderTarget=this;const i=Object.assign({},e.textures[n].image);this.textures[n].source=new Sl(i)}return this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class Oo extends _A{constructor(e=1,n=1,r={}){super(e,n,r),this.isWebGLRenderTarget=!0}}class q_ extends Qn{constructor(e=null,n=1,r=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:n,height:r,depth:i},this.magFilter=Dr,this.minFilter=Dr,this.wrapR=Ms,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class pee extends Oo{constructor(e=1,n=1,r=1,i={}){super(e,n,i),this.isWebGLArrayRenderTarget=!0,this.depth=r,this.texture=new q_(null,e,n,r),this._setTextureOptions(i),this.texture.isRenderTargetTexture=!0}}class Z_ extends Qn{constructor(e=null,n=1,r=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:n,height:r,depth:i},this.magFilter=Dr,this.minFilter=Dr,this.wrapR=Ms,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class mee extends Oo{constructor(e=1,n=1,r=1,i={}){super(e,n,i),this.isWebGL3DRenderTarget=!0,this.depth=r,this.texture=new Z_(null,e,n,r),this._setTextureOptions(i),this.texture.isRenderTargetTexture=!0}}class ei{constructor(e=new H(1/0,1/0,1/0),n=new H(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromArray(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n+=3)this.expandByPoint(Os.fromArray(e,n));return this}setFromBufferAttribute(e){this.makeEmpty();for(let n=0,r=e.count;n<r;n++)this.expandByPoint(Os.fromBufferAttribute(e,n));return this}setFromPoints(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const r=Os.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,n=!1){return this.makeEmpty(),this.expandByObject(e,n)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,n=!1){e.updateWorldMatrix(!1,!1);const r=e.geometry;if(r!==void 0){const s=r.getAttribute("position");if(n===!0&&s!==void 0&&e.isInstancedMesh!==!0)for(let o=0,a=s.count;o<a;o++)e.isMesh===!0?e.getVertexPosition(o,Os):Os.fromBufferAttribute(s,o),Os.applyMatrix4(e.matrixWorld),this.expandByPoint(Os);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),Fv.copy(e.boundingBox)):(r.boundingBox===null&&r.computeBoundingBox(),Fv.copy(r.boundingBox)),Fv.applyMatrix4(e.matrixWorld),this.union(Fv)}const i=e.children;for(let s=0,o=i.length;s<o;s++)this.expandByObject(i[s],n);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,Os),Os.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let n,r;return e.normal.x>0?(n=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(n=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(n+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(n+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(n+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(n+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),n<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(Ph),Uv.subVectors(this.max,Ph),$u.subVectors(e.a,Ph),Yu.subVectors(e.b,Ph),qu.subVectors(e.c,Ph),$a.subVectors(Yu,$u),Ya.subVectors(qu,Yu),hc.subVectors($u,qu);let n=[0,-$a.z,$a.y,0,-Ya.z,Ya.y,0,-hc.z,hc.y,$a.z,0,-$a.x,Ya.z,0,-Ya.x,hc.z,0,-hc.x,-$a.y,$a.x,0,-Ya.y,Ya.x,0,-hc.y,hc.x,0];return!V1(n,$u,Yu,qu,Uv)||(n=[1,0,0,0,1,0,0,0,1],!V1(n,$u,Yu,qu,Uv))?!1:(Bv.crossVectors($a,Ya),n=[Bv.x,Bv.y,Bv.z],V1(n,$u,Yu,qu,Uv))}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Os).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(Os).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(Zo[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Zo[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Zo[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Zo[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Zo[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Zo[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Zo[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Zo[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Zo),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}toJSON(){return{min:this.min.toArray(),max:this.max.toArray()}}fromJSON(e){return this.min.fromArray(e.min),this.max.fromArray(e.max),this}}const Zo=[new H,new H,new H,new H,new H,new H,new H,new H],Os=new H,Fv=new ei,$u=new H,Yu=new H,qu=new H,$a=new H,Ya=new H,hc=new H,Ph=new H,Uv=new H,Bv=new H,pc=new H;function V1(t,e,n,r,i){for(let s=0,o=t.length-3;s<=o;s+=3){pc.fromArray(t,s);const a=i.x*Math.abs(pc.x)+i.y*Math.abs(pc.y)+i.z*Math.abs(pc.z),l=e.dot(pc),c=n.dot(pc),d=r.dot(pc);if(Math.max(-Math.max(l,c,d),Math.min(l,c,d))>a)return!1}return!0}const gee=new ei,Rh=new H,j1=new H;class kr{constructor(e=new H,n=-1){this.isSphere=!0,this.center=e,this.radius=n}set(e,n){return this.center.copy(e),this.radius=n,this}setFromPoints(e,n){const r=this.center;n!==void 0?r.copy(n):gee.setFromPoints(e).getCenter(r);let i=0;for(let s=0,o=e.length;s<o;s++)i=Math.max(i,r.distanceToSquared(e[s]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const n=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=n*n}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,n){const r=this.center.distanceToSquared(e);return n.copy(e),r>this.radius*this.radius&&(n.sub(this.center).normalize(),n.multiplyScalar(this.radius).add(this.center)),n}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;Rh.subVectors(e,this.center);const n=Rh.lengthSq();if(n>this.radius*this.radius){const r=Math.sqrt(n),i=(r-this.radius)*.5;this.center.addScaledVector(Rh,i/r),this.radius+=i}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(j1.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(Rh.copy(e.center).add(j1)),this.expandByPoint(Rh.copy(e.center).sub(j1))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}toJSON(){return{radius:this.radius,center:this.center.toArray()}}fromJSON(e){return this.radius=e.radius,this.center.fromArray(e.center),this}}const Ko=new H,H1=new H,zv=new H,qa=new H,W1=new H,Vv=new H,G1=new H;class Eu{constructor(e=new H,n=new H(0,0,-1)){this.origin=e,this.direction=n}set(e,n){return this.origin.copy(e),this.direction.copy(n),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,n){return n.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Ko)),this}closestPointToPoint(e,n){n.subVectors(e,this.origin);const r=n.dot(this.direction);return r<0?n.copy(this.origin):n.copy(this.origin).addScaledVector(this.direction,r)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const n=Ko.subVectors(e,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(e):(Ko.copy(this.origin).addScaledVector(this.direction,n),Ko.distanceToSquared(e))}distanceSqToSegment(e,n,r,i){H1.copy(e).add(n).multiplyScalar(.5),zv.copy(n).sub(e).normalize(),qa.copy(this.origin).sub(H1);const s=e.distanceTo(n)*.5,o=-this.direction.dot(zv),a=qa.dot(this.direction),l=-qa.dot(zv),c=qa.lengthSq(),d=Math.abs(1-o*o);let h,p,m,v;if(d>0)if(h=o*l-a,p=o*a-l,v=s*d,h>=0)if(p>=-v)if(p<=v){const x=1/d;h*=x,p*=x,m=h*(h+o*p+2*a)+p*(o*h+p+2*l)+c}else p=s,h=Math.max(0,-(o*p+a)),m=-h*h+p*(p+2*l)+c;else p=-s,h=Math.max(0,-(o*p+a)),m=-h*h+p*(p+2*l)+c;else p<=-v?(h=Math.max(0,-(-o*s+a)),p=h>0?-s:Math.min(Math.max(-s,-l),s),m=-h*h+p*(p+2*l)+c):p<=v?(h=0,p=Math.min(Math.max(-s,-l),s),m=p*(p+2*l)+c):(h=Math.max(0,-(o*s+a)),p=h>0?s:Math.min(Math.max(-s,-l),s),m=-h*h+p*(p+2*l)+c);else p=o>0?-s:s,h=Math.max(0,-(o*p+a)),m=-h*h+p*(p+2*l)+c;return r&&r.copy(this.origin).addScaledVector(this.direction,h),i&&i.copy(H1).addScaledVector(zv,p),m}intersectSphere(e,n){Ko.subVectors(e.center,this.origin);const r=Ko.dot(this.direction),i=Ko.dot(Ko)-r*r,s=e.radius*e.radius;if(i>s)return null;const o=Math.sqrt(s-i),a=r-o,l=r+o;return l<0?null:a<0?this.at(l,n):this.at(a,n)}intersectsSphere(e){return e.radius<0?!1:this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const n=e.normal.dot(this.direction);if(n===0)return e.distanceToPoint(this.origin)===0?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/n;return r>=0?r:null}intersectPlane(e,n){const r=this.distanceToPlane(e);return r===null?null:this.at(r,n)}intersectsPlane(e){const n=e.distanceToPoint(this.origin);return n===0||e.normal.dot(this.direction)*n<0}intersectBox(e,n){let r,i,s,o,a,l;const c=1/this.direction.x,d=1/this.direction.y,h=1/this.direction.z,p=this.origin;return c>=0?(r=(e.min.x-p.x)*c,i=(e.max.x-p.x)*c):(r=(e.max.x-p.x)*c,i=(e.min.x-p.x)*c),d>=0?(s=(e.min.y-p.y)*d,o=(e.max.y-p.y)*d):(s=(e.max.y-p.y)*d,o=(e.min.y-p.y)*d),r>o||s>i||((s>r||isNaN(r))&&(r=s),(o<i||isNaN(i))&&(i=o),h>=0?(a=(e.min.z-p.z)*h,l=(e.max.z-p.z)*h):(a=(e.max.z-p.z)*h,l=(e.min.z-p.z)*h),r>l||a>i)||((a>r||r!==r)&&(r=a),(l<i||i!==i)&&(i=l),i<0)?null:this.at(r>=0?r:i,n)}intersectsBox(e){return this.intersectBox(e,Ko)!==null}intersectTriangle(e,n,r,i,s){W1.subVectors(n,e),Vv.subVectors(r,e),G1.crossVectors(W1,Vv);let o=this.direction.dot(G1),a;if(o>0){if(i)return null;a=1}else if(o<0)a=-1,o=-o;else return null;qa.subVectors(this.origin,e);const l=a*this.direction.dot(Vv.crossVectors(qa,Vv));if(l<0)return null;const c=a*this.direction.dot(W1.cross(qa));if(c<0||l+c>o)return null;const d=-a*qa.dot(G1);return d<0?null:this.at(d/o,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Tt{constructor(e,n,r,i,s,o,a,l,c,d,h,p,m,v,x,y){Tt.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,n,r,i,s,o,a,l,c,d,h,p,m,v,x,y)}set(e,n,r,i,s,o,a,l,c,d,h,p,m,v,x,y){const g=this.elements;return g[0]=e,g[4]=n,g[8]=r,g[12]=i,g[1]=s,g[5]=o,g[9]=a,g[13]=l,g[2]=c,g[6]=d,g[10]=h,g[14]=p,g[3]=m,g[7]=v,g[11]=x,g[15]=y,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Tt().fromArray(this.elements)}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],n[9]=r[9],n[10]=r[10],n[11]=r[11],n[12]=r[12],n[13]=r[13],n[14]=r[14],n[15]=r[15],this}copyPosition(e){const n=this.elements,r=e.elements;return n[12]=r[12],n[13]=r[13],n[14]=r[14],this}setFromMatrix3(e){const n=e.elements;return this.set(n[0],n[3],n[6],0,n[1],n[4],n[7],0,n[2],n[5],n[8],0,0,0,0,1),this}extractBasis(e,n,r){return e.setFromMatrixColumn(this,0),n.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,n,r){return this.set(e.x,n.x,r.x,0,e.y,n.y,r.y,0,e.z,n.z,r.z,0,0,0,0,1),this}extractRotation(e){const n=this.elements,r=e.elements,i=1/Zu.setFromMatrixColumn(e,0).length(),s=1/Zu.setFromMatrixColumn(e,1).length(),o=1/Zu.setFromMatrixColumn(e,2).length();return n[0]=r[0]*i,n[1]=r[1]*i,n[2]=r[2]*i,n[3]=0,n[4]=r[4]*s,n[5]=r[5]*s,n[6]=r[6]*s,n[7]=0,n[8]=r[8]*o,n[9]=r[9]*o,n[10]=r[10]*o,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromEuler(e){const n=this.elements,r=e.x,i=e.y,s=e.z,o=Math.cos(r),a=Math.sin(r),l=Math.cos(i),c=Math.sin(i),d=Math.cos(s),h=Math.sin(s);if(e.order==="XYZ"){const p=o*d,m=o*h,v=a*d,x=a*h;n[0]=l*d,n[4]=-l*h,n[8]=c,n[1]=m+v*c,n[5]=p-x*c,n[9]=-a*l,n[2]=x-p*c,n[6]=v+m*c,n[10]=o*l}else if(e.order==="YXZ"){const p=l*d,m=l*h,v=c*d,x=c*h;n[0]=p+x*a,n[4]=v*a-m,n[8]=o*c,n[1]=o*h,n[5]=o*d,n[9]=-a,n[2]=m*a-v,n[6]=x+p*a,n[10]=o*l}else if(e.order==="ZXY"){const p=l*d,m=l*h,v=c*d,x=c*h;n[0]=p-x*a,n[4]=-o*h,n[8]=v+m*a,n[1]=m+v*a,n[5]=o*d,n[9]=x-p*a,n[2]=-o*c,n[6]=a,n[10]=o*l}else if(e.order==="ZYX"){const p=o*d,m=o*h,v=a*d,x=a*h;n[0]=l*d,n[4]=v*c-m,n[8]=p*c+x,n[1]=l*h,n[5]=x*c+p,n[9]=m*c-v,n[2]=-c,n[6]=a*l,n[10]=o*l}else if(e.order==="YZX"){const p=o*l,m=o*c,v=a*l,x=a*c;n[0]=l*d,n[4]=x-p*h,n[8]=v*h+m,n[1]=h,n[5]=o*d,n[9]=-a*d,n[2]=-c*d,n[6]=m*h+v,n[10]=p-x*h}else if(e.order==="XZY"){const p=o*l,m=o*c,v=a*l,x=a*c;n[0]=l*d,n[4]=-h,n[8]=c*d,n[1]=p*h+x,n[5]=o*d,n[9]=m*h-v,n[2]=v*h-m,n[6]=a*d,n[10]=x*h+p}return n[3]=0,n[7]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromQuaternion(e){return this.compose(vee,e,yee)}lookAt(e,n,r){const i=this.elements;return Xi.subVectors(e,n),Xi.lengthSq()===0&&(Xi.z=1),Xi.normalize(),Za.crossVectors(r,Xi),Za.lengthSq()===0&&(Math.abs(r.z)===1?Xi.x+=1e-4:Xi.z+=1e-4,Xi.normalize(),Za.crossVectors(r,Xi)),Za.normalize(),jv.crossVectors(Xi,Za),i[0]=Za.x,i[4]=jv.x,i[8]=Xi.x,i[1]=Za.y,i[5]=jv.y,i[9]=Xi.y,i[2]=Za.z,i[6]=jv.z,i[10]=Xi.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,i=n.elements,s=this.elements,o=r[0],a=r[4],l=r[8],c=r[12],d=r[1],h=r[5],p=r[9],m=r[13],v=r[2],x=r[6],y=r[10],g=r[14],w=r[3],b=r[7],E=r[11],C=r[15],A=i[0],I=i[4],D=i[8],N=i[12],R=i[1],F=i[5],j=i[9],G=i[13],$=i[2],ne=i[6],J=i[10],re=i[14],k=i[3],W=i[7],q=i[11],ee=i[15];return s[0]=o*A+a*R+l*$+c*k,s[4]=o*I+a*F+l*ne+c*W,s[8]=o*D+a*j+l*J+c*q,s[12]=o*N+a*G+l*re+c*ee,s[1]=d*A+h*R+p*$+m*k,s[5]=d*I+h*F+p*ne+m*W,s[9]=d*D+h*j+p*J+m*q,s[13]=d*N+h*G+p*re+m*ee,s[2]=v*A+x*R+y*$+g*k,s[6]=v*I+x*F+y*ne+g*W,s[10]=v*D+x*j+y*J+g*q,s[14]=v*N+x*G+y*re+g*ee,s[3]=w*A+b*R+E*$+C*k,s[7]=w*I+b*F+E*ne+C*W,s[11]=w*D+b*j+E*J+C*q,s[15]=w*N+b*G+E*re+C*ee,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[4]*=e,n[8]*=e,n[12]*=e,n[1]*=e,n[5]*=e,n[9]*=e,n[13]*=e,n[2]*=e,n[6]*=e,n[10]*=e,n[14]*=e,n[3]*=e,n[7]*=e,n[11]*=e,n[15]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[4],i=e[8],s=e[12],o=e[1],a=e[5],l=e[9],c=e[13],d=e[2],h=e[6],p=e[10],m=e[14],v=e[3],x=e[7],y=e[11],g=e[15];return v*(+s*l*h-i*c*h-s*a*p+r*c*p+i*a*m-r*l*m)+x*(+n*l*m-n*c*p+s*o*p-i*o*m+i*c*d-s*l*d)+y*(+n*c*h-n*a*m-s*o*h+r*o*m+s*a*d-r*c*d)+g*(-i*a*d-n*l*h+n*a*p+i*o*h-r*o*p+r*l*d)}transpose(){const e=this.elements;let n;return n=e[1],e[1]=e[4],e[4]=n,n=e[2],e[2]=e[8],e[8]=n,n=e[6],e[6]=e[9],e[9]=n,n=e[3],e[3]=e[12],e[12]=n,n=e[7],e[7]=e[13],e[13]=n,n=e[11],e[11]=e[14],e[14]=n,this}setPosition(e,n,r){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=n,i[14]=r),this}invert(){const e=this.elements,n=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],d=e[8],h=e[9],p=e[10],m=e[11],v=e[12],x=e[13],y=e[14],g=e[15],w=h*y*c-x*p*c+x*l*m-a*y*m-h*l*g+a*p*g,b=v*p*c-d*y*c-v*l*m+o*y*m+d*l*g-o*p*g,E=d*x*c-v*h*c+v*a*m-o*x*m-d*a*g+o*h*g,C=v*h*l-d*x*l-v*a*p+o*x*p+d*a*y-o*h*y,A=n*w+r*b+i*E+s*C;if(A===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const I=1/A;return e[0]=w*I,e[1]=(x*p*s-h*y*s-x*i*m+r*y*m+h*i*g-r*p*g)*I,e[2]=(a*y*s-x*l*s+x*i*c-r*y*c-a*i*g+r*l*g)*I,e[3]=(h*l*s-a*p*s-h*i*c+r*p*c+a*i*m-r*l*m)*I,e[4]=b*I,e[5]=(d*y*s-v*p*s+v*i*m-n*y*m-d*i*g+n*p*g)*I,e[6]=(v*l*s-o*y*s-v*i*c+n*y*c+o*i*g-n*l*g)*I,e[7]=(o*p*s-d*l*s+d*i*c-n*p*c-o*i*m+n*l*m)*I,e[8]=E*I,e[9]=(v*h*s-d*x*s-v*r*m+n*x*m+d*r*g-n*h*g)*I,e[10]=(o*x*s-v*a*s+v*r*c-n*x*c-o*r*g+n*a*g)*I,e[11]=(d*a*s-o*h*s-d*r*c+n*h*c+o*r*m-n*a*m)*I,e[12]=C*I,e[13]=(d*x*i-v*h*i+v*r*p-n*x*p-d*r*y+n*h*y)*I,e[14]=(v*a*i-o*x*i-v*r*l+n*x*l+o*r*y-n*a*y)*I,e[15]=(o*h*i-d*a*i+d*r*l-n*h*l-o*r*p+n*a*p)*I,this}scale(e){const n=this.elements,r=e.x,i=e.y,s=e.z;return n[0]*=r,n[4]*=i,n[8]*=s,n[1]*=r,n[5]*=i,n[9]*=s,n[2]*=r,n[6]*=i,n[10]*=s,n[3]*=r,n[7]*=i,n[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,n=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(n,r,i))}makeTranslation(e,n,r){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,n,0,0,1,r,0,0,0,1),this}makeRotationX(e){const n=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,n,-r,0,0,r,n,0,0,0,0,1),this}makeRotationY(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,0,r,0,0,1,0,0,-r,0,n,0,0,0,0,1),this}makeRotationZ(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,0,r,n,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,n){const r=Math.cos(n),i=Math.sin(n),s=1-r,o=e.x,a=e.y,l=e.z,c=s*o,d=s*a;return this.set(c*o+r,c*a-i*l,c*l+i*a,0,c*a+i*l,d*a+r,d*l-i*o,0,c*l-i*a,d*l+i*o,s*l*l+r,0,0,0,0,1),this}makeScale(e,n,r){return this.set(e,0,0,0,0,n,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,n,r,i,s,o){return this.set(1,r,s,0,e,1,o,0,n,i,1,0,0,0,0,1),this}compose(e,n,r){const i=this.elements,s=n._x,o=n._y,a=n._z,l=n._w,c=s+s,d=o+o,h=a+a,p=s*c,m=s*d,v=s*h,x=o*d,y=o*h,g=a*h,w=l*c,b=l*d,E=l*h,C=r.x,A=r.y,I=r.z;return i[0]=(1-(x+g))*C,i[1]=(m+E)*C,i[2]=(v-b)*C,i[3]=0,i[4]=(m-E)*A,i[5]=(1-(p+g))*A,i[6]=(y+w)*A,i[7]=0,i[8]=(v+b)*I,i[9]=(y-w)*I,i[10]=(1-(p+x))*I,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,n,r){const i=this.elements;let s=Zu.set(i[0],i[1],i[2]).length();const o=Zu.set(i[4],i[5],i[6]).length(),a=Zu.set(i[8],i[9],i[10]).length();this.determinant()<0&&(s=-s),e.x=i[12],e.y=i[13],e.z=i[14],Fs.copy(this);const c=1/s,d=1/o,h=1/a;return Fs.elements[0]*=c,Fs.elements[1]*=c,Fs.elements[2]*=c,Fs.elements[4]*=d,Fs.elements[5]*=d,Fs.elements[6]*=d,Fs.elements[8]*=h,Fs.elements[9]*=h,Fs.elements[10]*=h,n.setFromRotationMatrix(Fs),r.x=s,r.y=o,r.z=a,this}makePerspective(e,n,r,i,s,o,a=Es){const l=this.elements,c=2*s/(n-e),d=2*s/(r-i),h=(n+e)/(n-e),p=(r+i)/(r-i);let m,v;if(a===Es)m=-(o+s)/(o-s),v=-2*o*s/(o-s);else if(a===vm)m=-o/(o-s),v=-o*s/(o-s);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+a);return l[0]=c,l[4]=0,l[8]=h,l[12]=0,l[1]=0,l[5]=d,l[9]=p,l[13]=0,l[2]=0,l[6]=0,l[10]=m,l[14]=v,l[3]=0,l[7]=0,l[11]=-1,l[15]=0,this}makeOrthographic(e,n,r,i,s,o,a=Es){const l=this.elements,c=1/(n-e),d=1/(r-i),h=1/(o-s),p=(n+e)*c,m=(r+i)*d;let v,x;if(a===Es)v=(o+s)*h,x=-2*h;else if(a===vm)v=s*h,x=-1*h;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+a);return l[0]=2*c,l[4]=0,l[8]=0,l[12]=-p,l[1]=0,l[5]=2*d,l[9]=0,l[13]=-m,l[2]=0,l[6]=0,l[10]=x,l[14]=-v,l[3]=0,l[7]=0,l[11]=0,l[15]=1,this}equals(e){const n=this.elements,r=e.elements;for(let i=0;i<16;i++)if(n[i]!==r[i])return!1;return!0}fromArray(e,n=0){for(let r=0;r<16;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e[n+9]=r[9],e[n+10]=r[10],e[n+11]=r[11],e[n+12]=r[12],e[n+13]=r[13],e[n+14]=r[14],e[n+15]=r[15],e}}const Zu=new H,Fs=new Tt,vee=new H(0,0,0),yee=new H(1,1,1),Za=new H,jv=new H,Xi=new H,gL=new Tt,vL=new Jr;class is{constructor(e=0,n=0,r=0,i=is.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=n,this._z=r,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,n,r,i=this._order){return this._x=e,this._y=n,this._z=r,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,n=this._order,r=!0){const i=e.elements,s=i[0],o=i[4],a=i[8],l=i[1],c=i[5],d=i[9],h=i[2],p=i[6],m=i[10];switch(n){case"XYZ":this._y=Math.asin(It(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-d,m),this._z=Math.atan2(-o,s)):(this._x=Math.atan2(p,c),this._z=0);break;case"YXZ":this._x=Math.asin(-It(d,-1,1)),Math.abs(d)<.9999999?(this._y=Math.atan2(a,m),this._z=Math.atan2(l,c)):(this._y=Math.atan2(-h,s),this._z=0);break;case"ZXY":this._x=Math.asin(It(p,-1,1)),Math.abs(p)<.9999999?(this._y=Math.atan2(-h,m),this._z=Math.atan2(-o,c)):(this._y=0,this._z=Math.atan2(l,s));break;case"ZYX":this._y=Math.asin(-It(h,-1,1)),Math.abs(h)<.9999999?(this._x=Math.atan2(p,m),this._z=Math.atan2(l,s)):(this._x=0,this._z=Math.atan2(-o,c));break;case"YZX":this._z=Math.asin(It(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-d,c),this._y=Math.atan2(-h,s)):(this._x=0,this._y=Math.atan2(a,m));break;case"XZY":this._z=Math.asin(-It(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(p,c),this._y=Math.atan2(a,s)):(this._x=Math.atan2(-d,m),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+n)}return this._order=n,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,n,r){return gL.makeRotationFromQuaternion(e),this.setFromRotationMatrix(gL,n,r)}setFromVector3(e,n=this._order){return this.set(e.x,e.y,e.z,n)}reorder(e){return vL.setFromEuler(this),this.setFromQuaternion(vL,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}is.DEFAULT_ORDER="XYZ";class ru{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let xee=0;const yL=new H,Ku=new Jr,Qo=new Tt,Hv=new H,Ih=new H,_ee=new H,wee=new Jr,xL=new H(1,0,0),_L=new H(0,1,0),wL=new H(0,0,1),SL={type:"added"},See={type:"removed"},Qu={type:"childadded",child:null},X1={type:"childremoved",child:null};class pn extends Bo{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:xee++}),this.uuid=ts(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=pn.DEFAULT_UP.clone();const e=new H,n=new is,r=new Jr,i=new H(1,1,1);function s(){r.setFromEuler(n,!1)}function o(){n.setFromQuaternion(r,void 0,!1)}n._onChange(s),r._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:n},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new Tt},normalMatrix:{value:new Dt}}),this.matrix=new Tt,this.matrixWorld=new Tt,this.matrixAutoUpdate=pn.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=pn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new ru,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.customDepthMaterial=void 0,this.customDistanceMaterial=void 0,this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,n){this.quaternion.setFromAxisAngle(e,n)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,n){return Ku.setFromAxisAngle(e,n),this.quaternion.multiply(Ku),this}rotateOnWorldAxis(e,n){return Ku.setFromAxisAngle(e,n),this.quaternion.premultiply(Ku),this}rotateX(e){return this.rotateOnAxis(xL,e)}rotateY(e){return this.rotateOnAxis(_L,e)}rotateZ(e){return this.rotateOnAxis(wL,e)}translateOnAxis(e,n){return yL.copy(e).applyQuaternion(this.quaternion),this.position.add(yL.multiplyScalar(n)),this}translateX(e){return this.translateOnAxis(xL,e)}translateY(e){return this.translateOnAxis(_L,e)}translateZ(e){return this.translateOnAxis(wL,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(Qo.copy(this.matrixWorld).invert())}lookAt(e,n,r){e.isVector3?Hv.copy(e):Hv.set(e,n,r);const i=this.parent;this.updateWorldMatrix(!0,!1),Ih.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Qo.lookAt(Ih,Hv,this.up):Qo.lookAt(Hv,Ih,this.up),this.quaternion.setFromRotationMatrix(Qo),i&&(Qo.extractRotation(i.matrixWorld),Ku.setFromRotationMatrix(Qo),this.quaternion.premultiply(Ku.invert()))}add(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.add(arguments[n]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(SL),Qu.child=e,this.dispatchEvent(Qu),Qu.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const n=this.children.indexOf(e);return n!==-1&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(See),X1.child=e,this.dispatchEvent(X1),X1.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),Qo.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),Qo.multiply(e.parent.matrixWorld)),e.applyMatrix4(Qo),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(SL),Qu.child=e,this.dispatchEvent(Qu),Qu.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,n){if(this[e]===n)return this;for(let r=0,i=this.children.length;r<i;r++){const o=this.children[r].getObjectByProperty(e,n);if(o!==void 0)return o}}getObjectsByProperty(e,n,r=[]){this[e]===n&&r.push(this);const i=this.children;for(let s=0,o=i.length;s<o;s++)i[s].getObjectsByProperty(e,n,r);return r}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Ih,e,_ee),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Ih,wee,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(n[8],n[9],n[10]).normalize()}raycast(){}traverse(e){e(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverseVisible(e)}traverseAncestors(e){const n=this.parent;n!==null&&(e(n),n.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].updateMatrixWorld(e)}updateWorldMatrix(e,n){const r=this.parent;if(e===!0&&r!==null&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),n===!0){const i=this.children;for(let s=0,o=i.length;s<o;s++)i[s].updateWorldMatrix(!1,!0)}}toJSON(e){const n=e===void 0||typeof e=="string",r={};n&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.7,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),i.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(i.type="BatchedMesh",i.perObjectFrustumCulled=this.perObjectFrustumCulled,i.sortObjects=this.sortObjects,i.drawRanges=this._drawRanges,i.reservedRanges=this._reservedRanges,i.geometryInfo=this._geometryInfo.map(a=>({...a,boundingBox:a.boundingBox?a.boundingBox.toJSON():void 0,boundingSphere:a.boundingSphere?a.boundingSphere.toJSON():void 0})),i.instanceInfo=this._instanceInfo.map(a=>({...a})),i.availableInstanceIds=this._availableInstanceIds.slice(),i.availableGeometryIds=this._availableGeometryIds.slice(),i.nextIndexStart=this._nextIndexStart,i.nextVertexStart=this._nextVertexStart,i.geometryCount=this._geometryCount,i.maxInstanceCount=this._maxInstanceCount,i.maxVertexCount=this._maxVertexCount,i.maxIndexCount=this._maxIndexCount,i.geometryInitialized=this._geometryInitialized,i.matricesTexture=this._matricesTexture.toJSON(e),i.indirectTexture=this._indirectTexture.toJSON(e),this._colorsTexture!==null&&(i.colorsTexture=this._colorsTexture.toJSON(e)),this.boundingSphere!==null&&(i.boundingSphere=this.boundingSphere.toJSON()),this.boundingBox!==null&&(i.boundingBox=this.boundingBox.toJSON()));function s(a,l){return a[l.uuid]===void 0&&(a[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=s(e.geometries,this.geometry);const a=this.geometry.parameters;if(a!==void 0&&a.shapes!==void 0){const l=a.shapes;if(Array.isArray(l))for(let c=0,d=l.length;c<d;c++){const h=l[c];s(e.shapes,h)}else s(e.shapes,l)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const a=[];for(let l=0,c=this.material.length;l<c;l++)a.push(s(e.materials,this.material[l]));i.material=a}else i.material=s(e.materials,this.material);if(this.children.length>0){i.children=[];for(let a=0;a<this.children.length;a++)i.children.push(this.children[a].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let a=0;a<this.animations.length;a++){const l=this.animations[a];i.animations.push(s(e.animations,l))}}if(n){const a=o(e.geometries),l=o(e.materials),c=o(e.textures),d=o(e.images),h=o(e.shapes),p=o(e.skeletons),m=o(e.animations),v=o(e.nodes);a.length>0&&(r.geometries=a),l.length>0&&(r.materials=l),c.length>0&&(r.textures=c),d.length>0&&(r.images=d),h.length>0&&(r.shapes=h),p.length>0&&(r.skeletons=p),m.length>0&&(r.animations=m),v.length>0&&(r.nodes=v)}return r.object=i,r;function o(a){const l=[];for(const c in a){const d=a[c];delete d.metadata,l.push(d)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,n=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),n===!0)for(let r=0;r<e.children.length;r++){const i=e.children[r];this.add(i.clone())}return this}}pn.DEFAULT_UP=new H(0,1,0);pn.DEFAULT_MATRIX_AUTO_UPDATE=!0;pn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const Us=new H,Jo=new H,$1=new H,ea=new H,Ju=new H,ed=new H,bL=new H,Y1=new H,q1=new H,Z1=new H,K1=new dn,Q1=new dn,J1=new dn;class Ni{constructor(e=new H,n=new H,r=new H){this.a=e,this.b=n,this.c=r}static getNormal(e,n,r,i){i.subVectors(r,n),Us.subVectors(e,n),i.cross(Us);const s=i.lengthSq();return s>0?i.multiplyScalar(1/Math.sqrt(s)):i.set(0,0,0)}static getBarycoord(e,n,r,i,s){Us.subVectors(i,n),Jo.subVectors(r,n),$1.subVectors(e,n);const o=Us.dot(Us),a=Us.dot(Jo),l=Us.dot($1),c=Jo.dot(Jo),d=Jo.dot($1),h=o*c-a*a;if(h===0)return s.set(0,0,0),null;const p=1/h,m=(c*l-a*d)*p,v=(o*d-a*l)*p;return s.set(1-m-v,v,m)}static containsPoint(e,n,r,i){return this.getBarycoord(e,n,r,i,ea)===null?!1:ea.x>=0&&ea.y>=0&&ea.x+ea.y<=1}static getInterpolation(e,n,r,i,s,o,a,l){return this.getBarycoord(e,n,r,i,ea)===null?(l.x=0,l.y=0,"z"in l&&(l.z=0),"w"in l&&(l.w=0),null):(l.setScalar(0),l.addScaledVector(s,ea.x),l.addScaledVector(o,ea.y),l.addScaledVector(a,ea.z),l)}static getInterpolatedAttribute(e,n,r,i,s,o){return K1.setScalar(0),Q1.setScalar(0),J1.setScalar(0),K1.fromBufferAttribute(e,n),Q1.fromBufferAttribute(e,r),J1.fromBufferAttribute(e,i),o.setScalar(0),o.addScaledVector(K1,s.x),o.addScaledVector(Q1,s.y),o.addScaledVector(J1,s.z),o}static isFrontFacing(e,n,r,i){return Us.subVectors(r,n),Jo.subVectors(e,n),Us.cross(Jo).dot(i)<0}set(e,n,r){return this.a.copy(e),this.b.copy(n),this.c.copy(r),this}setFromPointsAndIndices(e,n,r,i){return this.a.copy(e[n]),this.b.copy(e[r]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,n,r,i){return this.a.fromBufferAttribute(e,n),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Us.subVectors(this.c,this.b),Jo.subVectors(this.a,this.b),Us.cross(Jo).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Ni.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,n){return Ni.getBarycoord(e,this.a,this.b,this.c,n)}getInterpolation(e,n,r,i,s){return Ni.getInterpolation(e,this.a,this.b,this.c,n,r,i,s)}containsPoint(e){return Ni.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Ni.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,n){const r=this.a,i=this.b,s=this.c;let o,a;Ju.subVectors(i,r),ed.subVectors(s,r),Y1.subVectors(e,r);const l=Ju.dot(Y1),c=ed.dot(Y1);if(l<=0&&c<=0)return n.copy(r);q1.subVectors(e,i);const d=Ju.dot(q1),h=ed.dot(q1);if(d>=0&&h<=d)return n.copy(i);const p=l*h-d*c;if(p<=0&&l>=0&&d<=0)return o=l/(l-d),n.copy(r).addScaledVector(Ju,o);Z1.subVectors(e,s);const m=Ju.dot(Z1),v=ed.dot(Z1);if(v>=0&&m<=v)return n.copy(s);const x=m*c-l*v;if(x<=0&&c>=0&&v<=0)return a=c/(c-v),n.copy(r).addScaledVector(ed,a);const y=d*v-m*h;if(y<=0&&h-d>=0&&m-v>=0)return bL.subVectors(s,i),a=(h-d)/(h-d+(m-v)),n.copy(i).addScaledVector(bL,a);const g=1/(y+x+p);return o=x*g,a=p*g,n.copy(r).addScaledVector(Ju,o).addScaledVector(ed,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const O4={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Ka={h:0,s:0,l:0},Wv={h:0,s:0,l:0};function eb(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*6*(2/3-n):t}class lt{constructor(e,n,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,n,r)}set(e,n,r){if(n===void 0&&r===void 0){const i=e;i&&i.isColor?this.copy(i):typeof i=="number"?this.setHex(i):typeof i=="string"&&this.setStyle(i)}else this.setRGB(e,n,r);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,n=Ri){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,cn.colorSpaceToWorking(this,n),this}setRGB(e,n,r,i=cn.workingColorSpace){return this.r=e,this.g=n,this.b=r,cn.colorSpaceToWorking(this,i),this}setHSL(e,n,r,i=cn.workingColorSpace){if(e=xA(e,1),n=It(n,0,1),r=It(r,0,1),n===0)this.r=this.g=this.b=r;else{const s=r<=.5?r*(1+n):r+n-r*n,o=2*r-s;this.r=eb(o,s,e+1/3),this.g=eb(o,s,e),this.b=eb(o,s,e-1/3)}return cn.colorSpaceToWorking(this,i),this}setStyle(e,n=Ri){function r(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^(\w+)\(([^\)]*)\)/.exec(e)){let s;const o=i[1],a=i[2];switch(o){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(s[4]),this.setRGB(Math.min(255,parseInt(s[1],10))/255,Math.min(255,parseInt(s[2],10))/255,Math.min(255,parseInt(s[3],10))/255,n);if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(s[4]),this.setRGB(Math.min(100,parseInt(s[1],10))/100,Math.min(100,parseInt(s[2],10))/100,Math.min(100,parseInt(s[3],10))/100,n);break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(s[4]),this.setHSL(parseFloat(s[1])/360,parseFloat(s[2])/100,parseFloat(s[3])/100,n);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=i[1],o=s.length;if(o===3)return this.setRGB(parseInt(s.charAt(0),16)/15,parseInt(s.charAt(1),16)/15,parseInt(s.charAt(2),16)/15,n);if(o===6)return this.setHex(parseInt(s,16),n);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,n);return this}setColorName(e,n=Ri){const r=O4[e.toLowerCase()];return r!==void 0?this.setHex(r,n):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=ga(e.r),this.g=ga(e.g),this.b=ga(e.b),this}copyLinearToSRGB(e){return this.r=Jd(e.r),this.g=Jd(e.g),this.b=Jd(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=Ri){return cn.workingToColorSpace($r.copy(this),e),Math.round(It($r.r*255,0,255))*65536+Math.round(It($r.g*255,0,255))*256+Math.round(It($r.b*255,0,255))}getHexString(e=Ri){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,n=cn.workingColorSpace){cn.workingToColorSpace($r.copy(this),n);const r=$r.r,i=$r.g,s=$r.b,o=Math.max(r,i,s),a=Math.min(r,i,s);let l,c;const d=(a+o)/2;if(a===o)l=0,c=0;else{const h=o-a;switch(c=d<=.5?h/(o+a):h/(2-o-a),o){case r:l=(i-s)/h+(i<s?6:0);break;case i:l=(s-r)/h+2;break;case s:l=(r-i)/h+4;break}l/=6}return e.h=l,e.s=c,e.l=d,e}getRGB(e,n=cn.workingColorSpace){return cn.workingToColorSpace($r.copy(this),n),e.r=$r.r,e.g=$r.g,e.b=$r.b,e}getStyle(e=Ri){cn.workingToColorSpace($r.copy(this),e);const n=$r.r,r=$r.g,i=$r.b;return e!==Ri?`color(${e} ${n.toFixed(3)} ${r.toFixed(3)} ${i.toFixed(3)})`:`rgb(${Math.round(n*255)},${Math.round(r*255)},${Math.round(i*255)})`}offsetHSL(e,n,r){return this.getHSL(Ka),this.setHSL(Ka.h+e,Ka.s+n,Ka.l+r)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,n){return this.r=e.r+n.r,this.g=e.g+n.g,this.b=e.b+n.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,n){return this.r+=(e.r-this.r)*n,this.g+=(e.g-this.g)*n,this.b+=(e.b-this.b)*n,this}lerpColors(e,n,r){return this.r=e.r+(n.r-e.r)*r,this.g=e.g+(n.g-e.g)*r,this.b=e.b+(n.b-e.b)*r,this}lerpHSL(e,n){this.getHSL(Ka),e.getHSL(Wv);const r=Ep(Ka.h,Wv.h,n),i=Ep(Ka.s,Wv.s,n),s=Ep(Ka.l,Wv.l,n);return this.setHSL(r,i,s),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const n=this.r,r=this.g,i=this.b,s=e.elements;return this.r=s[0]*n+s[3]*r+s[6]*i,this.g=s[1]*n+s[4]*r+s[7]*i,this.b=s[2]*n+s[5]*r+s[8]*i,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,n=0){return this.r=e[n],this.g=e[n+1],this.b=e[n+2],this}toArray(e=[],n=0){return e[n]=this.r,e[n+1]=this.g,e[n+2]=this.b,e}fromBufferAttribute(e,n){return this.r=e.getX(n),this.g=e.getY(n),this.b=e.getZ(n),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const $r=new lt;lt.NAMES=O4;let bee=0;class ri extends Bo{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:bee++}),this.uuid=ts(),this.name="",this.type="Material",this.blending=tu,this.side=Ta,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=K0,this.blendDst=Q0,this.blendEquation=dl,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new lt(0,0,0),this.blendAlpha=0,this.depthFunc=fu,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=DE,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Dc,this.stencilZFail=Dc,this.stencilZPass=Dc,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.allowOverride=!0,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const n in e){const r=e[n];if(r===void 0){console.warn(`THREE.Material: parameter '${n}' has value of undefined.`);continue}const i=this[n];if(i===void 0){console.warn(`THREE.Material: '${n}' is not a property of THREE.${this.type}.`);continue}i&&i.isColor?i.set(r):i&&i.isVector3&&r&&r.isVector3?i.copy(r):this[n]=r}}toJSON(e){const n=e===void 0||typeof e=="string";n&&(e={textures:{},images:{}});const r={metadata:{version:4.7,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.dispersion!==void 0&&(r.dispersion=this.dispersion),this.iridescence!==void 0&&(r.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(r.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(r.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(r.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(r.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapRotation!==void 0&&(r.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==tu&&(r.blending=this.blending),this.side!==Ta&&(r.side=this.side),this.vertexColors===!0&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.transparent===!0&&(r.transparent=!0),this.blendSrc!==K0&&(r.blendSrc=this.blendSrc),this.blendDst!==Q0&&(r.blendDst=this.blendDst),this.blendEquation!==dl&&(r.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(r.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(r.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(r.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(r.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(r.blendAlpha=this.blendAlpha),this.depthFunc!==fu&&(r.depthFunc=this.depthFunc),this.depthTest===!1&&(r.depthTest=this.depthTest),this.depthWrite===!1&&(r.depthWrite=this.depthWrite),this.colorWrite===!1&&(r.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(r.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==DE&&(r.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(r.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(r.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==Dc&&(r.stencilFail=this.stencilFail),this.stencilZFail!==Dc&&(r.stencilZFail=this.stencilZFail),this.stencilZPass!==Dc&&(r.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(r.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaHash===!0&&(r.alphaHash=!0),this.alphaToCoverage===!0&&(r.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=!0),this.forceSinglePass===!0&&(r.forceSinglePass=!0),this.wireframe===!0&&(r.wireframe=!0),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=!0),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),this.fog===!1&&(r.fog=!1),Object.keys(this.userData).length>0&&(r.userData=this.userData);function i(s){const o=[];for(const a in s){const l=s[a];delete l.metadata,o.push(l)}return o}if(n){const s=i(e.textures),o=i(e.images);s.length>0&&(r.textures=s),o.length>0&&(r.images=o)}return r}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const n=e.clippingPlanes;let r=null;if(n!==null){const i=n.length;r=new Array(i);for(let s=0;s!==i;++s)r[s]=n[s].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class Kl extends ri{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new lt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new is,this.combine=Wm,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const ca=Mee();function Mee(){const t=new ArrayBuffer(4),e=new Float32Array(t),n=new Uint32Array(t),r=new Uint32Array(512),i=new Uint32Array(512);for(let l=0;l<256;++l){const c=l-127;c<-27?(r[l]=0,r[l|256]=32768,i[l]=24,i[l|256]=24):c<-14?(r[l]=1024>>-c-14,r[l|256]=1024>>-c-14|32768,i[l]=-c-1,i[l|256]=-c-1):c<=15?(r[l]=c+15<<10,r[l|256]=c+15<<10|32768,i[l]=13,i[l|256]=13):c<128?(r[l]=31744,r[l|256]=64512,i[l]=24,i[l|256]=24):(r[l]=31744,r[l|256]=64512,i[l]=13,i[l|256]=13)}const s=new Uint32Array(2048),o=new Uint32Array(64),a=new Uint32Array(64);for(let l=1;l<1024;++l){let c=l<<13,d=0;for(;!(c&8388608);)c<<=1,d-=8388608;c&=-8388609,d+=947912704,s[l]=c|d}for(let l=1024;l<2048;++l)s[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)o[l]=l<<23;o[31]=1199570944,o[32]=2147483648;for(let l=33;l<63;++l)o[l]=2147483648+(l-32<<23);o[63]=3347054592;for(let l=1;l<64;++l)l!==32&&(a[l]=1024);return{floatView:e,uint32View:n,baseTable:r,shiftTable:i,mantissaTable:s,exponentTable:o,offsetTable:a}}function Ci(t){Math.abs(t)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),t=It(t,-65504,65504),ca.floatView[0]=t;const e=ca.uint32View[0],n=e>>23&511;return ca.baseTable[n]+((e&8388607)>>ca.shiftTable[n])}function Zh(t){const e=t>>10;return ca.uint32View[0]=ca.mantissaTable[ca.offsetTable[e]+(t&1023)]+ca.exponentTable[e],ca.floatView[0]}class Eee{static toHalfFloat(e){return Ci(e)}static fromHalfFloat(e){return Zh(e)}}const lr=new H,Gv=new Te;let Tee=0;class Mn{constructor(e,n,r=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,Object.defineProperty(this,"id",{value:Tee++}),this.name="",this.array=e,this.itemSize=n,this.count=e!==void 0?e.length/n:0,this.normalized=r,this.usage=gm,this.updateRanges=[],this.gpuType=ki,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,n,r){e*=this.itemSize,r*=n.itemSize;for(let i=0,s=this.itemSize;i<s;i++)this.array[e+i]=n.array[r+i];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let n=0,r=this.count;n<r;n++)Gv.fromBufferAttribute(this,n),Gv.applyMatrix3(e),this.setXY(n,Gv.x,Gv.y);else if(this.itemSize===3)for(let n=0,r=this.count;n<r;n++)lr.fromBufferAttribute(this,n),lr.applyMatrix3(e),this.setXYZ(n,lr.x,lr.y,lr.z);return this}applyMatrix4(e){for(let n=0,r=this.count;n<r;n++)lr.fromBufferAttribute(this,n),lr.applyMatrix4(e),this.setXYZ(n,lr.x,lr.y,lr.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)lr.fromBufferAttribute(this,n),lr.applyNormalMatrix(e),this.setXYZ(n,lr.x,lr.y,lr.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)lr.fromBufferAttribute(this,n),lr.transformDirection(e),this.setXYZ(n,lr.x,lr.y,lr.z);return this}set(e,n=0){return this.array.set(e,n),this}getComponent(e,n){let r=this.array[e*this.itemSize+n];return this.normalized&&(r=fi(r,this.array)),r}setComponent(e,n,r){return this.normalized&&(r=kt(r,this.array)),this.array[e*this.itemSize+n]=r,this}getX(e){let n=this.array[e*this.itemSize];return this.normalized&&(n=fi(n,this.array)),n}setX(e,n){return this.normalized&&(n=kt(n,this.array)),this.array[e*this.itemSize]=n,this}getY(e){let n=this.array[e*this.itemSize+1];return this.normalized&&(n=fi(n,this.array)),n}setY(e,n){return this.normalized&&(n=kt(n,this.array)),this.array[e*this.itemSize+1]=n,this}getZ(e){let n=this.array[e*this.itemSize+2];return this.normalized&&(n=fi(n,this.array)),n}setZ(e,n){return this.normalized&&(n=kt(n,this.array)),this.array[e*this.itemSize+2]=n,this}getW(e){let n=this.array[e*this.itemSize+3];return this.normalized&&(n=fi(n,this.array)),n}setW(e,n){return this.normalized&&(n=kt(n,this.array)),this.array[e*this.itemSize+3]=n,this}setXY(e,n,r){return e*=this.itemSize,this.normalized&&(n=kt(n,this.array),r=kt(r,this.array)),this.array[e+0]=n,this.array[e+1]=r,this}setXYZ(e,n,r,i){return e*=this.itemSize,this.normalized&&(n=kt(n,this.array),r=kt(r,this.array),i=kt(i,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=i,this}setXYZW(e,n,r,i,s){return e*=this.itemSize,this.normalized&&(n=kt(n,this.array),r=kt(r,this.array),i=kt(i,this.array),s=kt(s,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=i,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==gm&&(e.usage=this.usage),e}}class Cee extends Mn{constructor(e,n,r){super(new Int8Array(e),n,r)}}class Aee extends Mn{constructor(e,n,r){super(new Uint8Array(e),n,r)}}class Pee extends Mn{constructor(e,n,r){super(new Uint8ClampedArray(e),n,r)}}class Ree extends Mn{constructor(e,n,r){super(new Int16Array(e),n,r)}}class wA extends Mn{constructor(e,n,r){super(new Uint16Array(e),n,r)}}class Iee extends Mn{constructor(e,n,r){super(new Int32Array(e),n,r)}}class SA extends Mn{constructor(e,n,r){super(new Uint32Array(e),n,r)}}class Nee extends Mn{constructor(e,n,r){super(new Uint16Array(e),n,r),this.isFloat16BufferAttribute=!0}getX(e){let n=Zh(this.array[e*this.itemSize]);return this.normalized&&(n=fi(n,this.array)),n}setX(e,n){return this.normalized&&(n=kt(n,this.array)),this.array[e*this.itemSize]=Ci(n),this}getY(e){let n=Zh(this.array[e*this.itemSize+1]);return this.normalized&&(n=fi(n,this.array)),n}setY(e,n){return this.normalized&&(n=kt(n,this.array)),this.array[e*this.itemSize+1]=Ci(n),this}getZ(e){let n=Zh(this.array[e*this.itemSize+2]);return this.normalized&&(n=fi(n,this.array)),n}setZ(e,n){return this.normalized&&(n=kt(n,this.array)),this.array[e*this.itemSize+2]=Ci(n),this}getW(e){let n=Zh(this.array[e*this.itemSize+3]);return this.normalized&&(n=fi(n,this.array)),n}setW(e,n){return this.normalized&&(n=kt(n,this.array)),this.array[e*this.itemSize+3]=Ci(n),this}setXY(e,n,r){return e*=this.itemSize,this.normalized&&(n=kt(n,this.array),r=kt(r,this.array)),this.array[e+0]=Ci(n),this.array[e+1]=Ci(r),this}setXYZ(e,n,r,i){return e*=this.itemSize,this.normalized&&(n=kt(n,this.array),r=kt(r,this.array),i=kt(i,this.array)),this.array[e+0]=Ci(n),this.array[e+1]=Ci(r),this.array[e+2]=Ci(i),this}setXYZW(e,n,r,i,s){return e*=this.itemSize,this.normalized&&(n=kt(n,this.array),r=kt(r,this.array),i=kt(i,this.array),s=kt(s,this.array)),this.array[e+0]=Ci(n),this.array[e+1]=Ci(r),this.array[e+2]=Ci(i),this.array[e+3]=Ci(s),this}}class ht extends Mn{constructor(e,n,r){super(new Float32Array(e),n,r)}}let Lee=0;const gs=new Tt,tb=new pn,td=new H,$i=new ei,Nh=new ei,Er=new H;class Ft extends Bo{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:Lee++}),this.uuid=ts(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(L4(e)?SA:wA)(e,1):this.index=e,this}setIndirect(e){return this.indirect=e,this}getIndirect(){return this.indirect}getAttribute(e){return this.attributes[e]}setAttribute(e,n){return this.attributes[e]=n,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,n,r=0){this.groups.push({start:e,count:n,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,n){this.drawRange.start=e,this.drawRange.count=n}applyMatrix4(e){const n=this.attributes.position;n!==void 0&&(n.applyMatrix4(e),n.needsUpdate=!0);const r=this.attributes.normal;if(r!==void 0){const s=new Dt().getNormalMatrix(e);r.applyNormalMatrix(s),r.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return gs.makeRotationFromQuaternion(e),this.applyMatrix4(gs),this}rotateX(e){return gs.makeRotationX(e),this.applyMatrix4(gs),this}rotateY(e){return gs.makeRotationY(e),this.applyMatrix4(gs),this}rotateZ(e){return gs.makeRotationZ(e),this.applyMatrix4(gs),this}translate(e,n,r){return gs.makeTranslation(e,n,r),this.applyMatrix4(gs),this}scale(e,n,r){return gs.makeScale(e,n,r),this.applyMatrix4(gs),this}lookAt(e){return tb.lookAt(e),tb.updateMatrix(),this.applyMatrix4(tb.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(td).negate(),this.translate(td.x,td.y,td.z),this}setFromPoints(e){const n=this.getAttribute("position");if(n===void 0){const r=[];for(let i=0,s=e.length;i<s;i++){const o=e[i];r.push(o.x,o.y,o.z||0)}this.setAttribute("position",new ht(r,3))}else{const r=Math.min(e.length,n.count);for(let i=0;i<r;i++){const s=e[i];n.setXYZ(i,s.x,s.y,s.z||0)}e.length>n.count&&console.warn("THREE.BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),n.needsUpdate=!0}return this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new ei);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new H(-1/0,-1/0,-1/0),new H(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),n)for(let r=0,i=n.length;r<i;r++){const s=n[r];$i.setFromBufferAttribute(s),this.morphTargetsRelative?(Er.addVectors(this.boundingBox.min,$i.min),this.boundingBox.expandByPoint(Er),Er.addVectors(this.boundingBox.max,$i.max),this.boundingBox.expandByPoint(Er)):(this.boundingBox.expandByPoint($i.min),this.boundingBox.expandByPoint($i.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new kr);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new H,1/0);return}if(e){const r=this.boundingSphere.center;if($i.setFromBufferAttribute(e),n)for(let s=0,o=n.length;s<o;s++){const a=n[s];Nh.setFromBufferAttribute(a),this.morphTargetsRelative?(Er.addVectors($i.min,Nh.min),$i.expandByPoint(Er),Er.addVectors($i.max,Nh.max),$i.expandByPoint(Er)):($i.expandByPoint(Nh.min),$i.expandByPoint(Nh.max))}$i.getCenter(r);let i=0;for(let s=0,o=e.count;s<o;s++)Er.fromBufferAttribute(e,s),i=Math.max(i,r.distanceToSquared(Er));if(n)for(let s=0,o=n.length;s<o;s++){const a=n[s],l=this.morphTargetsRelative;for(let c=0,d=a.count;c<d;c++)Er.fromBufferAttribute(a,c),l&&(td.fromBufferAttribute(e,c),Er.add(td)),i=Math.max(i,r.distanceToSquared(Er))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,n=this.attributes;if(e===null||n.position===void 0||n.normal===void 0||n.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const r=n.position,i=n.normal,s=n.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Mn(new Float32Array(4*r.count),4));const o=this.getAttribute("tangent"),a=[],l=[];for(let D=0;D<r.count;D++)a[D]=new H,l[D]=new H;const c=new H,d=new H,h=new H,p=new Te,m=new Te,v=new Te,x=new H,y=new H;function g(D,N,R){c.fromBufferAttribute(r,D),d.fromBufferAttribute(r,N),h.fromBufferAttribute(r,R),p.fromBufferAttribute(s,D),m.fromBufferAttribute(s,N),v.fromBufferAttribute(s,R),d.sub(c),h.sub(c),m.sub(p),v.sub(p);const F=1/(m.x*v.y-v.x*m.y);isFinite(F)&&(x.copy(d).multiplyScalar(v.y).addScaledVector(h,-m.y).multiplyScalar(F),y.copy(h).multiplyScalar(m.x).addScaledVector(d,-v.x).multiplyScalar(F),a[D].add(x),a[N].add(x),a[R].add(x),l[D].add(y),l[N].add(y),l[R].add(y))}let w=this.groups;w.length===0&&(w=[{start:0,count:e.count}]);for(let D=0,N=w.length;D<N;++D){const R=w[D],F=R.start,j=R.count;for(let G=F,$=F+j;G<$;G+=3)g(e.getX(G+0),e.getX(G+1),e.getX(G+2))}const b=new H,E=new H,C=new H,A=new H;function I(D){C.fromBufferAttribute(i,D),A.copy(C);const N=a[D];b.copy(N),b.sub(C.multiplyScalar(C.dot(N))).normalize(),E.crossVectors(A,N);const F=E.dot(l[D])<0?-1:1;o.setXYZW(D,b.x,b.y,b.z,F)}for(let D=0,N=w.length;D<N;++D){const R=w[D],F=R.start,j=R.count;for(let G=F,$=F+j;G<$;G+=3)I(e.getX(G+0)),I(e.getX(G+1)),I(e.getX(G+2))}}computeVertexNormals(){const e=this.index,n=this.getAttribute("position");if(n!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new Mn(new Float32Array(n.count*3),3),this.setAttribute("normal",r);else for(let p=0,m=r.count;p<m;p++)r.setXYZ(p,0,0,0);const i=new H,s=new H,o=new H,a=new H,l=new H,c=new H,d=new H,h=new H;if(e)for(let p=0,m=e.count;p<m;p+=3){const v=e.getX(p+0),x=e.getX(p+1),y=e.getX(p+2);i.fromBufferAttribute(n,v),s.fromBufferAttribute(n,x),o.fromBufferAttribute(n,y),d.subVectors(o,s),h.subVectors(i,s),d.cross(h),a.fromBufferAttribute(r,v),l.fromBufferAttribute(r,x),c.fromBufferAttribute(r,y),a.add(d),l.add(d),c.add(d),r.setXYZ(v,a.x,a.y,a.z),r.setXYZ(x,l.x,l.y,l.z),r.setXYZ(y,c.x,c.y,c.z)}else for(let p=0,m=n.count;p<m;p+=3)i.fromBufferAttribute(n,p+0),s.fromBufferAttribute(n,p+1),o.fromBufferAttribute(n,p+2),d.subVectors(o,s),h.subVectors(i,s),d.cross(h),r.setXYZ(p+0,d.x,d.y,d.z),r.setXYZ(p+1,d.x,d.y,d.z),r.setXYZ(p+2,d.x,d.y,d.z);this.normalizeNormals(),r.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let n=0,r=e.count;n<r;n++)Er.fromBufferAttribute(e,n),Er.normalize(),e.setXYZ(n,Er.x,Er.y,Er.z)}toNonIndexed(){function e(a,l){const c=a.array,d=a.itemSize,h=a.normalized,p=new c.constructor(l.length*d);let m=0,v=0;for(let x=0,y=l.length;x<y;x++){a.isInterleavedBufferAttribute?m=l[x]*a.data.stride+a.offset:m=l[x]*d;for(let g=0;g<d;g++)p[v++]=c[m++]}return new Mn(p,d,h)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const n=new Ft,r=this.index.array,i=this.attributes;for(const a in i){const l=i[a],c=e(l,r);n.setAttribute(a,c)}const s=this.morphAttributes;for(const a in s){const l=[],c=s[a];for(let d=0,h=c.length;d<h;d++){const p=c[d],m=e(p,r);l.push(m)}n.morphAttributes[a]=l}n.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let a=0,l=o.length;a<l;a++){const c=o[a];n.addGroup(c.start,c.count,c.materialIndex)}return n}toJSON(){const e={metadata:{version:4.7,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const c in l)l[c]!==void 0&&(e[c]=l[c]);return e}e.data={attributes:{}};const n=this.index;n!==null&&(e.data.index={type:n.array.constructor.name,array:Array.prototype.slice.call(n.array)});const r=this.attributes;for(const l in r){const c=r[l];e.data.attributes[l]=c.toJSON(e.data)}const i={};let s=!1;for(const l in this.morphAttributes){const c=this.morphAttributes[l],d=[];for(let h=0,p=c.length;h<p;h++){const m=c[h];d.push(m.toJSON(e.data))}d.length>0&&(i[l]=d,s=!0)}s&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const a=this.boundingSphere;return a!==null&&(e.data.boundingSphere=a.toJSON()),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const n={};this.name=e.name;const r=e.index;r!==null&&this.setIndex(r.clone());const i=e.attributes;for(const c in i){const d=i[c];this.setAttribute(c,d.clone(n))}const s=e.morphAttributes;for(const c in s){const d=[],h=s[c];for(let p=0,m=h.length;p<m;p++)d.push(h[p].clone(n));this.morphAttributes[c]=d}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let c=0,d=o.length;c<d;c++){const h=o[c];this.addGroup(h.start,h.count,h.materialIndex)}const a=e.boundingBox;a!==null&&(this.boundingBox=a.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const ML=new Tt,mc=new Eu,Xv=new kr,EL=new H,$v=new H,Yv=new H,qv=new H,nb=new H,Zv=new H,TL=new H,Kv=new H;class dr extends pn{constructor(e=new Ft,n=new Kl){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=n,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.count=1,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}getVertexPosition(e,n){const r=this.geometry,i=r.attributes.position,s=r.morphAttributes.position,o=r.morphTargetsRelative;n.fromBufferAttribute(i,e);const a=this.morphTargetInfluences;if(s&&a){Zv.set(0,0,0);for(let l=0,c=s.length;l<c;l++){const d=a[l],h=s[l];d!==0&&(nb.fromBufferAttribute(h,e),o?Zv.addScaledVector(nb,d):Zv.addScaledVector(nb.sub(n),d))}n.add(Zv)}return n}raycast(e,n){const r=this.geometry,i=this.material,s=this.matrixWorld;i!==void 0&&(r.boundingSphere===null&&r.computeBoundingSphere(),Xv.copy(r.boundingSphere),Xv.applyMatrix4(s),mc.copy(e.ray).recast(e.near),!(Xv.containsPoint(mc.origin)===!1&&(mc.intersectSphere(Xv,EL)===null||mc.origin.distanceToSquared(EL)>(e.far-e.near)**2))&&(ML.copy(s).invert(),mc.copy(e.ray).applyMatrix4(ML),!(r.boundingBox!==null&&mc.intersectsBox(r.boundingBox)===!1)&&this._computeIntersections(e,n,mc)))}_computeIntersections(e,n,r){let i;const s=this.geometry,o=this.material,a=s.index,l=s.attributes.position,c=s.attributes.uv,d=s.attributes.uv1,h=s.attributes.normal,p=s.groups,m=s.drawRange;if(a!==null)if(Array.isArray(o))for(let v=0,x=p.length;v<x;v++){const y=p[v],g=o[y.materialIndex],w=Math.max(y.start,m.start),b=Math.min(a.count,Math.min(y.start+y.count,m.start+m.count));for(let E=w,C=b;E<C;E+=3){const A=a.getX(E),I=a.getX(E+1),D=a.getX(E+2);i=Qv(this,g,e,r,c,d,h,A,I,D),i&&(i.faceIndex=Math.floor(E/3),i.face.materialIndex=y.materialIndex,n.push(i))}}else{const v=Math.max(0,m.start),x=Math.min(a.count,m.start+m.count);for(let y=v,g=x;y<g;y+=3){const w=a.getX(y),b=a.getX(y+1),E=a.getX(y+2);i=Qv(this,o,e,r,c,d,h,w,b,E),i&&(i.faceIndex=Math.floor(y/3),n.push(i))}}else if(l!==void 0)if(Array.isArray(o))for(let v=0,x=p.length;v<x;v++){const y=p[v],g=o[y.materialIndex],w=Math.max(y.start,m.start),b=Math.min(l.count,Math.min(y.start+y.count,m.start+m.count));for(let E=w,C=b;E<C;E+=3){const A=E,I=E+1,D=E+2;i=Qv(this,g,e,r,c,d,h,A,I,D),i&&(i.faceIndex=Math.floor(E/3),i.face.materialIndex=y.materialIndex,n.push(i))}}else{const v=Math.max(0,m.start),x=Math.min(l.count,m.start+m.count);for(let y=v,g=x;y<g;y+=3){const w=y,b=y+1,E=y+2;i=Qv(this,o,e,r,c,d,h,w,b,E),i&&(i.faceIndex=Math.floor(y/3),n.push(i))}}}}function Dee(t,e,n,r,i,s,o,a){let l;if(e.side===gi?l=r.intersectTriangle(o,s,i,!0,a):l=r.intersectTriangle(i,s,o,e.side===Ta,a),l===null)return null;Kv.copy(a),Kv.applyMatrix4(t.matrixWorld);const c=n.ray.origin.distanceTo(Kv);return c<n.near||c>n.far?null:{distance:c,point:Kv.clone(),object:t}}function Qv(t,e,n,r,i,s,o,a,l,c){t.getVertexPosition(a,$v),t.getVertexPosition(l,Yv),t.getVertexPosition(c,qv);const d=Dee(t,e,n,r,$v,Yv,qv,TL);if(d){const h=new H;Ni.getBarycoord(TL,$v,Yv,qv,h),i&&(d.uv=Ni.getInterpolatedAttribute(i,a,l,c,h,new Te)),s&&(d.uv1=Ni.getInterpolatedAttribute(s,a,l,c,h,new Te)),o&&(d.normal=Ni.getInterpolatedAttribute(o,a,l,c,h,new H),d.normal.dot(r.direction)>0&&d.normal.multiplyScalar(-1));const p={a,b:l,c,normal:new H,materialIndex:0};Ni.getNormal($v,Yv,qv,p.normal),d.face=p,d.barycoord=h}return d}class Tu extends Ft{constructor(e=1,n=1,r=1,i=1,s=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:n,depth:r,widthSegments:i,heightSegments:s,depthSegments:o};const a=this;i=Math.floor(i),s=Math.floor(s),o=Math.floor(o);const l=[],c=[],d=[],h=[];let p=0,m=0;v("z","y","x",-1,-1,r,n,e,o,s,0),v("z","y","x",1,-1,r,n,-e,o,s,1),v("x","z","y",1,1,e,r,n,i,o,2),v("x","z","y",1,-1,e,r,-n,i,o,3),v("x","y","z",1,-1,e,n,r,i,s,4),v("x","y","z",-1,-1,e,n,-r,i,s,5),this.setIndex(l),this.setAttribute("position",new ht(c,3)),this.setAttribute("normal",new ht(d,3)),this.setAttribute("uv",new ht(h,2));function v(x,y,g,w,b,E,C,A,I,D,N){const R=E/I,F=C/D,j=E/2,G=C/2,$=A/2,ne=I+1,J=D+1;let re=0,k=0;const W=new H;for(let q=0;q<J;q++){const ee=q*F-G;for(let de=0;de<ne;de++){const Ae=de*R-j;W[x]=Ae*w,W[y]=ee*b,W[g]=$,c.push(W.x,W.y,W.z),W[x]=0,W[y]=0,W[g]=A>0?1:-1,d.push(W.x,W.y,W.z),h.push(de/I),h.push(1-q/D),re+=1}}for(let q=0;q<D;q++)for(let ee=0;ee<I;ee++){const de=p+ee+ne*q,Ae=p+ee+ne*(q+1),ae=p+(ee+1)+ne*(q+1),be=p+(ee+1)+ne*q;l.push(de,Ae,be),l.push(Ae,ae,be),k+=6}a.addGroup(m,k,N),m+=k,p+=re}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Tu(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function Pf(t){const e={};for(const n in t){e[n]={};for(const r in t[n]){const i=t[n][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?i.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[n][r]=null):e[n][r]=i.clone():Array.isArray(i)?e[n][r]=i.slice():e[n][r]=i}}return e}function ai(t){const e={};for(let n=0;n<t.length;n++){const r=Pf(t[n]);for(const i in r)e[i]=r[i]}return e}function kee(t){const e=[];for(let n=0;n<t.length;n++)e.push(t[n].clone());return e}function F4(t){const e=t.getRenderTarget();return e===null?t.outputColorSpace:e.isXRRenderTarget===!0?e.texture.colorSpace:cn.workingColorSpace}const U4={clone:Pf,merge:ai};var Oee=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,Fee=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class to extends ri{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=Oee,this.fragmentShader=Fee,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Pf(e.uniforms),this.uniformsGroups=kee(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const n=super.toJSON(e);n.glslVersion=this.glslVersion,n.uniforms={};for(const i in this.uniforms){const o=this.uniforms[i].value;o&&o.isTexture?n.uniforms[i]={type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?n.uniforms[i]={type:"c",value:o.getHex()}:o&&o.isVector2?n.uniforms[i]={type:"v2",value:o.toArray()}:o&&o.isVector3?n.uniforms[i]={type:"v3",value:o.toArray()}:o&&o.isVector4?n.uniforms[i]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?n.uniforms[i]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?n.uniforms[i]={type:"m4",value:o.toArray()}:n.uniforms[i]={value:o}}Object.keys(this.defines).length>0&&(n.defines=this.defines),n.vertexShader=this.vertexShader,n.fragmentShader=this.fragmentShader,n.lights=this.lights,n.clipping=this.clipping;const r={};for(const i in this.extensions)this.extensions[i]===!0&&(r[i]=!0);return Object.keys(r).length>0&&(n.extensions=r),n}}class Xm extends pn{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Tt,this.projectionMatrix=new Tt,this.projectionMatrixInverse=new Tt,this.coordinateSystem=Es}copy(e,n){return super.copy(e,n),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,n){super.updateWorldMatrix(e,n),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const Qa=new H,CL=new Te,AL=new Te;class rr extends Xm{constructor(e=50,n=1,r=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=i,this.focus=10,this.aspect=n,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const n=.5*this.getFilmHeight()/e;this.fov=Af*2*Math.atan(n),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(nu*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return Af*2*Math.atan(Math.tan(nu*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,n,r){Qa.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),n.set(Qa.x,Qa.y).multiplyScalar(-e/Qa.z),Qa.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),r.set(Qa.x,Qa.y).multiplyScalar(-e/Qa.z)}getViewSize(e,n){return this.getViewBounds(e,CL,AL),n.subVectors(AL,CL)}setViewOffset(e,n,r,i,s,o){this.aspect=e/n,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let n=e*Math.tan(nu*.5*this.fov)/this.zoom,r=2*n,i=this.aspect*r,s=-.5*i;const o=this.view;if(this.view!==null&&this.view.enabled){const l=o.fullWidth,c=o.fullHeight;s+=o.offsetX*i/l,n-=o.offsetY*r/c,i*=o.width/l,r*=o.height/c}const a=this.filmOffset;a!==0&&(s+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+i,n,n-r,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.fov=this.fov,n.object.zoom=this.zoom,n.object.near=this.near,n.object.far=this.far,n.object.focus=this.focus,n.object.aspect=this.aspect,this.view!==null&&(n.object.view=Object.assign({},this.view)),n.object.filmGauge=this.filmGauge,n.object.filmOffset=this.filmOffset,n}}const nd=-90,rd=1;class B4 extends pn{constructor(e,n,r){super(),this.type="CubeCamera",this.renderTarget=r,this.coordinateSystem=null,this.activeMipmapLevel=0;const i=new rr(nd,rd,e,n);i.layers=this.layers,this.add(i);const s=new rr(nd,rd,e,n);s.layers=this.layers,this.add(s);const o=new rr(nd,rd,e,n);o.layers=this.layers,this.add(o);const a=new rr(nd,rd,e,n);a.layers=this.layers,this.add(a);const l=new rr(nd,rd,e,n);l.layers=this.layers,this.add(l);const c=new rr(nd,rd,e,n);c.layers=this.layers,this.add(c)}updateCoordinateSystem(){const e=this.coordinateSystem,n=this.children.concat(),[r,i,s,o,a,l]=n;for(const c of n)this.remove(c);if(e===Es)r.up.set(0,1,0),r.lookAt(1,0,0),i.up.set(0,1,0),i.lookAt(-1,0,0),s.up.set(0,0,-1),s.lookAt(0,1,0),o.up.set(0,0,1),o.lookAt(0,-1,0),a.up.set(0,1,0),a.lookAt(0,0,1),l.up.set(0,1,0),l.lookAt(0,0,-1);else if(e===vm)r.up.set(0,-1,0),r.lookAt(-1,0,0),i.up.set(0,-1,0),i.lookAt(1,0,0),s.up.set(0,0,1),s.lookAt(0,1,0),o.up.set(0,0,-1),o.lookAt(0,-1,0),a.up.set(0,-1,0),a.lookAt(0,0,1),l.up.set(0,-1,0),l.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const c of n)this.add(c),c.updateMatrixWorld()}update(e,n){this.parent===null&&this.updateMatrixWorld();const{renderTarget:r,activeMipmapLevel:i}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[s,o,a,l,c,d]=this.children,h=e.getRenderTarget(),p=e.getActiveCubeFace(),m=e.getActiveMipmapLevel(),v=e.xr.enabled;e.xr.enabled=!1;const x=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0,i),e.render(n,s),e.setRenderTarget(r,1,i),e.render(n,o),e.setRenderTarget(r,2,i),e.render(n,a),e.setRenderTarget(r,3,i),e.render(n,l),e.setRenderTarget(r,4,i),e.render(n,c),r.texture.generateMipmaps=x,e.setRenderTarget(r,5,i),e.render(n,d),e.setRenderTarget(h,p,m),e.xr.enabled=v,r.texture.needsPMREMUpdate=!0}}class $m extends Qn{constructor(e=[],n=Ca,r,i,s,o,a,l,c,d){super(e,n,r,i,s,o,a,l,c,d),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class z4 extends Oo{constructor(e=1,n={}){super(e,e,n),this.isWebGLCubeRenderTarget=!0;const r={width:e,height:e,depth:1},i=[r,r,r,r,r,r];this.texture=new $m(i),this._setTextureOptions(n),this.texture.isRenderTargetTexture=!0}fromEquirectangularTexture(e,n){this.texture.type=n.type,this.texture.colorSpace=n.colorSpace,this.texture.generateMipmaps=n.generateMipmaps,this.texture.minFilter=n.minFilter,this.texture.magFilter=n.magFilter;const r={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new Tu(5,5,5),s=new to({name:"CubemapFromEquirect",uniforms:Pf(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:gi,blending:ma});s.uniforms.tEquirect.value=n;const o=new dr(i,s),a=n.minFilter;return n.minFilter===Mo&&(n.minFilter=yr),new B4(1,10,this).update(e,o),n.minFilter=a,o.geometry.dispose(),o.material.dispose(),this}clear(e,n=!0,r=!0,i=!0){const s=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(n,r,i);e.setRenderTarget(s)}}class Bd extends pn{constructor(){super(),this.isGroup=!0,this.type="Group"}}const Uee={type:"move"};class o0{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Bd,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Bd,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new H,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new H),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Bd,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new H,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new H),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const n=this._hand;if(n)for(const r of e.hand.values())this._getHandJoint(n,r)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,n,r){let i=null,s=null,o=null;const a=this._targetRay,l=this._grip,c=this._hand;if(e&&n.session.visibilityState!=="visible-blurred"){if(c&&e.hand){o=!0;for(const x of e.hand.values()){const y=n.getJointPose(x,r),g=this._getHandJoint(c,x);y!==null&&(g.matrix.fromArray(y.transform.matrix),g.matrix.decompose(g.position,g.rotation,g.scale),g.matrixWorldNeedsUpdate=!0,g.jointRadius=y.radius),g.visible=y!==null}const d=c.joints["index-finger-tip"],h=c.joints["thumb-tip"],p=d.position.distanceTo(h.position),m=.02,v=.005;c.inputState.pinching&&p>m+v?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!c.inputState.pinching&&p<=m-v&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(s=n.getPose(e.gripSpace,r),s!==null&&(l.matrix.fromArray(s.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,s.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(s.linearVelocity)):l.hasLinearVelocity=!1,s.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(s.angularVelocity)):l.hasAngularVelocity=!1));a!==null&&(i=n.getPose(e.targetRaySpace,r),i===null&&s!==null&&(i=s),i!==null&&(a.matrix.fromArray(i.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),a.matrixWorldNeedsUpdate=!0,i.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(i.linearVelocity)):a.hasLinearVelocity=!1,i.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(i.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(Uee)))}return a!==null&&(a.visible=i!==null),l!==null&&(l.visible=s!==null),c!==null&&(c.visible=o!==null),this}_getHandJoint(e,n){if(e.joints[n.jointName]===void 0){const r=new Bd;r.matrixAutoUpdate=!1,r.visible=!1,e.joints[n.jointName]=r,e.add(r)}return e.joints[n.jointName]}}class K_{constructor(e,n=25e-5){this.isFogExp2=!0,this.name="",this.color=new lt(e),this.density=n}clone(){return new K_(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class Q_{constructor(e,n=1,r=1e3){this.isFog=!0,this.name="",this.color=new lt(e),this.near=n,this.far=r}clone(){return new Q_(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class bA extends pn{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new is,this.environmentIntensity=1,this.environmentRotation=new is,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,n){return super.copy(e,n),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const n=super.toJSON(e);return this.fog!==null&&(n.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(n.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(n.object.backgroundIntensity=this.backgroundIntensity),n.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(n.object.environmentIntensity=this.environmentIntensity),n.object.environmentRotation=this.environmentRotation.toArray(),n}}class J_{constructor(e,n){this.isInterleavedBuffer=!0,this.array=e,this.stride=n,this.count=e!==void 0?e.length/n:0,this.usage=gm,this.updateRanges=[],this.version=0,this.uuid=ts()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,n,r){e*=this.stride,r*=n.stride;for(let i=0,s=this.stride;i<s;i++)this.array[e+i]=n.array[r+i];return this}set(e,n=0){return this.array.set(e,n),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=ts()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const n=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),r=new this.constructor(n,this.stride);return r.setUsage(this.usage),r}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=ts()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const oi=new H;class pu{constructor(e,n,r,i=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=n,this.offset=r,this.normalized=i}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let n=0,r=this.data.count;n<r;n++)oi.fromBufferAttribute(this,n),oi.applyMatrix4(e),this.setXYZ(n,oi.x,oi.y,oi.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)oi.fromBufferAttribute(this,n),oi.applyNormalMatrix(e),this.setXYZ(n,oi.x,oi.y,oi.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)oi.fromBufferAttribute(this,n),oi.transformDirection(e),this.setXYZ(n,oi.x,oi.y,oi.z);return this}getComponent(e,n){let r=this.array[e*this.data.stride+this.offset+n];return this.normalized&&(r=fi(r,this.array)),r}setComponent(e,n,r){return this.normalized&&(r=kt(r,this.array)),this.data.array[e*this.data.stride+this.offset+n]=r,this}setX(e,n){return this.normalized&&(n=kt(n,this.array)),this.data.array[e*this.data.stride+this.offset]=n,this}setY(e,n){return this.normalized&&(n=kt(n,this.array)),this.data.array[e*this.data.stride+this.offset+1]=n,this}setZ(e,n){return this.normalized&&(n=kt(n,this.array)),this.data.array[e*this.data.stride+this.offset+2]=n,this}setW(e,n){return this.normalized&&(n=kt(n,this.array)),this.data.array[e*this.data.stride+this.offset+3]=n,this}getX(e){let n=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(n=fi(n,this.array)),n}getY(e){let n=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(n=fi(n,this.array)),n}getZ(e){let n=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(n=fi(n,this.array)),n}getW(e){let n=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(n=fi(n,this.array)),n}setXY(e,n,r){return e=e*this.data.stride+this.offset,this.normalized&&(n=kt(n,this.array),r=kt(r,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this}setXYZ(e,n,r,i){return e=e*this.data.stride+this.offset,this.normalized&&(n=kt(n,this.array),r=kt(r,this.array),i=kt(i,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this.data.array[e+2]=i,this}setXYZW(e,n,r,i,s){return e=e*this.data.stride+this.offset,this.normalized&&(n=kt(n,this.array),r=kt(r,this.array),i=kt(i,this.array),s=kt(s,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this.data.array[e+2]=i,this.data.array[e+3]=s,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)n.push(this.data.array[i+s])}return new Mn(new this.array.constructor(n),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new pu(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)n.push(this.data.array[i+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:n,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class MA extends ri{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new lt(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let id;const Lh=new H,sd=new H,od=new H,ad=new Te,Dh=new Te,V4=new Tt,Jv=new H,kh=new H,ey=new H,PL=new Te,rb=new Te,RL=new Te;class j4 extends pn{constructor(e=new MA){if(super(),this.isSprite=!0,this.type="Sprite",id===void 0){id=new Ft;const n=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),r=new J_(n,5);id.setIndex([0,1,2,0,2,3]),id.setAttribute("position",new pu(r,3,0,!1)),id.setAttribute("uv",new pu(r,2,3,!1))}this.geometry=id,this.material=e,this.center=new Te(.5,.5),this.count=1}raycast(e,n){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),sd.setFromMatrixScale(this.matrixWorld),V4.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),od.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&sd.multiplyScalar(-od.z);const r=this.material.rotation;let i,s;r!==0&&(s=Math.cos(r),i=Math.sin(r));const o=this.center;ty(Jv.set(-.5,-.5,0),od,o,sd,i,s),ty(kh.set(.5,-.5,0),od,o,sd,i,s),ty(ey.set(.5,.5,0),od,o,sd,i,s),PL.set(0,0),rb.set(1,0),RL.set(1,1);let a=e.ray.intersectTriangle(Jv,kh,ey,!1,Lh);if(a===null&&(ty(kh.set(-.5,.5,0),od,o,sd,i,s),rb.set(0,1),a=e.ray.intersectTriangle(Jv,ey,kh,!1,Lh),a===null))return;const l=e.ray.origin.distanceTo(Lh);l<e.near||l>e.far||n.push({distance:l,point:Lh.clone(),uv:Ni.getInterpolation(Lh,Jv,kh,ey,PL,rb,RL,new Te),face:null,object:this})}copy(e,n){return super.copy(e,n),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function ty(t,e,n,r,i,s){ad.subVectors(t,n).addScalar(.5).multiply(r),i!==void 0?(Dh.x=s*ad.x-i*ad.y,Dh.y=i*ad.x+s*ad.y):Dh.copy(ad),t.copy(e),t.x+=Dh.x,t.y+=Dh.y,t.applyMatrix4(V4)}const ny=new H,IL=new H;class H4 extends pn{constructor(){super(),this.isLOD=!0,this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const n=e.levels;for(let r=0,i=n.length;r<i;r++){const s=n[r];this.addLevel(s.object.clone(),s.distance,s.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,n=0,r=0){n=Math.abs(n);const i=this.levels;let s;for(s=0;s<i.length&&!(n<i[s].distance);s++);return i.splice(s,0,{distance:n,hysteresis:r,object:e}),this.add(e),this}removeLevel(e){const n=this.levels;for(let r=0;r<n.length;r++)if(n[r].distance===e){const i=n.splice(r,1);return this.remove(i[0].object),!0}return!1}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const n=this.levels;if(n.length>0){let r,i;for(r=1,i=n.length;r<i;r++){let s=n[r].distance;if(n[r].object.visible&&(s-=s*n[r].hysteresis),e<s)break}return n[r-1].object}return null}raycast(e,n){if(this.levels.length>0){ny.setFromMatrixPosition(this.matrixWorld);const i=e.ray.origin.distanceTo(ny);this.getObjectForDistance(i).raycast(e,n)}}update(e){const n=this.levels;if(n.length>1){ny.setFromMatrixPosition(e.matrixWorld),IL.setFromMatrixPosition(this.matrixWorld);const r=ny.distanceTo(IL)/e.zoom;n[0].object.visible=!0;let i,s;for(i=1,s=n.length;i<s;i++){let o=n[i].distance;if(n[i].object.visible&&(o-=o*n[i].hysteresis),r>=o)n[i-1].object.visible=!1,n[i].object.visible=!0;else break}for(this._currentLevel=i-1;i<s;i++)n[i].object.visible=!1}}toJSON(e){const n=super.toJSON(e);this.autoUpdate===!1&&(n.object.autoUpdate=!1),n.object.levels=[];const r=this.levels;for(let i=0,s=r.length;i<s;i++){const o=r[i];n.object.levels.push({object:o.object.uuid,distance:o.distance,hysteresis:o.hysteresis})}return n}}const NL=new H,LL=new dn,DL=new dn,Bee=new H,kL=new Tt,ry=new H,ib=new kr,OL=new Tt,sb=new Eu;class W4 extends dr{constructor(e,n){super(e,n),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=LE,this.bindMatrix=new Tt,this.bindMatrixInverse=new Tt,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new ei),this.boundingBox.makeEmpty();const n=e.getAttribute("position");for(let r=0;r<n.count;r++)this.getVertexPosition(r,ry),this.boundingBox.expandByPoint(ry)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new kr),this.boundingSphere.makeEmpty();const n=e.getAttribute("position");for(let r=0;r<n.count;r++)this.getVertexPosition(r,ry),this.boundingSphere.expandByPoint(ry)}copy(e,n){return super.copy(e,n),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,n){const r=this.material,i=this.matrixWorld;r!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),ib.copy(this.boundingSphere),ib.applyMatrix4(i),e.ray.intersectsSphere(ib)!==!1&&(OL.copy(i).invert(),sb.copy(e.ray).applyMatrix4(OL),!(this.boundingBox!==null&&sb.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,n,sb)))}getVertexPosition(e,n){return super.getVertexPosition(e,n),this.applyBoneTransform(e,n),n}bind(e,n){this.skeleton=e,n===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),n=this.matrixWorld),this.bindMatrix.copy(n),this.bindMatrixInverse.copy(n).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new dn,n=this.geometry.attributes.skinWeight;for(let r=0,i=n.count;r<i;r++){e.fromBufferAttribute(n,r);const s=1/e.manhattanLength();s!==1/0?e.multiplyScalar(s):e.set(1,0,0,0),n.setXYZW(r,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===LE?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===x4?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,n){const r=this.skeleton,i=this.geometry;LL.fromBufferAttribute(i.attributes.skinIndex,e),DL.fromBufferAttribute(i.attributes.skinWeight,e),NL.copy(n).applyMatrix4(this.bindMatrix),n.set(0,0,0);for(let s=0;s<4;s++){const o=DL.getComponent(s);if(o!==0){const a=LL.getComponent(s);kL.multiplyMatrices(r.bones[a].matrixWorld,r.boneInverses[a]),n.addScaledVector(Bee.copy(NL).applyMatrix4(kL),o)}}return n.applyMatrix4(this.bindMatrixInverse)}}class EA extends pn{constructor(){super(),this.isBone=!0,this.type="Bone"}}class Lo extends Qn{constructor(e=null,n=1,r=1,i,s,o,a,l,c=Dr,d=Dr,h,p){super(null,o,a,l,c,d,i,s,h,p),this.isDataTexture=!0,this.image={data:e,width:n,height:r},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const FL=new Tt,zee=new Tt;class ew{constructor(e=[],n=[]){this.uuid=ts(),this.bones=e.slice(0),this.boneInverses=n,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,n=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),n.length===0)this.calculateInverses();else if(e.length!==n.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let r=0,i=this.bones.length;r<i;r++)this.boneInverses.push(new Tt)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,n=this.bones.length;e<n;e++){const r=new Tt;this.bones[e]&&r.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(r)}}pose(){for(let e=0,n=this.bones.length;e<n;e++){const r=this.bones[e];r&&r.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,n=this.bones.length;e<n;e++){const r=this.bones[e];r&&(r.parent&&r.parent.isBone?(r.matrix.copy(r.parent.matrixWorld).invert(),r.matrix.multiply(r.matrixWorld)):r.matrix.copy(r.matrixWorld),r.matrix.decompose(r.position,r.quaternion,r.scale))}}update(){const e=this.bones,n=this.boneInverses,r=this.boneMatrices,i=this.boneTexture;for(let s=0,o=e.length;s<o;s++){const a=e[s]?e[s].matrixWorld:zee;FL.multiplyMatrices(a,n[s]),FL.toArray(r,s*16)}i!==null&&(i.needsUpdate=!0)}clone(){return new ew(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const n=new Float32Array(e*e*4);n.set(this.boneMatrices);const r=new Lo(n,e,e,Qr,ki);return r.needsUpdate=!0,this.boneMatrices=n,this.boneTexture=r,this}getBoneByName(e){for(let n=0,r=this.bones.length;n<r;n++){const i=this.bones[n];if(i.name===e)return i}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,n){this.uuid=e.uuid;for(let r=0,i=e.bones.length;r<i;r++){const s=e.bones[r];let o=n[s];o===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",s),o=new EA),this.bones.push(o),this.boneInverses.push(new Tt().fromArray(e.boneInverses[r]))}return this.init(),this}toJSON(){const e={metadata:{version:4.7,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const n=this.bones,r=this.boneInverses;for(let i=0,s=n.length;i<s;i++){const o=n[i];e.bones.push(o.uuid);const a=r[i];e.boneInverses.push(a.toArray())}return e}}class Rf extends Mn{constructor(e,n,r,i=1){super(e,n,r),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const ld=new Tt,UL=new Tt,iy=[],BL=new ei,Vee=new Tt,Oh=new dr,Fh=new kr;class G4 extends dr{constructor(e,n,r){super(e,n),this.isInstancedMesh=!0,this.instanceMatrix=new Rf(new Float32Array(r*16),16),this.instanceColor=null,this.morphTexture=null,this.count=r,this.boundingBox=null,this.boundingSphere=null;for(let i=0;i<r;i++)this.setMatrixAt(i,Vee)}computeBoundingBox(){const e=this.geometry,n=this.count;this.boundingBox===null&&(this.boundingBox=new ei),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let r=0;r<n;r++)this.getMatrixAt(r,ld),BL.copy(e.boundingBox).applyMatrix4(ld),this.boundingBox.union(BL)}computeBoundingSphere(){const e=this.geometry,n=this.count;this.boundingSphere===null&&(this.boundingSphere=new kr),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let r=0;r<n;r++)this.getMatrixAt(r,ld),Fh.copy(e.boundingSphere).applyMatrix4(ld),this.boundingSphere.union(Fh)}copy(e,n){return super.copy(e,n),this.instanceMatrix.copy(e.instanceMatrix),e.morphTexture!==null&&(this.morphTexture=e.morphTexture.clone()),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,n){n.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,n){n.fromArray(this.instanceMatrix.array,e*16)}getMorphAt(e,n){const r=n.morphTargetInfluences,i=this.morphTexture.source.data.data,s=r.length+1,o=e*s+1;for(let a=0;a<r.length;a++)r[a]=i[o+a]}raycast(e,n){const r=this.matrixWorld,i=this.count;if(Oh.geometry=this.geometry,Oh.material=this.material,Oh.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),Fh.copy(this.boundingSphere),Fh.applyMatrix4(r),e.ray.intersectsSphere(Fh)!==!1))for(let s=0;s<i;s++){this.getMatrixAt(s,ld),UL.multiplyMatrices(r,ld),Oh.matrixWorld=UL,Oh.raycast(e,iy);for(let o=0,a=iy.length;o<a;o++){const l=iy[o];l.instanceId=s,l.object=this,n.push(l)}iy.length=0}}setColorAt(e,n){this.instanceColor===null&&(this.instanceColor=new Rf(new Float32Array(this.instanceMatrix.count*3).fill(1),3)),n.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,n){n.toArray(this.instanceMatrix.array,e*16)}setMorphAt(e,n){const r=n.morphTargetInfluences,i=r.length+1;this.morphTexture===null&&(this.morphTexture=new Lo(new Float32Array(i*this.count),i,this.count,G_,ki));const s=this.morphTexture.source.data.data;let o=0;for(let c=0;c<r.length;c++)o+=r[c];const a=this.geometry.morphTargetsRelative?1:1-o,l=i*e;s[l]=a,s.set(r,l+1)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"}),this.morphTexture!==null&&(this.morphTexture.dispose(),this.morphTexture=null)}}const ob=new H,jee=new H,Hee=new Dt;class aa{constructor(e=new H(1,0,0),n=0){this.isPlane=!0,this.normal=e,this.constant=n}set(e,n){return this.normal.copy(e),this.constant=n,this}setComponents(e,n,r,i){return this.normal.set(e,n,r),this.constant=i,this}setFromNormalAndCoplanarPoint(e,n){return this.normal.copy(e),this.constant=-n.dot(this.normal),this}setFromCoplanarPoints(e,n,r){const i=ob.subVectors(r,n).cross(jee.subVectors(e,n)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,n){return n.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,n){const r=e.delta(ob),i=this.normal.dot(r);if(i===0)return this.distanceToPoint(e.start)===0?n.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/i;return s<0||s>1?null:n.copy(e.start).addScaledVector(r,s)}intersectsLine(e){const n=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return n<0&&r>0||r<0&&n>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,n){const r=n||Hee.getNormalMatrix(e),i=this.coplanarPoint(ob).applyMatrix4(e),s=this.normal.applyMatrix3(r).normalize();return this.constant=-i.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const gc=new kr,Wee=new Te(.5,.5),sy=new H;class qf{constructor(e=new aa,n=new aa,r=new aa,i=new aa,s=new aa,o=new aa){this.planes=[e,n,r,i,s,o]}set(e,n,r,i,s,o){const a=this.planes;return a[0].copy(e),a[1].copy(n),a[2].copy(r),a[3].copy(i),a[4].copy(s),a[5].copy(o),this}copy(e){const n=this.planes;for(let r=0;r<6;r++)n[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e,n=Es){const r=this.planes,i=e.elements,s=i[0],o=i[1],a=i[2],l=i[3],c=i[4],d=i[5],h=i[6],p=i[7],m=i[8],v=i[9],x=i[10],y=i[11],g=i[12],w=i[13],b=i[14],E=i[15];if(r[0].setComponents(l-s,p-c,y-m,E-g).normalize(),r[1].setComponents(l+s,p+c,y+m,E+g).normalize(),r[2].setComponents(l+o,p+d,y+v,E+w).normalize(),r[3].setComponents(l-o,p-d,y-v,E-w).normalize(),r[4].setComponents(l-a,p-h,y-x,E-b).normalize(),n===Es)r[5].setComponents(l+a,p+h,y+x,E+b).normalize();else if(n===vm)r[5].setComponents(a,h,x,b).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+n);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),gc.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const n=e.geometry;n.boundingSphere===null&&n.computeBoundingSphere(),gc.copy(n.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(gc)}intersectsSprite(e){gc.center.set(0,0,0);const n=Wee.distanceTo(e.center);return gc.radius=.7071067811865476+n,gc.applyMatrix4(e.matrixWorld),this.intersectsSphere(gc)}intersectsSphere(e){const n=this.planes,r=e.center,i=-e.radius;for(let s=0;s<6;s++)if(n[s].distanceToPoint(r)<i)return!1;return!0}intersectsBox(e){const n=this.planes;for(let r=0;r<6;r++){const i=n[r];if(sy.x=i.normal.x>0?e.max.x:e.min.x,sy.y=i.normal.y>0?e.max.y:e.min.y,sy.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(sy)<0)return!1}return!0}containsPoint(e){const n=this.planes;for(let r=0;r<6;r++)if(n[r].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}const po=new Tt,mo=new qf;class tw{constructor(){this.coordinateSystem=Es}intersectsObject(e,n){if(!n.isArrayCamera||n.cameras.length===0)return!1;for(let r=0;r<n.cameras.length;r++){const i=n.cameras[r];if(po.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),mo.setFromProjectionMatrix(po,this.coordinateSystem),mo.intersectsObject(e))return!0}return!1}intersectsSprite(e,n){if(!n||!n.cameras||n.cameras.length===0)return!1;for(let r=0;r<n.cameras.length;r++){const i=n.cameras[r];if(po.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),mo.setFromProjectionMatrix(po,this.coordinateSystem),mo.intersectsSprite(e))return!0}return!1}intersectsSphere(e,n){if(!n||!n.cameras||n.cameras.length===0)return!1;for(let r=0;r<n.cameras.length;r++){const i=n.cameras[r];if(po.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),mo.setFromProjectionMatrix(po,this.coordinateSystem),mo.intersectsSphere(e))return!0}return!1}intersectsBox(e,n){if(!n||!n.cameras||n.cameras.length===0)return!1;for(let r=0;r<n.cameras.length;r++){const i=n.cameras[r];if(po.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),mo.setFromProjectionMatrix(po,this.coordinateSystem),mo.intersectsBox(e))return!0}return!1}containsPoint(e,n){if(!n||!n.cameras||n.cameras.length===0)return!1;for(let r=0;r<n.cameras.length;r++){const i=n.cameras[r];if(po.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),mo.setFromProjectionMatrix(po,this.coordinateSystem),mo.containsPoint(e))return!0}return!1}clone(){return new tw}}function ab(t,e){return t-e}function Gee(t,e){return t.z-e.z}function Xee(t,e){return e.z-t.z}class $ee{constructor(){this.index=0,this.pool=[],this.list=[]}push(e,n,r,i){const s=this.pool,o=this.list;this.index>=s.length&&s.push({start:-1,count:-1,z:-1,index:-1});const a=s[this.index];o.push(a),this.index++,a.start=e,a.count=n,a.z=r,a.index=i}reset(){this.list.length=0,this.index=0}}const Ti=new Tt,Yee=new lt(1,1,1),zL=new qf,qee=new tw,oy=new ei,vc=new kr,Uh=new H,VL=new H,Zee=new H,lb=new $ee,Yr=new dr,ay=[];function Kee(t,e,n=0){const r=e.itemSize;if(t.isInterleavedBufferAttribute||t.array.constructor!==e.array.constructor){const i=t.count;for(let s=0;s<i;s++)for(let o=0;o<r;o++)e.setComponent(s+n,o,t.getComponent(s,o))}else e.array.set(t.array,n*r);e.needsUpdate=!0}function yc(t,e){if(t.constructor!==e.constructor){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++)e[r]=t[r]}else{const n=Math.min(t.length,e.length);e.set(new t.constructor(t.buffer,0,n))}}class X4 extends dr{constructor(e,n,r=n*2,i){super(new Ft,i),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._instanceInfo=[],this._geometryInfo=[],this._availableInstanceIds=[],this._availableGeometryIds=[],this._nextIndexStart=0,this._nextVertexStart=0,this._geometryCount=0,this._visibilityChanged=!0,this._geometryInitialized=!1,this._maxInstanceCount=e,this._maxVertexCount=n,this._maxIndexCount=r,this._multiDrawCounts=new Int32Array(e),this._multiDrawStarts=new Int32Array(e),this._multiDrawCount=0,this._multiDrawInstances=null,this._matricesTexture=null,this._indirectTexture=null,this._colorsTexture=null,this._initMatricesTexture(),this._initIndirectTexture()}get maxInstanceCount(){return this._maxInstanceCount}get instanceCount(){return this._instanceInfo.length-this._availableInstanceIds.length}get unusedVertexCount(){return this._maxVertexCount-this._nextVertexStart}get unusedIndexCount(){return this._maxIndexCount-this._nextIndexStart}_initMatricesTexture(){let e=Math.sqrt(this._maxInstanceCount*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const n=new Float32Array(e*e*4),r=new Lo(n,e,e,Qr,ki);this._matricesTexture=r}_initIndirectTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const n=new Uint32Array(e*e),r=new Lo(n,e,e,Gm,Aa);this._indirectTexture=r}_initColorsTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const n=new Float32Array(e*e*4).fill(1),r=new Lo(n,e,e,Qr,ki);r.colorSpace=cn.workingColorSpace,this._colorsTexture=r}_initializeGeometry(e){const n=this.geometry,r=this._maxVertexCount,i=this._maxIndexCount;if(this._geometryInitialized===!1){for(const s in e.attributes){const o=e.getAttribute(s),{array:a,itemSize:l,normalized:c}=o,d=new a.constructor(r*l),h=new Mn(d,l,c);n.setAttribute(s,h)}if(e.getIndex()!==null){const s=r>65535?new Uint32Array(i):new Uint16Array(i);n.setIndex(new Mn(s,1))}this._geometryInitialized=!0}}_validateGeometry(e){const n=this.geometry;if(!!e.getIndex()!=!!n.getIndex())throw new Error('THREE.BatchedMesh: All geometries must consistently have "index".');for(const r in n.attributes){if(!e.hasAttribute(r))throw new Error(`THREE.BatchedMesh: Added geometry missing "${r}". All geometries must have consistent attributes.`);const i=e.getAttribute(r),s=n.getAttribute(r);if(i.itemSize!==s.itemSize||i.normalized!==s.normalized)throw new Error("THREE.BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}validateInstanceId(e){const n=this._instanceInfo;if(e<0||e>=n.length||n[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid instanceId ${e}. Instance is either out of range or has been deleted.`)}validateGeometryId(e){const n=this._geometryInfo;if(e<0||e>=n.length||n[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid geometryId ${e}. Geometry is either out of range or has been deleted.`)}setCustomSort(e){return this.customSort=e,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new ei);const e=this.boundingBox,n=this._instanceInfo;e.makeEmpty();for(let r=0,i=n.length;r<i;r++){if(n[r].active===!1)continue;const s=n[r].geometryIndex;this.getMatrixAt(r,Ti),this.getBoundingBoxAt(s,oy).applyMatrix4(Ti),e.union(oy)}}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new kr);const e=this.boundingSphere,n=this._instanceInfo;e.makeEmpty();for(let r=0,i=n.length;r<i;r++){if(n[r].active===!1)continue;const s=n[r].geometryIndex;this.getMatrixAt(r,Ti),this.getBoundingSphereAt(s,vc).applyMatrix4(Ti),e.union(vc)}}addInstance(e){if(this._instanceInfo.length>=this.maxInstanceCount&&this._availableInstanceIds.length===0)throw new Error("THREE.BatchedMesh: Maximum item count reached.");const r={visible:!0,active:!0,geometryIndex:e};let i=null;this._availableInstanceIds.length>0?(this._availableInstanceIds.sort(ab),i=this._availableInstanceIds.shift(),this._instanceInfo[i]=r):(i=this._instanceInfo.length,this._instanceInfo.push(r));const s=this._matricesTexture;Ti.identity().toArray(s.image.data,i*16),s.needsUpdate=!0;const o=this._colorsTexture;return o&&(Yee.toArray(o.image.data,i*4),o.needsUpdate=!0),this._visibilityChanged=!0,i}addGeometry(e,n=-1,r=-1){this._initializeGeometry(e),this._validateGeometry(e);const i={vertexStart:-1,vertexCount:-1,reservedVertexCount:-1,indexStart:-1,indexCount:-1,reservedIndexCount:-1,start:-1,count:-1,boundingBox:null,boundingSphere:null,active:!0},s=this._geometryInfo;i.vertexStart=this._nextVertexStart,i.reservedVertexCount=n===-1?e.getAttribute("position").count:n;const o=e.getIndex();if(o!==null&&(i.indexStart=this._nextIndexStart,i.reservedIndexCount=r===-1?o.count:r),i.indexStart!==-1&&i.indexStart+i.reservedIndexCount>this._maxIndexCount||i.vertexStart+i.reservedVertexCount>this._maxVertexCount)throw new Error("THREE.BatchedMesh: Reserved space request exceeds the maximum buffer size.");let l;return this._availableGeometryIds.length>0?(this._availableGeometryIds.sort(ab),l=this._availableGeometryIds.shift(),s[l]=i):(l=this._geometryCount,this._geometryCount++,s.push(i)),this.setGeometryAt(l,e),this._nextIndexStart=i.indexStart+i.reservedIndexCount,this._nextVertexStart=i.vertexStart+i.reservedVertexCount,l}setGeometryAt(e,n){if(e>=this._geometryCount)throw new Error("THREE.BatchedMesh: Maximum geometry count reached.");this._validateGeometry(n);const r=this.geometry,i=r.getIndex()!==null,s=r.getIndex(),o=n.getIndex(),a=this._geometryInfo[e];if(i&&o.count>a.reservedIndexCount||n.attributes.position.count>a.reservedVertexCount)throw new Error("THREE.BatchedMesh: Reserved space not large enough for provided geometry.");const l=a.vertexStart,c=a.reservedVertexCount;a.vertexCount=n.getAttribute("position").count;for(const d in r.attributes){const h=n.getAttribute(d),p=r.getAttribute(d);Kee(h,p,l);const m=h.itemSize;for(let v=h.count,x=c;v<x;v++){const y=l+v;for(let g=0;g<m;g++)p.setComponent(y,g,0)}p.needsUpdate=!0,p.addUpdateRange(l*m,c*m)}if(i){const d=a.indexStart,h=a.reservedIndexCount;a.indexCount=n.getIndex().count;for(let p=0;p<o.count;p++)s.setX(d+p,l+o.getX(p));for(let p=o.count,m=h;p<m;p++)s.setX(d+p,l);s.needsUpdate=!0,s.addUpdateRange(d,a.reservedIndexCount)}return a.start=i?a.indexStart:a.vertexStart,a.count=i?a.indexCount:a.vertexCount,a.boundingBox=null,n.boundingBox!==null&&(a.boundingBox=n.boundingBox.clone()),a.boundingSphere=null,n.boundingSphere!==null&&(a.boundingSphere=n.boundingSphere.clone()),this._visibilityChanged=!0,e}deleteGeometry(e){const n=this._geometryInfo;if(e>=n.length||n[e].active===!1)return this;const r=this._instanceInfo;for(let i=0,s=r.length;i<s;i++)r[i].active&&r[i].geometryIndex===e&&this.deleteInstance(i);return n[e].active=!1,this._availableGeometryIds.push(e),this._visibilityChanged=!0,this}deleteInstance(e){return this.validateInstanceId(e),this._instanceInfo[e].active=!1,this._availableInstanceIds.push(e),this._visibilityChanged=!0,this}optimize(){let e=0,n=0;const r=this._geometryInfo,i=r.map((o,a)=>a).sort((o,a)=>r[o].vertexStart-r[a].vertexStart),s=this.geometry;for(let o=0,a=r.length;o<a;o++){const l=i[o],c=r[l];if(c.active!==!1){if(s.index!==null){if(c.indexStart!==n){const{indexStart:d,vertexStart:h,reservedIndexCount:p}=c,m=s.index,v=m.array,x=e-h;for(let y=d;y<d+p;y++)v[y]=v[y]+x;m.array.copyWithin(n,d,d+p),m.addUpdateRange(n,p),c.indexStart=n}n+=c.reservedIndexCount}if(c.vertexStart!==e){const{vertexStart:d,reservedVertexCount:h}=c,p=s.attributes;for(const m in p){const v=p[m],{array:x,itemSize:y}=v;x.copyWithin(e*y,d*y,(d+h)*y),v.addUpdateRange(e*y,h*y)}c.vertexStart=e}e+=c.reservedVertexCount,c.start=s.index?c.indexStart:c.vertexStart,this._nextIndexStart=s.index?c.indexStart+c.reservedIndexCount:0,this._nextVertexStart=c.vertexStart+c.reservedVertexCount}}return this}getBoundingBoxAt(e,n){if(e>=this._geometryCount)return null;const r=this.geometry,i=this._geometryInfo[e];if(i.boundingBox===null){const s=new ei,o=r.index,a=r.attributes.position;for(let l=i.start,c=i.start+i.count;l<c;l++){let d=l;o&&(d=o.getX(d)),s.expandByPoint(Uh.fromBufferAttribute(a,d))}i.boundingBox=s}return n.copy(i.boundingBox),n}getBoundingSphereAt(e,n){if(e>=this._geometryCount)return null;const r=this.geometry,i=this._geometryInfo[e];if(i.boundingSphere===null){const s=new kr;this.getBoundingBoxAt(e,oy),oy.getCenter(s.center);const o=r.index,a=r.attributes.position;let l=0;for(let c=i.start,d=i.start+i.count;c<d;c++){let h=c;o&&(h=o.getX(h)),Uh.fromBufferAttribute(a,h),l=Math.max(l,s.center.distanceToSquared(Uh))}s.radius=Math.sqrt(l),i.boundingSphere=s}return n.copy(i.boundingSphere),n}setMatrixAt(e,n){this.validateInstanceId(e);const r=this._matricesTexture,i=this._matricesTexture.image.data;return n.toArray(i,e*16),r.needsUpdate=!0,this}getMatrixAt(e,n){return this.validateInstanceId(e),n.fromArray(this._matricesTexture.image.data,e*16)}setColorAt(e,n){return this.validateInstanceId(e),this._colorsTexture===null&&this._initColorsTexture(),n.toArray(this._colorsTexture.image.data,e*4),this._colorsTexture.needsUpdate=!0,this}getColorAt(e,n){return this.validateInstanceId(e),n.fromArray(this._colorsTexture.image.data,e*4)}setVisibleAt(e,n){return this.validateInstanceId(e),this._instanceInfo[e].visible===n?this:(this._instanceInfo[e].visible=n,this._visibilityChanged=!0,this)}getVisibleAt(e){return this.validateInstanceId(e),this._instanceInfo[e].visible}setGeometryIdAt(e,n){return this.validateInstanceId(e),this.validateGeometryId(n),this._instanceInfo[e].geometryIndex=n,this}getGeometryIdAt(e){return this.validateInstanceId(e),this._instanceInfo[e].geometryIndex}getGeometryRangeAt(e,n={}){this.validateGeometryId(e);const r=this._geometryInfo[e];return n.vertexStart=r.vertexStart,n.vertexCount=r.vertexCount,n.reservedVertexCount=r.reservedVertexCount,n.indexStart=r.indexStart,n.indexCount=r.indexCount,n.reservedIndexCount=r.reservedIndexCount,n.start=r.start,n.count=r.count,n}setInstanceCount(e){const n=this._availableInstanceIds,r=this._instanceInfo;for(n.sort(ab);n[n.length-1]===r.length;)r.pop(),n.pop();if(e<r.length)throw new Error(`BatchedMesh: Instance ids outside the range ${e} are being used. Cannot shrink instance count.`);const i=new Int32Array(e),s=new Int32Array(e);yc(this._multiDrawCounts,i),yc(this._multiDrawStarts,s),this._multiDrawCounts=i,this._multiDrawStarts=s,this._maxInstanceCount=e;const o=this._indirectTexture,a=this._matricesTexture,l=this._colorsTexture;o.dispose(),this._initIndirectTexture(),yc(o.image.data,this._indirectTexture.image.data),a.dispose(),this._initMatricesTexture(),yc(a.image.data,this._matricesTexture.image.data),l&&(l.dispose(),this._initColorsTexture(),yc(l.image.data,this._colorsTexture.image.data))}setGeometrySize(e,n){const r=[...this._geometryInfo].filter(a=>a.active);if(Math.max(...r.map(a=>a.vertexStart+a.reservedVertexCount))>e)throw new Error(`BatchedMesh: Geometry vertex values are being used outside the range ${n}. Cannot shrink further.`);if(this.geometry.index&&Math.max(...r.map(l=>l.indexStart+l.reservedIndexCount))>n)throw new Error(`BatchedMesh: Geometry index values are being used outside the range ${n}. Cannot shrink further.`);const s=this.geometry;s.dispose(),this._maxVertexCount=e,this._maxIndexCount=n,this._geometryInitialized&&(this._geometryInitialized=!1,this.geometry=new Ft,this._initializeGeometry(s));const o=this.geometry;s.index&&yc(s.index.array,o.index.array);for(const a in s.attributes)yc(s.attributes[a].array,o.attributes[a].array)}raycast(e,n){const r=this._instanceInfo,i=this._geometryInfo,s=this.matrixWorld,o=this.geometry;Yr.material=this.material,Yr.geometry.index=o.index,Yr.geometry.attributes=o.attributes,Yr.geometry.boundingBox===null&&(Yr.geometry.boundingBox=new ei),Yr.geometry.boundingSphere===null&&(Yr.geometry.boundingSphere=new kr);for(let a=0,l=r.length;a<l;a++){if(!r[a].visible||!r[a].active)continue;const c=r[a].geometryIndex,d=i[c];Yr.geometry.setDrawRange(d.start,d.count),this.getMatrixAt(a,Yr.matrixWorld).premultiply(s),this.getBoundingBoxAt(c,Yr.geometry.boundingBox),this.getBoundingSphereAt(c,Yr.geometry.boundingSphere),Yr.raycast(e,ay);for(let h=0,p=ay.length;h<p;h++){const m=ay[h];m.object=this,m.batchId=a,n.push(m)}ay.length=0}Yr.material=null,Yr.geometry.index=null,Yr.geometry.attributes={},Yr.geometry.setDrawRange(0,1/0)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.perObjectFrustumCulled=e.perObjectFrustumCulled,this.sortObjects=e.sortObjects,this.boundingBox=e.boundingBox!==null?e.boundingBox.clone():null,this.boundingSphere=e.boundingSphere!==null?e.boundingSphere.clone():null,this._geometryInfo=e._geometryInfo.map(n=>({...n,boundingBox:n.boundingBox!==null?n.boundingBox.clone():null,boundingSphere:n.boundingSphere!==null?n.boundingSphere.clone():null})),this._instanceInfo=e._instanceInfo.map(n=>({...n})),this._availableInstanceIds=e._availableInstanceIds.slice(),this._availableGeometryIds=e._availableGeometryIds.slice(),this._nextIndexStart=e._nextIndexStart,this._nextVertexStart=e._nextVertexStart,this._geometryCount=e._geometryCount,this._maxInstanceCount=e._maxInstanceCount,this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._multiDrawCounts=e._multiDrawCounts.slice(),this._multiDrawStarts=e._multiDrawStarts.slice(),this._indirectTexture=e._indirectTexture.clone(),this._indirectTexture.image.data=this._indirectTexture.image.data.slice(),this._matricesTexture=e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.data.slice(),this._colorsTexture!==null&&(this._colorsTexture=e._colorsTexture.clone(),this._colorsTexture.image.data=this._colorsTexture.image.data.slice()),this}dispose(){this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this._indirectTexture.dispose(),this._indirectTexture=null,this._colorsTexture!==null&&(this._colorsTexture.dispose(),this._colorsTexture=null)}onBeforeRender(e,n,r,i,s){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const o=i.getIndex(),a=o===null?1:o.array.BYTES_PER_ELEMENT,l=this._instanceInfo,c=this._multiDrawStarts,d=this._multiDrawCounts,h=this._geometryInfo,p=this.perObjectFrustumCulled,m=this._indirectTexture,v=m.image.data,x=r.isArrayCamera?qee:zL;p&&!r.isArrayCamera&&(Ti.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse).multiply(this.matrixWorld),zL.setFromProjectionMatrix(Ti,e.coordinateSystem));let y=0;if(this.sortObjects){Ti.copy(this.matrixWorld).invert(),Uh.setFromMatrixPosition(r.matrixWorld).applyMatrix4(Ti),VL.set(0,0,-1).transformDirection(r.matrixWorld).transformDirection(Ti);for(let b=0,E=l.length;b<E;b++)if(l[b].visible&&l[b].active){const C=l[b].geometryIndex;this.getMatrixAt(b,Ti),this.getBoundingSphereAt(C,vc).applyMatrix4(Ti);let A=!1;if(p&&(A=!x.intersectsSphere(vc,r)),!A){const I=h[C],D=Zee.subVectors(vc.center,Uh).dot(VL);lb.push(I.start,I.count,D,b)}}const g=lb.list,w=this.customSort;w===null?g.sort(s.transparent?Xee:Gee):w.call(this,g,r);for(let b=0,E=g.length;b<E;b++){const C=g[b];c[y]=C.start*a,d[y]=C.count,v[y]=C.index,y++}lb.reset()}else for(let g=0,w=l.length;g<w;g++)if(l[g].visible&&l[g].active){const b=l[g].geometryIndex;let E=!1;if(p&&(this.getMatrixAt(g,Ti),this.getBoundingSphereAt(b,vc).applyMatrix4(Ti),E=!x.intersectsSphere(vc,r)),!E){const C=h[b];c[y]=C.start*a,d[y]=C.count,v[y]=g,y++}}m.needsUpdate=!0,this._multiDrawCount=y,this._visibilityChanged=!1}onBeforeShadow(e,n,r,i,s,o){this.onBeforeRender(e,null,i,s,o)}}class _i extends ri{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new lt(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const Lx=new H,Dx=new H,jL=new Tt,Bh=new Eu,ly=new kr,cb=new H,HL=new H;class Hl extends pn{constructor(e=new Ft,n=new _i){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=n,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,r=[0];for(let i=1,s=n.count;i<s;i++)Lx.fromBufferAttribute(n,i-1),Dx.fromBufferAttribute(n,i),r[i]=r[i-1],r[i]+=Lx.distanceTo(Dx);e.setAttribute("lineDistance",new ht(r,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,n){const r=this.geometry,i=this.matrixWorld,s=e.params.Line.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),ly.copy(r.boundingSphere),ly.applyMatrix4(i),ly.radius+=s,e.ray.intersectsSphere(ly)===!1)return;jL.copy(i).invert(),Bh.copy(e.ray).applyMatrix4(jL);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=this.isLineSegments?2:1,d=r.index,p=r.attributes.position;if(d!==null){const m=Math.max(0,o.start),v=Math.min(d.count,o.start+o.count);for(let x=m,y=v-1;x<y;x+=c){const g=d.getX(x),w=d.getX(x+1),b=cy(this,e,Bh,l,g,w,x);b&&n.push(b)}if(this.isLineLoop){const x=d.getX(v-1),y=d.getX(m),g=cy(this,e,Bh,l,x,y,v-1);g&&n.push(g)}}else{const m=Math.max(0,o.start),v=Math.min(p.count,o.start+o.count);for(let x=m,y=v-1;x<y;x+=c){const g=cy(this,e,Bh,l,x,x+1,x);g&&n.push(g)}if(this.isLineLoop){const x=cy(this,e,Bh,l,v-1,m,v-1);x&&n.push(x)}}}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}function cy(t,e,n,r,i,s,o){const a=t.geometry.attributes.position;if(Lx.fromBufferAttribute(a,i),Dx.fromBufferAttribute(a,s),n.distanceSqToSegment(Lx,Dx,cb,HL)>r)return;cb.applyMatrix4(t.matrixWorld);const c=e.ray.origin.distanceTo(cb);if(!(c<e.near||c>e.far))return{distance:c,point:HL.clone().applyMatrix4(t.matrixWorld),index:o,face:null,faceIndex:null,barycoord:null,object:t}}const WL=new H,GL=new H;class zo extends Hl{constructor(e,n){super(e,n),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,r=[];for(let i=0,s=n.count;i<s;i+=2)WL.fromBufferAttribute(n,i),GL.fromBufferAttribute(n,i+1),r[i]=i===0?0:r[i-1],r[i+1]=r[i]+WL.distanceTo(GL);e.setAttribute("lineDistance",new ht(r,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class $4 extends Hl{constructor(e,n){super(e,n),this.isLineLoop=!0,this.type="LineLoop"}}class TA extends ri{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new lt(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const XL=new Tt,OE=new Eu,uy=new kr,dy=new H;class Y4 extends pn{constructor(e=new Ft,n=new TA){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=n,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,n){const r=this.geometry,i=this.matrixWorld,s=e.params.Points.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),uy.copy(r.boundingSphere),uy.applyMatrix4(i),uy.radius+=s,e.ray.intersectsSphere(uy)===!1)return;XL.copy(i).invert(),OE.copy(e.ray).applyMatrix4(XL);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=r.index,h=r.attributes.position;if(c!==null){const p=Math.max(0,o.start),m=Math.min(c.count,o.start+o.count);for(let v=p,x=m;v<x;v++){const y=c.getX(v);dy.fromBufferAttribute(h,y),$L(dy,y,l,i,e,n,this)}}else{const p=Math.max(0,o.start),m=Math.min(h.count,o.start+o.count);for(let v=p,x=m;v<x;v++)dy.fromBufferAttribute(h,v),$L(dy,v,l,i,e,n,this)}}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}function $L(t,e,n,r,i,s,o){const a=OE.distanceSqToPoint(t);if(a<n){const l=new H;OE.closestPointToPoint(t,l),l.applyMatrix4(r);const c=i.ray.origin.distanceTo(l);if(c<i.near||c>i.far)return;s.push({distance:c,distanceToRay:Math.sqrt(a),point:l,index:e,face:null,faceIndex:null,barycoord:null,object:o})}}class q4 extends Qn{constructor(e,n,r,i,s=yr,o=yr,a,l,c){super(e,n,r,i,s,o,a,l,c),this.isVideoTexture=!0,this.generateMipmaps=!1;const d=this;function h(){d.needsUpdate=!0,e.requestVideoFrameCallback(h)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(h)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class Qee extends q4{constructor(e,n,r,i,s,o,a,l){super({},e,n,r,i,s,o,a,l),this.isVideoFrameTexture=!0}update(){}clone(){return new this.constructor().copy(this)}setFrame(e){this.image=e,this.needsUpdate=!0}}class Jee extends Qn{constructor(e,n){super({width:e,height:n}),this.isFramebufferTexture=!0,this.magFilter=Dr,this.minFilter=Dr,this.generateMipmaps=!1,this.needsUpdate=!0}}class nw extends Qn{constructor(e,n,r,i,s,o,a,l,c,d,h,p){super(null,o,a,l,c,d,i,s,h,p),this.isCompressedTexture=!0,this.image={width:n,height:r},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class ete extends nw{constructor(e,n,r,i,s,o){super(e,n,r,s,o),this.isCompressedArrayTexture=!0,this.image.depth=i,this.wrapR=Ms,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class tte extends nw{constructor(e,n,r){super(void 0,e[0].width,e[0].height,n,r,Ca),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class nte extends Qn{constructor(e,n,r,i,s,o,a,l,c){super(e,n,r,i,s,o,a,l,c),this.isCanvasTexture=!0,this.needsUpdate=!0}}class CA extends Qn{constructor(e,n,r=Aa,i,s,o,a=Dr,l=Dr,c,d=Tf,h=1){if(d!==Tf&&d!==Cf)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");const p={width:e,height:n,depth:h};super(p,i,s,o,a,l,d,r,c),this.isDepthTexture=!0,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.source=new Sl(Object.assign({},e.image)),this.compareFunction=e.compareFunction,this}toJSON(e){const n=super.toJSON(e);return this.compareFunction!==null&&(n.compareFunction=this.compareFunction),n}}class rw extends Ft{constructor(e=1,n=1,r=4,i=8,s=1){super(),this.type="CapsuleGeometry",this.parameters={radius:e,height:n,capSegments:r,radialSegments:i,heightSegments:s},n=Math.max(0,n),r=Math.max(1,Math.floor(r)),i=Math.max(3,Math.floor(i)),s=Math.max(1,Math.floor(s));const o=[],a=[],l=[],c=[],d=n/2,h=Math.PI/2*e,p=n,m=2*h+p,v=r*2+s,x=i+1,y=new H,g=new H;for(let w=0;w<=v;w++){let b=0,E=0,C=0,A=0;if(w<=r){const N=w/r,R=N*Math.PI/2;E=-d-e*Math.cos(R),C=e*Math.sin(R),A=-e*Math.cos(R),b=N*h}else if(w<=r+s){const N=(w-r)/s;E=-d+N*n,C=e,A=0,b=h+N*p}else{const N=(w-r-s)/r,R=N*Math.PI/2;E=d+e*Math.sin(R),C=e*Math.cos(R),A=e*Math.sin(R),b=h+p+N*h}const I=Math.max(0,Math.min(1,b/m));let D=0;w===0?D=.5/i:w===v&&(D=-.5/i);for(let N=0;N<=i;N++){const R=N/i,F=R*Math.PI*2,j=Math.sin(F),G=Math.cos(F);g.x=-C*G,g.y=E,g.z=C*j,a.push(g.x,g.y,g.z),y.set(-C*G,A,C*j),y.normalize(),l.push(y.x,y.y,y.z),c.push(R+D,I)}if(w>0){const N=(w-1)*x;for(let R=0;R<i;R++){const F=N+R,j=N+R+1,G=w*x+R,$=w*x+R+1;o.push(F,j,G),o.push(j,$,G)}}}this.setIndex(o),this.setAttribute("position",new ht(a,3)),this.setAttribute("normal",new ht(l,3)),this.setAttribute("uv",new ht(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new rw(e.radius,e.height,e.capSegments,e.radialSegments,e.heightSegments)}}class iw extends Ft{constructor(e=1,n=32,r=0,i=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:n,thetaStart:r,thetaLength:i},n=Math.max(3,n);const s=[],o=[],a=[],l=[],c=new H,d=new Te;o.push(0,0,0),a.push(0,0,1),l.push(.5,.5);for(let h=0,p=3;h<=n;h++,p+=3){const m=r+h/n*i;c.x=e*Math.cos(m),c.y=e*Math.sin(m),o.push(c.x,c.y,c.z),a.push(0,0,1),d.x=(o[p]/e+1)/2,d.y=(o[p+1]/e+1)/2,l.push(d.x,d.y)}for(let h=1;h<=n;h++)s.push(h,h+1,0);this.setIndex(s),this.setAttribute("position",new ht(o,3)),this.setAttribute("normal",new ht(a,3)),this.setAttribute("uv",new ht(l,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new iw(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class Ym extends Ft{constructor(e=1,n=1,r=1,i=32,s=1,o=!1,a=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:n,height:r,radialSegments:i,heightSegments:s,openEnded:o,thetaStart:a,thetaLength:l};const c=this;i=Math.floor(i),s=Math.floor(s);const d=[],h=[],p=[],m=[];let v=0;const x=[],y=r/2;let g=0;w(),o===!1&&(e>0&&b(!0),n>0&&b(!1)),this.setIndex(d),this.setAttribute("position",new ht(h,3)),this.setAttribute("normal",new ht(p,3)),this.setAttribute("uv",new ht(m,2));function w(){const E=new H,C=new H;let A=0;const I=(n-e)/r;for(let D=0;D<=s;D++){const N=[],R=D/s,F=R*(n-e)+e;for(let j=0;j<=i;j++){const G=j/i,$=G*l+a,ne=Math.sin($),J=Math.cos($);C.x=F*ne,C.y=-R*r+y,C.z=F*J,h.push(C.x,C.y,C.z),E.set(ne,I,J).normalize(),p.push(E.x,E.y,E.z),m.push(G,1-R),N.push(v++)}x.push(N)}for(let D=0;D<i;D++)for(let N=0;N<s;N++){const R=x[N][D],F=x[N+1][D],j=x[N+1][D+1],G=x[N][D+1];(e>0||N!==0)&&(d.push(R,F,G),A+=3),(n>0||N!==s-1)&&(d.push(F,j,G),A+=3)}c.addGroup(g,A,0),g+=A}function b(E){const C=v,A=new Te,I=new H;let D=0;const N=E===!0?e:n,R=E===!0?1:-1;for(let j=1;j<=i;j++)h.push(0,y*R,0),p.push(0,R,0),m.push(.5,.5),v++;const F=v;for(let j=0;j<=i;j++){const $=j/i*l+a,ne=Math.cos($),J=Math.sin($);I.x=N*J,I.y=y*R,I.z=N*ne,h.push(I.x,I.y,I.z),p.push(0,R,0),A.x=ne*.5+.5,A.y=J*.5*R+.5,m.push(A.x,A.y),v++}for(let j=0;j<i;j++){const G=C+j,$=F+j;E===!0?d.push($,$+1,G):d.push($+1,$,G),D+=3}c.addGroup(g,D,E===!0?1:2),g+=D}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Ym(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class qm extends Ym{constructor(e=1,n=1,r=32,i=1,s=!1,o=0,a=Math.PI*2){super(0,e,n,r,i,s,o,a),this.type="ConeGeometry",this.parameters={radius:e,height:n,radialSegments:r,heightSegments:i,openEnded:s,thetaStart:o,thetaLength:a}}static fromJSON(e){return new qm(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Ql extends Ft{constructor(e=[],n=[],r=1,i=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:n,radius:r,detail:i};const s=[],o=[];a(i),c(r),d(),this.setAttribute("position",new ht(s,3)),this.setAttribute("normal",new ht(s.slice(),3)),this.setAttribute("uv",new ht(o,2)),i===0?this.computeVertexNormals():this.normalizeNormals();function a(w){const b=new H,E=new H,C=new H;for(let A=0;A<n.length;A+=3)m(n[A+0],b),m(n[A+1],E),m(n[A+2],C),l(b,E,C,w)}function l(w,b,E,C){const A=C+1,I=[];for(let D=0;D<=A;D++){I[D]=[];const N=w.clone().lerp(E,D/A),R=b.clone().lerp(E,D/A),F=A-D;for(let j=0;j<=F;j++)j===0&&D===A?I[D][j]=N:I[D][j]=N.clone().lerp(R,j/F)}for(let D=0;D<A;D++)for(let N=0;N<2*(A-D)-1;N++){const R=Math.floor(N/2);N%2===0?(p(I[D][R+1]),p(I[D+1][R]),p(I[D][R])):(p(I[D][R+1]),p(I[D+1][R+1]),p(I[D+1][R]))}}function c(w){const b=new H;for(let E=0;E<s.length;E+=3)b.x=s[E+0],b.y=s[E+1],b.z=s[E+2],b.normalize().multiplyScalar(w),s[E+0]=b.x,s[E+1]=b.y,s[E+2]=b.z}function d(){const w=new H;for(let b=0;b<s.length;b+=3){w.x=s[b+0],w.y=s[b+1],w.z=s[b+2];const E=y(w)/2/Math.PI+.5,C=g(w)/Math.PI+.5;o.push(E,1-C)}v(),h()}function h(){for(let w=0;w<o.length;w+=6){const b=o[w+0],E=o[w+2],C=o[w+4],A=Math.max(b,E,C),I=Math.min(b,E,C);A>.9&&I<.1&&(b<.2&&(o[w+0]+=1),E<.2&&(o[w+2]+=1),C<.2&&(o[w+4]+=1))}}function p(w){s.push(w.x,w.y,w.z)}function m(w,b){const E=w*3;b.x=e[E+0],b.y=e[E+1],b.z=e[E+2]}function v(){const w=new H,b=new H,E=new H,C=new H,A=new Te,I=new Te,D=new Te;for(let N=0,R=0;N<s.length;N+=9,R+=6){w.set(s[N+0],s[N+1],s[N+2]),b.set(s[N+3],s[N+4],s[N+5]),E.set(s[N+6],s[N+7],s[N+8]),A.set(o[R+0],o[R+1]),I.set(o[R+2],o[R+3]),D.set(o[R+4],o[R+5]),C.copy(w).add(b).add(E).divideScalar(3);const F=y(C);x(A,R+0,w,F),x(I,R+2,b,F),x(D,R+4,E,F)}}function x(w,b,E,C){C<0&&w.x===1&&(o[b]=w.x-1),E.x===0&&E.z===0&&(o[b]=C/2/Math.PI+.5)}function y(w){return Math.atan2(w.z,-w.x)}function g(w){return Math.atan2(-w.y,Math.sqrt(w.x*w.x+w.z*w.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Ql(e.vertices,e.indices,e.radius,e.details)}}class sw extends Ql{constructor(e=1,n=0){const r=(1+Math.sqrt(5))/2,i=1/r,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-r,0,-i,r,0,i,-r,0,i,r,-i,-r,0,-i,r,0,i,-r,0,i,r,0,-r,0,-i,r,0,-i,-r,0,i,r,0,i],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(s,o,e,n),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new sw(e.radius,e.detail)}}const fy=new H,hy=new H,ub=new H,py=new Ni;class Z4 extends Ft{constructor(e=null,n=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:n},e!==null){const i=Math.pow(10,4),s=Math.cos(nu*n),o=e.getIndex(),a=e.getAttribute("position"),l=o?o.count:a.count,c=[0,0,0],d=["a","b","c"],h=new Array(3),p={},m=[];for(let v=0;v<l;v+=3){o?(c[0]=o.getX(v),c[1]=o.getX(v+1),c[2]=o.getX(v+2)):(c[0]=v,c[1]=v+1,c[2]=v+2);const{a:x,b:y,c:g}=py;if(x.fromBufferAttribute(a,c[0]),y.fromBufferAttribute(a,c[1]),g.fromBufferAttribute(a,c[2]),py.getNormal(ub),h[0]=`${Math.round(x.x*i)},${Math.round(x.y*i)},${Math.round(x.z*i)}`,h[1]=`${Math.round(y.x*i)},${Math.round(y.y*i)},${Math.round(y.z*i)}`,h[2]=`${Math.round(g.x*i)},${Math.round(g.y*i)},${Math.round(g.z*i)}`,!(h[0]===h[1]||h[1]===h[2]||h[2]===h[0]))for(let w=0;w<3;w++){const b=(w+1)%3,E=h[w],C=h[b],A=py[d[w]],I=py[d[b]],D=`${E}_${C}`,N=`${C}_${E}`;N in p&&p[N]?(ub.dot(p[N].normal)<=s&&(m.push(A.x,A.y,A.z),m.push(I.x,I.y,I.z)),p[N]=null):D in p||(p[D]={index0:c[w],index1:c[b],normal:ub.clone()})}}for(const v in p)if(p[v]){const{index0:x,index1:y}=p[v];fy.fromBufferAttribute(a,x),hy.fromBufferAttribute(a,y),m.push(fy.x,fy.y,fy.z),m.push(hy.x,hy.y,hy.z)}this.setAttribute("position",new ht(m,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class no{constructor(){this.type="Curve",this.arcLengthDivisions=200,this.needsUpdate=!1,this.cacheArcLengths=null}getPoint(){console.warn("THREE.Curve: .getPoint() not implemented.")}getPointAt(e,n){const r=this.getUtoTmapping(e);return this.getPoint(r,n)}getPoints(e=5){const n=[];for(let r=0;r<=e;r++)n.push(this.getPoint(r/e));return n}getSpacedPoints(e=5){const n=[];for(let r=0;r<=e;r++)n.push(this.getPointAt(r/e));return n}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const n=[];let r,i=this.getPoint(0),s=0;n.push(0);for(let o=1;o<=e;o++)r=this.getPoint(o/e),s+=r.distanceTo(i),n.push(s),i=r;return this.cacheArcLengths=n,n}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,n=null){const r=this.getLengths();let i=0;const s=r.length;let o;n?o=n:o=e*r[s-1];let a=0,l=s-1,c;for(;a<=l;)if(i=Math.floor(a+(l-a)/2),c=r[i]-o,c<0)a=i+1;else if(c>0)l=i-1;else{l=i;break}if(i=l,r[i]===o)return i/(s-1);const d=r[i],p=r[i+1]-d,m=(o-d)/p;return(i+m)/(s-1)}getTangent(e,n){let i=e-1e-4,s=e+1e-4;i<0&&(i=0),s>1&&(s=1);const o=this.getPoint(i),a=this.getPoint(s),l=n||(o.isVector2?new Te:new H);return l.copy(a).sub(o).normalize(),l}getTangentAt(e,n){const r=this.getUtoTmapping(e);return this.getTangent(r,n)}computeFrenetFrames(e,n=!1){const r=new H,i=[],s=[],o=[],a=new H,l=new Tt;for(let m=0;m<=e;m++){const v=m/e;i[m]=this.getTangentAt(v,new H)}s[0]=new H,o[0]=new H;let c=Number.MAX_VALUE;const d=Math.abs(i[0].x),h=Math.abs(i[0].y),p=Math.abs(i[0].z);d<=c&&(c=d,r.set(1,0,0)),h<=c&&(c=h,r.set(0,1,0)),p<=c&&r.set(0,0,1),a.crossVectors(i[0],r).normalize(),s[0].crossVectors(i[0],a),o[0].crossVectors(i[0],s[0]);for(let m=1;m<=e;m++){if(s[m]=s[m-1].clone(),o[m]=o[m-1].clone(),a.crossVectors(i[m-1],i[m]),a.length()>Number.EPSILON){a.normalize();const v=Math.acos(It(i[m-1].dot(i[m]),-1,1));s[m].applyMatrix4(l.makeRotationAxis(a,v))}o[m].crossVectors(i[m],s[m])}if(n===!0){let m=Math.acos(It(s[0].dot(s[e]),-1,1));m/=e,i[0].dot(a.crossVectors(s[0],s[e]))>0&&(m=-m);for(let v=1;v<=e;v++)s[v].applyMatrix4(l.makeRotationAxis(i[v],m*v)),o[v].crossVectors(i[v],s[v])}return{tangents:i,normals:s,binormals:o}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.7,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class ow extends no{constructor(e=0,n=0,r=1,i=1,s=0,o=Math.PI*2,a=!1,l=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=n,this.xRadius=r,this.yRadius=i,this.aStartAngle=s,this.aEndAngle=o,this.aClockwise=a,this.aRotation=l}getPoint(e,n=new Te){const r=n,i=Math.PI*2;let s=this.aEndAngle-this.aStartAngle;const o=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=i;for(;s>i;)s-=i;s<Number.EPSILON&&(o?s=0:s=i),this.aClockwise===!0&&!o&&(s===i?s=-i:s=s-i);const a=this.aStartAngle+e*s;let l=this.aX+this.xRadius*Math.cos(a),c=this.aY+this.yRadius*Math.sin(a);if(this.aRotation!==0){const d=Math.cos(this.aRotation),h=Math.sin(this.aRotation),p=l-this.aX,m=c-this.aY;l=p*d-m*h+this.aX,c=p*h+m*d+this.aY}return r.set(l,c)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class K4 extends ow{constructor(e,n,r,i,s,o){super(e,n,r,r,i,s,o),this.isArcCurve=!0,this.type="ArcCurve"}}function AA(){let t=0,e=0,n=0,r=0;function i(s,o,a,l){t=s,e=a,n=-3*s+3*o-2*a-l,r=2*s-2*o+a+l}return{initCatmullRom:function(s,o,a,l,c){i(o,a,c*(a-s),c*(l-o))},initNonuniformCatmullRom:function(s,o,a,l,c,d,h){let p=(o-s)/c-(a-s)/(c+d)+(a-o)/d,m=(a-o)/d-(l-o)/(d+h)+(l-a)/h;p*=d,m*=d,i(o,a,p,m)},calc:function(s){const o=s*s,a=o*s;return t+e*s+n*o+r*a}}}const my=new H,db=new AA,fb=new AA,hb=new AA;class Q4 extends no{constructor(e=[],n=!1,r="centripetal",i=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=n,this.curveType=r,this.tension=i}getPoint(e,n=new H){const r=n,i=this.points,s=i.length,o=(s-(this.closed?0:1))*e;let a=Math.floor(o),l=o-a;this.closed?a+=a>0?0:(Math.floor(Math.abs(a)/s)+1)*s:l===0&&a===s-1&&(a=s-2,l=1);let c,d;this.closed||a>0?c=i[(a-1)%s]:(my.subVectors(i[0],i[1]).add(i[0]),c=my);const h=i[a%s],p=i[(a+1)%s];if(this.closed||a+2<s?d=i[(a+2)%s]:(my.subVectors(i[s-1],i[s-2]).add(i[s-1]),d=my),this.curveType==="centripetal"||this.curveType==="chordal"){const m=this.curveType==="chordal"?.5:.25;let v=Math.pow(c.distanceToSquared(h),m),x=Math.pow(h.distanceToSquared(p),m),y=Math.pow(p.distanceToSquared(d),m);x<1e-4&&(x=1),v<1e-4&&(v=x),y<1e-4&&(y=x),db.initNonuniformCatmullRom(c.x,h.x,p.x,d.x,v,x,y),fb.initNonuniformCatmullRom(c.y,h.y,p.y,d.y,v,x,y),hb.initNonuniformCatmullRom(c.z,h.z,p.z,d.z,v,x,y)}else this.curveType==="catmullrom"&&(db.initCatmullRom(c.x,h.x,p.x,d.x,this.tension),fb.initCatmullRom(c.y,h.y,p.y,d.y,this.tension),hb.initCatmullRom(c.z,h.z,p.z,d.z,this.tension));return r.set(db.calc(l),fb.calc(l),hb.calc(l)),r}copy(e){super.copy(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,r=this.points.length;n<r;n++){const i=this.points[n];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(new H().fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function YL(t,e,n,r,i){const s=(r-e)*.5,o=(i-n)*.5,a=t*t,l=t*a;return(2*n-2*r+s+o)*l+(-3*n+3*r-2*s-o)*a+s*t+n}function rte(t,e){const n=1-t;return n*n*e}function ite(t,e){return 2*(1-t)*t*e}function ste(t,e){return t*t*e}function Tp(t,e,n,r){return rte(t,e)+ite(t,n)+ste(t,r)}function ote(t,e){const n=1-t;return n*n*n*e}function ate(t,e){const n=1-t;return 3*n*n*t*e}function lte(t,e){return 3*(1-t)*t*t*e}function cte(t,e){return t*t*t*e}function Cp(t,e,n,r,i){return ote(t,e)+ate(t,n)+lte(t,r)+cte(t,i)}class PA extends no{constructor(e=new Te,n=new Te,r=new Te,i=new Te){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=n,this.v2=r,this.v3=i}getPoint(e,n=new Te){const r=n,i=this.v0,s=this.v1,o=this.v2,a=this.v3;return r.set(Cp(e,i.x,s.x,o.x,a.x),Cp(e,i.y,s.y,o.y,a.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class J4 extends no{constructor(e=new H,n=new H,r=new H,i=new H){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=n,this.v2=r,this.v3=i}getPoint(e,n=new H){const r=n,i=this.v0,s=this.v1,o=this.v2,a=this.v3;return r.set(Cp(e,i.x,s.x,o.x,a.x),Cp(e,i.y,s.y,o.y,a.y),Cp(e,i.z,s.z,o.z,a.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class RA extends no{constructor(e=new Te,n=new Te){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=n}getPoint(e,n=new Te){const r=n;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new Te){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class eV extends no{constructor(e=new H,n=new H){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=n}getPoint(e,n=new H){const r=n;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new H){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class IA extends no{constructor(e=new Te,n=new Te,r=new Te){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=n,this.v2=r}getPoint(e,n=new Te){const r=n,i=this.v0,s=this.v1,o=this.v2;return r.set(Tp(e,i.x,s.x,o.x),Tp(e,i.y,s.y,o.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class NA extends no{constructor(e=new H,n=new H,r=new H){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=n,this.v2=r}getPoint(e,n=new H){const r=n,i=this.v0,s=this.v1,o=this.v2;return r.set(Tp(e,i.x,s.x,o.x),Tp(e,i.y,s.y,o.y),Tp(e,i.z,s.z,o.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class LA extends no{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,n=new Te){const r=n,i=this.points,s=(i.length-1)*e,o=Math.floor(s),a=s-o,l=i[o===0?o:o-1],c=i[o],d=i[o>i.length-2?i.length-1:o+1],h=i[o>i.length-3?i.length-1:o+2];return r.set(YL(a,l.x,c.x,d.x,h.x),YL(a,l.y,c.y,d.y,h.y)),r}copy(e){super.copy(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,r=this.points.length;n<r;n++){const i=this.points[n];e.points.push(i.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(new Te().fromArray(i))}return this}}var kx=Object.freeze({__proto__:null,ArcCurve:K4,CatmullRomCurve3:Q4,CubicBezierCurve:PA,CubicBezierCurve3:J4,EllipseCurve:ow,LineCurve:RA,LineCurve3:eV,QuadraticBezierCurve:IA,QuadraticBezierCurve3:NA,SplineCurve:LA});class tV extends no{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),n=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(n)){const r=e.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new kx[r](n,e))}return this}getPoint(e,n){const r=e*this.getLength(),i=this.getCurveLengths();let s=0;for(;s<i.length;){if(i[s]>=r){const o=i[s]-r,a=this.curves[s],l=a.getLength(),c=l===0?0:1-o/l;return a.getPointAt(c,n)}s++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let n=0;for(let r=0,i=this.curves.length;r<i;r++)n+=this.curves[r].getLength(),e.push(n);return this.cacheLengths=e,e}getSpacedPoints(e=40){const n=[];for(let r=0;r<=e;r++)n.push(this.getPoint(r/e));return this.autoClose&&n.push(n[0]),n}getPoints(e=12){const n=[];let r;for(let i=0,s=this.curves;i<s.length;i++){const o=s[i],a=o.isEllipseCurve?e*2:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?e*o.points.length:e,l=o.getPoints(a);for(let c=0;c<l.length;c++){const d=l[c];r&&r.equals(d)||(n.push(d),r=d)}}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n}copy(e){super.copy(e),this.curves=[];for(let n=0,r=e.curves.length;n<r;n++){const i=e.curves[n];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let n=0,r=this.curves.length;n<r;n++){const i=this.curves[n];e.curves.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let n=0,r=e.curves.length;n<r;n++){const i=e.curves[n];this.curves.push(new kx[i.type]().fromJSON(i))}return this}}class Ox extends tV{constructor(e){super(),this.type="Path",this.currentPoint=new Te,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let n=1,r=e.length;n<r;n++)this.lineTo(e[n].x,e[n].y);return this}moveTo(e,n){return this.currentPoint.set(e,n),this}lineTo(e,n){const r=new RA(this.currentPoint.clone(),new Te(e,n));return this.curves.push(r),this.currentPoint.set(e,n),this}quadraticCurveTo(e,n,r,i){const s=new IA(this.currentPoint.clone(),new Te(e,n),new Te(r,i));return this.curves.push(s),this.currentPoint.set(r,i),this}bezierCurveTo(e,n,r,i,s,o){const a=new PA(this.currentPoint.clone(),new Te(e,n),new Te(r,i),new Te(s,o));return this.curves.push(a),this.currentPoint.set(s,o),this}splineThru(e){const n=[this.currentPoint.clone()].concat(e),r=new LA(n);return this.curves.push(r),this.currentPoint.copy(e[e.length-1]),this}arc(e,n,r,i,s,o){const a=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+a,n+l,r,i,s,o),this}absarc(e,n,r,i,s,o){return this.absellipse(e,n,r,r,i,s,o),this}ellipse(e,n,r,i,s,o,a,l){const c=this.currentPoint.x,d=this.currentPoint.y;return this.absellipse(e+c,n+d,r,i,s,o,a,l),this}absellipse(e,n,r,i,s,o,a,l){const c=new ow(e,n,r,i,s,o,a,l);if(this.curves.length>0){const h=c.getPoint(0);h.equals(this.currentPoint)||this.lineTo(h.x,h.y)}this.curves.push(c);const d=c.getPoint(1);return this.currentPoint.copy(d),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class iu extends Ox{constructor(e){super(e),this.uuid=ts(),this.type="Shape",this.holes=[]}getPointsHoles(e){const n=[];for(let r=0,i=this.holes.length;r<i;r++)n[r]=this.holes[r].getPoints(e);return n}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let n=0,r=e.holes.length;n<r;n++){const i=e.holes[n];this.holes.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let n=0,r=this.holes.length;n<r;n++){const i=this.holes[n];e.holes.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let n=0,r=e.holes.length;n<r;n++){const i=e.holes[n];this.holes.push(new Ox().fromJSON(i))}return this}}function ute(t,e,n=2){const r=e&&e.length,i=r?e[0]*n:t.length;let s=nV(t,0,i,n,!0);const o=[];if(!s||s.next===s.prev)return o;let a,l,c;if(r&&(s=mte(t,e,s,n)),t.length>80*n){a=1/0,l=1/0;let d=-1/0,h=-1/0;for(let p=n;p<i;p+=n){const m=t[p],v=t[p+1];m<a&&(a=m),v<l&&(l=v),m>d&&(d=m),v>h&&(h=v)}c=Math.max(d-a,h-l),c=c!==0?32767/c:0}return xm(s,o,n,a,l,c,0),o}function nV(t,e,n,r,i){let s;if(i===Tte(t,e,n,r)>0)for(let o=e;o<n;o+=r)s=qL(o/r|0,t[o],t[o+1],s);else for(let o=n-r;o>=e;o-=r)s=qL(o/r|0,t[o],t[o+1],s);return s&&If(s,s.next)&&(wm(s),s=s.next),s}function mu(t,e){if(!t)return t;e||(e=t);let n=t,r;do if(r=!1,!n.steiner&&(If(n,n.next)||Vn(n.prev,n,n.next)===0)){if(wm(n),n=e=n.prev,n===n.next)break;r=!0}else n=n.next;while(r||n!==e);return e}function xm(t,e,n,r,i,s,o){if(!t)return;!o&&s&&_te(t,r,i,s);let a=t;for(;t.prev!==t.next;){const l=t.prev,c=t.next;if(s?fte(t,r,i,s):dte(t)){e.push(l.i,t.i,c.i),wm(t),t=c.next,a=c.next;continue}if(t=c,t===a){o?o===1?(t=hte(mu(t),e),xm(t,e,n,r,i,s,2)):o===2&&pte(t,e,n,r,i,s):xm(mu(t),e,n,r,i,s,1);break}}}function dte(t){const e=t.prev,n=t,r=t.next;if(Vn(e,n,r)>=0)return!1;const i=e.x,s=n.x,o=r.x,a=e.y,l=n.y,c=r.y,d=Math.min(i,s,o),h=Math.min(a,l,c),p=Math.max(i,s,o),m=Math.max(a,l,c);let v=r.next;for(;v!==e;){if(v.x>=d&&v.x<=p&&v.y>=h&&v.y<=m&&Kh(i,a,s,l,o,c,v.x,v.y)&&Vn(v.prev,v,v.next)>=0)return!1;v=v.next}return!0}function fte(t,e,n,r){const i=t.prev,s=t,o=t.next;if(Vn(i,s,o)>=0)return!1;const a=i.x,l=s.x,c=o.x,d=i.y,h=s.y,p=o.y,m=Math.min(a,l,c),v=Math.min(d,h,p),x=Math.max(a,l,c),y=Math.max(d,h,p),g=FE(m,v,e,n,r),w=FE(x,y,e,n,r);let b=t.prevZ,E=t.nextZ;for(;b&&b.z>=g&&E&&E.z<=w;){if(b.x>=m&&b.x<=x&&b.y>=v&&b.y<=y&&b!==i&&b!==o&&Kh(a,d,l,h,c,p,b.x,b.y)&&Vn(b.prev,b,b.next)>=0||(b=b.prevZ,E.x>=m&&E.x<=x&&E.y>=v&&E.y<=y&&E!==i&&E!==o&&Kh(a,d,l,h,c,p,E.x,E.y)&&Vn(E.prev,E,E.next)>=0))return!1;E=E.nextZ}for(;b&&b.z>=g;){if(b.x>=m&&b.x<=x&&b.y>=v&&b.y<=y&&b!==i&&b!==o&&Kh(a,d,l,h,c,p,b.x,b.y)&&Vn(b.prev,b,b.next)>=0)return!1;b=b.prevZ}for(;E&&E.z<=w;){if(E.x>=m&&E.x<=x&&E.y>=v&&E.y<=y&&E!==i&&E!==o&&Kh(a,d,l,h,c,p,E.x,E.y)&&Vn(E.prev,E,E.next)>=0)return!1;E=E.nextZ}return!0}function hte(t,e){let n=t;do{const r=n.prev,i=n.next.next;!If(r,i)&&iV(r,n,n.next,i)&&_m(r,i)&&_m(i,r)&&(e.push(r.i,n.i,i.i),wm(n),wm(n.next),n=t=i),n=n.next}while(n!==t);return mu(n)}function pte(t,e,n,r,i,s){let o=t;do{let a=o.next.next;for(;a!==o.prev;){if(o.i!==a.i&&bte(o,a)){let l=sV(o,a);o=mu(o,o.next),l=mu(l,l.next),xm(o,e,n,r,i,s,0),xm(l,e,n,r,i,s,0);return}a=a.next}o=o.next}while(o!==t)}function mte(t,e,n,r){const i=[];for(let s=0,o=e.length;s<o;s++){const a=e[s]*r,l=s<o-1?e[s+1]*r:t.length,c=nV(t,a,l,r,!1);c===c.next&&(c.steiner=!0),i.push(Ste(c))}i.sort(gte);for(let s=0;s<i.length;s++)n=vte(i[s],n);return n}function gte(t,e){let n=t.x-e.x;if(n===0&&(n=t.y-e.y,n===0)){const r=(t.next.y-t.y)/(t.next.x-t.x),i=(e.next.y-e.y)/(e.next.x-e.x);n=r-i}return n}function vte(t,e){const n=yte(t,e);if(!n)return e;const r=sV(n,t);return mu(r,r.next),mu(n,n.next)}function yte(t,e){let n=e;const r=t.x,i=t.y;let s=-1/0,o;if(If(t,n))return n;do{if(If(t,n.next))return n.next;if(i<=n.y&&i>=n.next.y&&n.next.y!==n.y){const h=n.x+(i-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(h<=r&&h>s&&(s=h,o=n.x<n.next.x?n:n.next,h===r))return o}n=n.next}while(n!==e);if(!o)return null;const a=o,l=o.x,c=o.y;let d=1/0;n=o;do{if(r>=n.x&&n.x>=l&&r!==n.x&&rV(i<c?r:s,i,l,c,i<c?s:r,i,n.x,n.y)){const h=Math.abs(i-n.y)/(r-n.x);_m(n,t)&&(h<d||h===d&&(n.x>o.x||n.x===o.x&&xte(o,n)))&&(o=n,d=h)}n=n.next}while(n!==a);return o}function xte(t,e){return Vn(t.prev,t,e.prev)<0&&Vn(e.next,t,t.next)<0}function _te(t,e,n,r){let i=t;do i.z===0&&(i.z=FE(i.x,i.y,e,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,wte(i)}function wte(t){let e,n=1;do{let r=t,i;t=null;let s=null;for(e=0;r;){e++;let o=r,a=0;for(let c=0;c<n&&(a++,o=o.nextZ,!!o);c++);let l=n;for(;a>0||l>0&&o;)a!==0&&(l===0||!o||r.z<=o.z)?(i=r,r=r.nextZ,a--):(i=o,o=o.nextZ,l--),s?s.nextZ=i:t=i,i.prevZ=s,s=i;r=o}s.nextZ=null,n*=2}while(e>1);return t}function FE(t,e,n,r,i){return t=(t-n)*i|0,e=(e-r)*i|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function Ste(t){let e=t,n=t;do(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next;while(e!==t);return n}function rV(t,e,n,r,i,s,o,a){return(i-o)*(e-a)>=(t-o)*(s-a)&&(t-o)*(r-a)>=(n-o)*(e-a)&&(n-o)*(s-a)>=(i-o)*(r-a)}function Kh(t,e,n,r,i,s,o,a){return!(t===o&&e===a)&&rV(t,e,n,r,i,s,o,a)}function bte(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!Mte(t,e)&&(_m(t,e)&&_m(e,t)&&Ete(t,e)&&(Vn(t.prev,t,e.prev)||Vn(t,e.prev,e))||If(t,e)&&Vn(t.prev,t,t.next)>0&&Vn(e.prev,e,e.next)>0)}function Vn(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function If(t,e){return t.x===e.x&&t.y===e.y}function iV(t,e,n,r){const i=vy(Vn(t,e,n)),s=vy(Vn(t,e,r)),o=vy(Vn(n,r,t)),a=vy(Vn(n,r,e));return!!(i!==s&&o!==a||i===0&&gy(t,n,e)||s===0&&gy(t,r,e)||o===0&&gy(n,t,r)||a===0&&gy(n,e,r))}function gy(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function vy(t){return t>0?1:t<0?-1:0}function Mte(t,e){let n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&iV(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}function _m(t,e){return Vn(t.prev,t,t.next)<0?Vn(t,e,t.next)>=0&&Vn(t,t.prev,e)>=0:Vn(t,e,t.prev)<0||Vn(t,t.next,e)<0}function Ete(t,e){let n=t,r=!1;const i=(t.x+e.x)/2,s=(t.y+e.y)/2;do n.y>s!=n.next.y>s&&n.next.y!==n.y&&i<(n.next.x-n.x)*(s-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next;while(n!==t);return r}function sV(t,e){const n=UE(t.i,t.x,t.y),r=UE(e.i,e.x,e.y),i=t.next,s=e.prev;return t.next=e,e.prev=t,n.next=i,i.prev=n,r.next=n,n.prev=r,s.next=r,r.prev=s,r}function qL(t,e,n,r){const i=UE(t,e,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function wm(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function UE(t,e,n){return{i:t,x:e,y:n,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}function Tte(t,e,n,r){let i=0;for(let s=e,o=n-r;s<n;s+=r)i+=(t[o]-t[s])*(t[s+1]+t[o+1]),o=s;return i}class Cte{static triangulate(e,n,r=2){return ute(e,n,r)}}class qs{static area(e){const n=e.length;let r=0;for(let i=n-1,s=0;s<n;i=s++)r+=e[i].x*e[s].y-e[s].x*e[i].y;return r*.5}static isClockWise(e){return qs.area(e)<0}static triangulateShape(e,n){const r=[],i=[],s=[];ZL(e),KL(r,e);let o=e.length;n.forEach(ZL);for(let l=0;l<n.length;l++)i.push(o),o+=n[l].length,KL(r,n[l]);const a=Cte.triangulate(r,i);for(let l=0;l<a.length;l+=3)s.push(a.slice(l,l+3));return s}}function ZL(t){const e=t.length;e>2&&t[e-1].equals(t[0])&&t.pop()}function KL(t,e){for(let n=0;n<e.length;n++)t.push(e[n].x),t.push(e[n].y)}class aw extends Ft{constructor(e=new iu([new Te(.5,.5),new Te(-.5,.5),new Te(-.5,-.5),new Te(.5,-.5)]),n={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:n},e=Array.isArray(e)?e:[e];const r=this,i=[],s=[];for(let a=0,l=e.length;a<l;a++){const c=e[a];o(c)}this.setAttribute("position",new ht(i,3)),this.setAttribute("uv",new ht(s,2)),this.computeVertexNormals();function o(a){const l=[],c=n.curveSegments!==void 0?n.curveSegments:12,d=n.steps!==void 0?n.steps:1,h=n.depth!==void 0?n.depth:1;let p=n.bevelEnabled!==void 0?n.bevelEnabled:!0,m=n.bevelThickness!==void 0?n.bevelThickness:.2,v=n.bevelSize!==void 0?n.bevelSize:m-.1,x=n.bevelOffset!==void 0?n.bevelOffset:0,y=n.bevelSegments!==void 0?n.bevelSegments:3;const g=n.extrudePath,w=n.UVGenerator!==void 0?n.UVGenerator:Ate;let b,E=!1,C,A,I,D;g&&(b=g.getSpacedPoints(d),E=!0,p=!1,C=g.computeFrenetFrames(d,!1),A=new H,I=new H,D=new H),p||(y=0,m=0,v=0,x=0);const N=a.extractPoints(c);let R=N.shape;const F=N.holes;if(!qs.isClockWise(R)){R=R.reverse();for(let V=0,Oe=F.length;V<Oe;V++){const Re=F[V];qs.isClockWise(Re)&&(F[V]=Re.reverse())}}function G(V){const Re=10000000000000001e-36;let Ue=V[0];for(let B=1;B<=V.length;B++){const Z=B%V.length,Q=V[Z],ge=Q.x-Ue.x,Se=Q.y-Ue.y,U=ge*ge+Se*Se,O=Math.max(Math.abs(Q.x),Math.abs(Q.y),Math.abs(Ue.x),Math.abs(Ue.y)),te=Re*O*O;if(U<=te){V.splice(Z,1),B--;continue}Ue=Q}}G(R),F.forEach(G);const $=F.length,ne=R;for(let V=0;V<$;V++){const Oe=F[V];R=R.concat(Oe)}function J(V,Oe,Re){return Oe||console.error("THREE.ExtrudeGeometry: vec does not exist"),V.clone().addScaledVector(Oe,Re)}const re=R.length;function k(V,Oe,Re){let Ue,B,Z;const Q=V.x-Oe.x,ge=V.y-Oe.y,Se=Re.x-V.x,U=Re.y-V.y,O=Q*Q+ge*ge,te=Q*U-ge*Se;if(Math.abs(te)>Number.EPSILON){const ue=Math.sqrt(O),ye=Math.sqrt(Se*Se+U*U),ve=Oe.x-ge/ue,rt=Oe.y+Q/ue,He=Re.x-U/ye,it=Re.y+Se/ye,ct=((He-ve)*U-(it-rt)*Se)/(Q*U-ge*Se);Ue=ve+Q*ct-V.x,B=rt+ge*ct-V.y;const Ie=Ue*Ue+B*B;if(Ie<=2)return new Te(Ue,B);Z=Math.sqrt(Ie/2)}else{let ue=!1;Q>Number.EPSILON?Se>Number.EPSILON&&(ue=!0):Q<-Number.EPSILON?Se<-Number.EPSILON&&(ue=!0):Math.sign(ge)===Math.sign(U)&&(ue=!0),ue?(Ue=-ge,B=Q,Z=Math.sqrt(O)):(Ue=Q,B=ge,Z=Math.sqrt(O/2))}return new Te(Ue/Z,B/Z)}const W=[];for(let V=0,Oe=ne.length,Re=Oe-1,Ue=V+1;V<Oe;V++,Re++,Ue++)Re===Oe&&(Re=0),Ue===Oe&&(Ue=0),W[V]=k(ne[V],ne[Re],ne[Ue]);const q=[];let ee,de=W.concat();for(let V=0,Oe=$;V<Oe;V++){const Re=F[V];ee=[];for(let Ue=0,B=Re.length,Z=B-1,Q=Ue+1;Ue<B;Ue++,Z++,Q++)Z===B&&(Z=0),Q===B&&(Q=0),ee[Ue]=k(Re[Ue],Re[Z],Re[Q]);q.push(ee),de=de.concat(ee)}let Ae;if(y===0)Ae=qs.triangulateShape(ne,F);else{const V=[],Oe=[];for(let Re=0;Re<y;Re++){const Ue=Re/y,B=m*Math.cos(Ue*Math.PI/2),Z=v*Math.sin(Ue*Math.PI/2)+x;for(let Q=0,ge=ne.length;Q<ge;Q++){const Se=J(ne[Q],W[Q],Z);tt(Se.x,Se.y,-B),Ue===0&&V.push(Se)}for(let Q=0,ge=$;Q<ge;Q++){const Se=F[Q];ee=q[Q];const U=[];for(let O=0,te=Se.length;O<te;O++){const ue=J(Se[O],ee[O],Z);tt(ue.x,ue.y,-B),Ue===0&&U.push(ue)}Ue===0&&Oe.push(U)}}Ae=qs.triangulateShape(V,Oe)}const ae=Ae.length,be=v+x;for(let V=0;V<re;V++){const Oe=p?J(R[V],de[V],be):R[V];E?(I.copy(C.normals[0]).multiplyScalar(Oe.x),A.copy(C.binormals[0]).multiplyScalar(Oe.y),D.copy(b[0]).add(I).add(A),tt(D.x,D.y,D.z)):tt(Oe.x,Oe.y,0)}for(let V=1;V<=d;V++)for(let Oe=0;Oe<re;Oe++){const Re=p?J(R[Oe],de[Oe],be):R[Oe];E?(I.copy(C.normals[V]).multiplyScalar(Re.x),A.copy(C.binormals[V]).multiplyScalar(Re.y),D.copy(b[V]).add(I).add(A),tt(D.x,D.y,D.z)):tt(Re.x,Re.y,h/d*V)}for(let V=y-1;V>=0;V--){const Oe=V/y,Re=m*Math.cos(Oe*Math.PI/2),Ue=v*Math.sin(Oe*Math.PI/2)+x;for(let B=0,Z=ne.length;B<Z;B++){const Q=J(ne[B],W[B],Ue);tt(Q.x,Q.y,h+Re)}for(let B=0,Z=F.length;B<Z;B++){const Q=F[B];ee=q[B];for(let ge=0,Se=Q.length;ge<Se;ge++){const U=J(Q[ge],ee[ge],Ue);E?tt(U.x,U.y+b[d-1].y,b[d-1].x+Re):tt(U.x,U.y,h+Re)}}}Ee(),me();function Ee(){const V=i.length/3;if(p){let Oe=0,Re=re*Oe;for(let Ue=0;Ue<ae;Ue++){const B=Ae[Ue];Fe(B[2]+Re,B[1]+Re,B[0]+Re)}Oe=d+y*2,Re=re*Oe;for(let Ue=0;Ue<ae;Ue++){const B=Ae[Ue];Fe(B[0]+Re,B[1]+Re,B[2]+Re)}}else{for(let Oe=0;Oe<ae;Oe++){const Re=Ae[Oe];Fe(Re[2],Re[1],Re[0])}for(let Oe=0;Oe<ae;Oe++){const Re=Ae[Oe];Fe(Re[0]+re*d,Re[1]+re*d,Re[2]+re*d)}}r.addGroup(V,i.length/3-V,0)}function me(){const V=i.length/3;let Oe=0;ke(ne,Oe),Oe+=ne.length;for(let Re=0,Ue=F.length;Re<Ue;Re++){const B=F[Re];ke(B,Oe),Oe+=B.length}r.addGroup(V,i.length/3-V,1)}function ke(V,Oe){let Re=V.length;for(;--Re>=0;){const Ue=Re;let B=Re-1;B<0&&(B=V.length-1);for(let Z=0,Q=d+y*2;Z<Q;Z++){const ge=re*Z,Se=re*(Z+1),U=Oe+Ue+ge,O=Oe+B+ge,te=Oe+B+Se,ue=Oe+Ue+Se;nt(U,O,te,ue)}}}function tt(V,Oe,Re){l.push(V),l.push(Oe),l.push(Re)}function Fe(V,Oe,Re){qe(V),qe(Oe),qe(Re);const Ue=i.length/3,B=w.generateTopUV(r,i,Ue-3,Ue-2,Ue-1);Ye(B[0]),Ye(B[1]),Ye(B[2])}function nt(V,Oe,Re,Ue){qe(V),qe(Oe),qe(Ue),qe(Oe),qe(Re),qe(Ue);const B=i.length/3,Z=w.generateSideWallUV(r,i,B-6,B-3,B-2,B-1);Ye(Z[0]),Ye(Z[1]),Ye(Z[3]),Ye(Z[1]),Ye(Z[2]),Ye(Z[3])}function qe(V){i.push(l[V*3+0]),i.push(l[V*3+1]),i.push(l[V*3+2])}function Ye(V){s.push(V.x),s.push(V.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes,r=this.parameters.options;return Pte(n,r,e)}static fromJSON(e,n){const r=[];for(let s=0,o=e.shapes.length;s<o;s++){const a=n[e.shapes[s]];r.push(a)}const i=e.options.extrudePath;return i!==void 0&&(e.options.extrudePath=new kx[i.type]().fromJSON(i)),new aw(r,e.options)}}const Ate={generateTopUV:function(t,e,n,r,i){const s=e[n*3],o=e[n*3+1],a=e[r*3],l=e[r*3+1],c=e[i*3],d=e[i*3+1];return[new Te(s,o),new Te(a,l),new Te(c,d)]},generateSideWallUV:function(t,e,n,r,i,s){const o=e[n*3],a=e[n*3+1],l=e[n*3+2],c=e[r*3],d=e[r*3+1],h=e[r*3+2],p=e[i*3],m=e[i*3+1],v=e[i*3+2],x=e[s*3],y=e[s*3+1],g=e[s*3+2];return Math.abs(a-d)<Math.abs(o-c)?[new Te(o,1-l),new Te(c,1-h),new Te(p,1-v),new Te(x,1-g)]:[new Te(a,1-l),new Te(d,1-h),new Te(m,1-v),new Te(y,1-g)]}};function Pte(t,e,n){if(n.shapes=[],Array.isArray(t))for(let r=0,i=t.length;r<i;r++){const s=t[r];n.shapes.push(s.uuid)}else n.shapes.push(t.uuid);return n.options=Object.assign({},e),e.extrudePath!==void 0&&(n.options.extrudePath=e.extrudePath.toJSON()),n}class lw extends Ql{constructor(e=1,n=0){const r=(1+Math.sqrt(5))/2,i=[-1,r,0,1,r,0,-1,-r,0,1,-r,0,0,-1,r,0,1,r,0,-1,-r,0,1,-r,r,0,-1,r,0,1,-r,0,-1,-r,0,1],s=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(i,s,e,n),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new lw(e.radius,e.detail)}}class cw extends Ft{constructor(e=[new Te(0,-.5),new Te(.5,0),new Te(0,.5)],n=12,r=0,i=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:n,phiStart:r,phiLength:i},n=Math.floor(n),i=It(i,0,Math.PI*2);const s=[],o=[],a=[],l=[],c=[],d=1/n,h=new H,p=new Te,m=new H,v=new H,x=new H;let y=0,g=0;for(let w=0;w<=e.length-1;w++)switch(w){case 0:y=e[w+1].x-e[w].x,g=e[w+1].y-e[w].y,m.x=g*1,m.y=-y,m.z=g*0,x.copy(m),m.normalize(),l.push(m.x,m.y,m.z);break;case e.length-1:l.push(x.x,x.y,x.z);break;default:y=e[w+1].x-e[w].x,g=e[w+1].y-e[w].y,m.x=g*1,m.y=-y,m.z=g*0,v.copy(m),m.x+=x.x,m.y+=x.y,m.z+=x.z,m.normalize(),l.push(m.x,m.y,m.z),x.copy(v)}for(let w=0;w<=n;w++){const b=r+w*d*i,E=Math.sin(b),C=Math.cos(b);for(let A=0;A<=e.length-1;A++){h.x=e[A].x*E,h.y=e[A].y,h.z=e[A].x*C,o.push(h.x,h.y,h.z),p.x=w/n,p.y=A/(e.length-1),a.push(p.x,p.y);const I=l[3*A+0]*E,D=l[3*A+1],N=l[3*A+0]*C;c.push(I,D,N)}}for(let w=0;w<n;w++)for(let b=0;b<e.length-1;b++){const E=b+w*e.length,C=E,A=E+e.length,I=E+e.length+1,D=E+1;s.push(C,A,D),s.push(I,D,A)}this.setIndex(s),this.setAttribute("position",new ht(o,3)),this.setAttribute("uv",new ht(a,2)),this.setAttribute("normal",new ht(c,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new cw(e.points,e.segments,e.phiStart,e.phiLength)}}class Zm extends Ql{constructor(e=1,n=0){const r=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],i=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(r,i,e,n),this.type="OctahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new Zm(e.radius,e.detail)}}class Zf extends Ft{constructor(e=1,n=1,r=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:n,widthSegments:r,heightSegments:i};const s=e/2,o=n/2,a=Math.floor(r),l=Math.floor(i),c=a+1,d=l+1,h=e/a,p=n/l,m=[],v=[],x=[],y=[];for(let g=0;g<d;g++){const w=g*p-o;for(let b=0;b<c;b++){const E=b*h-s;v.push(E,-w,0),x.push(0,0,1),y.push(b/a),y.push(1-g/l)}}for(let g=0;g<l;g++)for(let w=0;w<a;w++){const b=w+c*g,E=w+c*(g+1),C=w+1+c*(g+1),A=w+1+c*g;m.push(b,E,A),m.push(E,C,A)}this.setIndex(m),this.setAttribute("position",new ht(v,3)),this.setAttribute("normal",new ht(x,3)),this.setAttribute("uv",new ht(y,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Zf(e.width,e.height,e.widthSegments,e.heightSegments)}}class uw extends Ft{constructor(e=.5,n=1,r=32,i=1,s=0,o=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:n,thetaSegments:r,phiSegments:i,thetaStart:s,thetaLength:o},r=Math.max(3,r),i=Math.max(1,i);const a=[],l=[],c=[],d=[];let h=e;const p=(n-e)/i,m=new H,v=new Te;for(let x=0;x<=i;x++){for(let y=0;y<=r;y++){const g=s+y/r*o;m.x=h*Math.cos(g),m.y=h*Math.sin(g),l.push(m.x,m.y,m.z),c.push(0,0,1),v.x=(m.x/n+1)/2,v.y=(m.y/n+1)/2,d.push(v.x,v.y)}h+=p}for(let x=0;x<i;x++){const y=x*(r+1);for(let g=0;g<r;g++){const w=g+y,b=w,E=w+r+1,C=w+r+2,A=w+1;a.push(b,E,A),a.push(E,C,A)}}this.setIndex(a),this.setAttribute("position",new ht(l,3)),this.setAttribute("normal",new ht(c,3)),this.setAttribute("uv",new ht(d,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new uw(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class dw extends Ft{constructor(e=new iu([new Te(0,.5),new Te(-.5,-.5),new Te(.5,-.5)]),n=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:n};const r=[],i=[],s=[],o=[];let a=0,l=0;if(Array.isArray(e)===!1)c(e);else for(let d=0;d<e.length;d++)c(e[d]),this.addGroup(a,l,d),a+=l,l=0;this.setIndex(r),this.setAttribute("position",new ht(i,3)),this.setAttribute("normal",new ht(s,3)),this.setAttribute("uv",new ht(o,2));function c(d){const h=i.length/3,p=d.extractPoints(n);let m=p.shape;const v=p.holes;qs.isClockWise(m)===!1&&(m=m.reverse());for(let y=0,g=v.length;y<g;y++){const w=v[y];qs.isClockWise(w)===!0&&(v[y]=w.reverse())}const x=qs.triangulateShape(m,v);for(let y=0,g=v.length;y<g;y++){const w=v[y];m=m.concat(w)}for(let y=0,g=m.length;y<g;y++){const w=m[y];i.push(w.x,w.y,0),s.push(0,0,1),o.push(w.x,w.y)}for(let y=0,g=x.length;y<g;y++){const w=x[y],b=w[0]+h,E=w[1]+h,C=w[2]+h;r.push(b,E,C),l+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes;return Rte(n,e)}static fromJSON(e,n){const r=[];for(let i=0,s=e.shapes.length;i<s;i++){const o=n[e.shapes[i]];r.push(o)}return new dw(r,e.curveSegments)}}function Rte(t,e){if(e.shapes=[],Array.isArray(t))for(let n=0,r=t.length;n<r;n++){const i=t[n];e.shapes.push(i.uuid)}else e.shapes.push(t.uuid);return e}class Km extends Ft{constructor(e=1,n=32,r=16,i=0,s=Math.PI*2,o=0,a=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:n,heightSegments:r,phiStart:i,phiLength:s,thetaStart:o,thetaLength:a},n=Math.max(3,Math.floor(n)),r=Math.max(2,Math.floor(r));const l=Math.min(o+a,Math.PI);let c=0;const d=[],h=new H,p=new H,m=[],v=[],x=[],y=[];for(let g=0;g<=r;g++){const w=[],b=g/r;let E=0;g===0&&o===0?E=.5/n:g===r&&l===Math.PI&&(E=-.5/n);for(let C=0;C<=n;C++){const A=C/n;h.x=-e*Math.cos(i+A*s)*Math.sin(o+b*a),h.y=e*Math.cos(o+b*a),h.z=e*Math.sin(i+A*s)*Math.sin(o+b*a),v.push(h.x,h.y,h.z),p.copy(h).normalize(),x.push(p.x,p.y,p.z),y.push(A+E,1-b),w.push(c++)}d.push(w)}for(let g=0;g<r;g++)for(let w=0;w<n;w++){const b=d[g][w+1],E=d[g][w],C=d[g+1][w],A=d[g+1][w+1];(g!==0||o>0)&&m.push(b,E,A),(g!==r-1||l<Math.PI)&&m.push(E,C,A)}this.setIndex(m),this.setAttribute("position",new ht(v,3)),this.setAttribute("normal",new ht(x,3)),this.setAttribute("uv",new ht(y,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Km(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class fw extends Ql{constructor(e=1,n=0){const r=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],i=[2,1,0,0,3,2,1,3,0,2,3,1];super(r,i,e,n),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new fw(e.radius,e.detail)}}class hw extends Ft{constructor(e=1,n=.4,r=12,i=48,s=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:n,radialSegments:r,tubularSegments:i,arc:s},r=Math.floor(r),i=Math.floor(i);const o=[],a=[],l=[],c=[],d=new H,h=new H,p=new H;for(let m=0;m<=r;m++)for(let v=0;v<=i;v++){const x=v/i*s,y=m/r*Math.PI*2;h.x=(e+n*Math.cos(y))*Math.cos(x),h.y=(e+n*Math.cos(y))*Math.sin(x),h.z=n*Math.sin(y),a.push(h.x,h.y,h.z),d.x=e*Math.cos(x),d.y=e*Math.sin(x),p.subVectors(h,d).normalize(),l.push(p.x,p.y,p.z),c.push(v/i),c.push(m/r)}for(let m=1;m<=r;m++)for(let v=1;v<=i;v++){const x=(i+1)*m+v-1,y=(i+1)*(m-1)+v-1,g=(i+1)*(m-1)+v,w=(i+1)*m+v;o.push(x,y,w),o.push(y,g,w)}this.setIndex(o),this.setAttribute("position",new ht(a,3)),this.setAttribute("normal",new ht(l,3)),this.setAttribute("uv",new ht(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new hw(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class pw extends Ft{constructor(e=1,n=.4,r=64,i=8,s=2,o=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:n,tubularSegments:r,radialSegments:i,p:s,q:o},r=Math.floor(r),i=Math.floor(i);const a=[],l=[],c=[],d=[],h=new H,p=new H,m=new H,v=new H,x=new H,y=new H,g=new H;for(let b=0;b<=r;++b){const E=b/r*s*Math.PI*2;w(E,s,o,e,m),w(E+.01,s,o,e,v),y.subVectors(v,m),g.addVectors(v,m),x.crossVectors(y,g),g.crossVectors(x,y),x.normalize(),g.normalize();for(let C=0;C<=i;++C){const A=C/i*Math.PI*2,I=-n*Math.cos(A),D=n*Math.sin(A);h.x=m.x+(I*g.x+D*x.x),h.y=m.y+(I*g.y+D*x.y),h.z=m.z+(I*g.z+D*x.z),l.push(h.x,h.y,h.z),p.subVectors(h,m).normalize(),c.push(p.x,p.y,p.z),d.push(b/r),d.push(C/i)}}for(let b=1;b<=r;b++)for(let E=1;E<=i;E++){const C=(i+1)*(b-1)+(E-1),A=(i+1)*b+(E-1),I=(i+1)*b+E,D=(i+1)*(b-1)+E;a.push(C,A,D),a.push(A,I,D)}this.setIndex(a),this.setAttribute("position",new ht(l,3)),this.setAttribute("normal",new ht(c,3)),this.setAttribute("uv",new ht(d,2));function w(b,E,C,A,I){const D=Math.cos(b),N=Math.sin(b),R=C/E*b,F=Math.cos(R);I.x=A*(2+F)*.5*D,I.y=A*(2+F)*N*.5,I.z=A*Math.sin(R)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new pw(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class mw extends Ft{constructor(e=new NA(new H(-1,-1,0),new H(-1,1,0),new H(1,1,0)),n=64,r=1,i=8,s=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:n,radius:r,radialSegments:i,closed:s};const o=e.computeFrenetFrames(n,s);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const a=new H,l=new H,c=new Te;let d=new H;const h=[],p=[],m=[],v=[];x(),this.setIndex(v),this.setAttribute("position",new ht(h,3)),this.setAttribute("normal",new ht(p,3)),this.setAttribute("uv",new ht(m,2));function x(){for(let b=0;b<n;b++)y(b);y(s===!1?n:0),w(),g()}function y(b){d=e.getPointAt(b/n,d);const E=o.normals[b],C=o.binormals[b];for(let A=0;A<=i;A++){const I=A/i*Math.PI*2,D=Math.sin(I),N=-Math.cos(I);l.x=N*E.x+D*C.x,l.y=N*E.y+D*C.y,l.z=N*E.z+D*C.z,l.normalize(),p.push(l.x,l.y,l.z),a.x=d.x+r*l.x,a.y=d.y+r*l.y,a.z=d.z+r*l.z,h.push(a.x,a.y,a.z)}}function g(){for(let b=1;b<=n;b++)for(let E=1;E<=i;E++){const C=(i+1)*(b-1)+(E-1),A=(i+1)*b+(E-1),I=(i+1)*b+E,D=(i+1)*(b-1)+E;v.push(C,A,D),v.push(A,I,D)}}function w(){for(let b=0;b<=n;b++)for(let E=0;E<=i;E++)c.x=b/n,c.y=E/i,m.push(c.x,c.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new mw(new kx[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class oV extends Ft{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const n=[],r=new Set,i=new H,s=new H;if(e.index!==null){const o=e.attributes.position,a=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:a.count,materialIndex:0}]);for(let c=0,d=l.length;c<d;++c){const h=l[c],p=h.start,m=h.count;for(let v=p,x=p+m;v<x;v+=3)for(let y=0;y<3;y++){const g=a.getX(v+y),w=a.getX(v+(y+1)%3);i.fromBufferAttribute(o,g),s.fromBufferAttribute(o,w),QL(i,s,r)===!0&&(n.push(i.x,i.y,i.z),n.push(s.x,s.y,s.z))}}}else{const o=e.attributes.position;for(let a=0,l=o.count/3;a<l;a++)for(let c=0;c<3;c++){const d=3*a+c,h=3*a+(c+1)%3;i.fromBufferAttribute(o,d),s.fromBufferAttribute(o,h),QL(i,s,r)===!0&&(n.push(i.x,i.y,i.z),n.push(s.x,s.y,s.z))}}this.setAttribute("position",new ht(n,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function QL(t,e,n){const r=`${t.x},${t.y},${t.z}-${e.x},${e.y},${e.z}`,i=`${e.x},${e.y},${e.z}-${t.x},${t.y},${t.z}`;return n.has(r)===!0||n.has(i)===!0?!1:(n.add(r),n.add(i),!0)}var JL=Object.freeze({__proto__:null,BoxGeometry:Tu,CapsuleGeometry:rw,CircleGeometry:iw,ConeGeometry:qm,CylinderGeometry:Ym,DodecahedronGeometry:sw,EdgesGeometry:Z4,ExtrudeGeometry:aw,IcosahedronGeometry:lw,LatheGeometry:cw,OctahedronGeometry:Zm,PlaneGeometry:Zf,PolyhedronGeometry:Ql,RingGeometry:uw,ShapeGeometry:dw,SphereGeometry:Km,TetrahedronGeometry:fw,TorusGeometry:hw,TorusKnotGeometry:pw,TubeGeometry:mw,WireframeGeometry:oV});class aV extends ri{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new lt(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class lV extends to{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class DA extends ri{constructor(e){super(),this.isMeshStandardMaterial=!0,this.type="MeshStandardMaterial",this.defines={STANDARD:""},this.color=new lt(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new lt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Zl,this.normalScale=new Te(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new is,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class cV extends DA{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Te(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return It(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(n){this.ior=(1+.4*n)/(1-.4*n)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new lt(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new lt(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new lt(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get dispersion(){return this._dispersion}set dispersion(e){this._dispersion>0!=e>0&&this.version++,this._dispersion=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.dispersion=e.dispersion,this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class uV extends ri{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new lt(16777215),this.specular=new lt(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new lt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Zl,this.normalScale=new Te(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new is,this.combine=Wm,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class dV extends ri{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new lt(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new lt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Zl,this.normalScale=new Te(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class fV extends ri{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Zl,this.normalScale=new Te(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class hV extends ri{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new lt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new lt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Zl,this.normalScale=new Te(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new is,this.combine=Wm,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class kA extends ri{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=b4,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class OA extends ri{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}class pV extends ri{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new lt(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Zl,this.normalScale=new Te(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class mV extends _i{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function Gc(t,e){return!t||t.constructor===e?t:typeof e.BYTES_PER_ELEMENT=="number"?new e(t):Array.prototype.slice.call(t)}function gV(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function vV(t){function e(i,s){return t[i]-t[s]}const n=t.length,r=new Array(n);for(let i=0;i!==n;++i)r[i]=i;return r.sort(e),r}function BE(t,e,n){const r=t.length,i=new t.constructor(r);for(let s=0,o=0;o!==r;++s){const a=n[s]*e;for(let l=0;l!==e;++l)i[o++]=t[a+l]}return i}function FA(t,e,n,r){let i=1,s=t[0];for(;s!==void 0&&s[r]===void 0;)s=t[i++];if(s===void 0)return;let o=s[r];if(o!==void 0)if(Array.isArray(o))do o=s[r],o!==void 0&&(e.push(s.time),n.push(...o)),s=t[i++];while(s!==void 0);else if(o.toArray!==void 0)do o=s[r],o!==void 0&&(e.push(s.time),o.toArray(n,n.length)),s=t[i++];while(s!==void 0);else do o=s[r],o!==void 0&&(e.push(s.time),n.push(o)),s=t[i++];while(s!==void 0)}function Ite(t,e,n,r,i=30){const s=t.clone();s.name=e;const o=[];for(let l=0;l<s.tracks.length;++l){const c=s.tracks[l],d=c.getValueSize(),h=[],p=[];for(let m=0;m<c.times.length;++m){const v=c.times[m]*i;if(!(v<n||v>=r)){h.push(c.times[m]);for(let x=0;x<d;++x)p.push(c.values[m*d+x])}}h.length!==0&&(c.times=Gc(h,c.times.constructor),c.values=Gc(p,c.values.constructor),o.push(c))}s.tracks=o;let a=1/0;for(let l=0;l<s.tracks.length;++l)a>s.tracks[l].times[0]&&(a=s.tracks[l].times[0]);for(let l=0;l<s.tracks.length;++l)s.tracks[l].shift(-1*a);return s.resetDuration(),s}function Nte(t,e=0,n=t,r=30){r<=0&&(r=30);const i=n.tracks.length,s=e/r;for(let o=0;o<i;++o){const a=n.tracks[o],l=a.ValueTypeName;if(l==="bool"||l==="string")continue;const c=t.tracks.find(function(g){return g.name===a.name&&g.ValueTypeName===l});if(c===void 0)continue;let d=0;const h=a.getValueSize();a.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(d=h/3);let p=0;const m=c.getValueSize();c.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(p=m/3);const v=a.times.length-1;let x;if(s<=a.times[0]){const g=d,w=h-d;x=a.values.slice(g,w)}else if(s>=a.times[v]){const g=v*h+d,w=g+h-d;x=a.values.slice(g,w)}else{const g=a.createInterpolant(),w=d,b=h-d;g.evaluate(s),x=g.resultBuffer.slice(w,b)}l==="quaternion"&&new Jr().fromArray(x).normalize().conjugate().toArray(x);const y=c.times.length;for(let g=0;g<y;++g){const w=g*m+p;if(l==="quaternion")Jr.multiplyQuaternionsFlat(c.values,w,x,0,c.values,w);else{const b=m-p*2;for(let E=0;E<b;++E)c.values[w+E]-=x[E]}}}return t.blendMode=vA,t}class Lte{static convertArray(e,n){return Gc(e,n)}static isTypedArray(e){return gV(e)}static getKeyframeOrder(e){return vV(e)}static sortedArray(e,n,r){return BE(e,n,r)}static flattenJSON(e,n,r,i){FA(e,n,r,i)}static subclip(e,n,r,i,s=30){return Ite(e,n,r,i,s)}static makeClipAdditive(e,n=0,r=e,i=30){return Nte(e,n,r,i)}}class Qm{constructor(e,n,r,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=i!==void 0?i:new n.constructor(r),this.sampleValues=n,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}evaluate(e){const n=this.parameterPositions;let r=this._cachedIndex,i=n[r],s=n[r-1];e:{t:{let o;n:{r:if(!(e<i)){for(let a=r+2;;){if(i===void 0){if(e<s)break r;return r=n.length,this._cachedIndex=r,this.copySampleValue_(r-1)}if(r===a)break;if(s=i,i=n[++r],e<i)break t}o=n.length;break n}if(!(e>=s)){const a=n[1];e<a&&(r=2,s=a);for(let l=r-2;;){if(s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===l)break;if(i=s,s=n[--r-1],e>=s)break t}o=r,r=0;break n}break e}for(;r<o;){const a=r+o>>>1;e<n[a]?o=a:r=a+1}if(i=n[r],s=n[r-1],s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===void 0)return r=n.length,this._cachedIndex=r,this.copySampleValue_(r-1)}this._cachedIndex=r,this.intervalChanged_(r,s,i)}return this.interpolate_(r,s,e,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const n=this.resultBuffer,r=this.sampleValues,i=this.valueSize,s=e*i;for(let o=0;o!==i;++o)n[o]=r[s+o];return n}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class yV extends Qm{constructor(e,n,r,i){super(e,n,r,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Hc,endingEnd:Hc}}intervalChanged_(e,n,r){const i=this.parameterPositions;let s=e-2,o=e+1,a=i[s],l=i[o];if(a===void 0)switch(this.getSettings_().endingStart){case Wc:s=e,a=2*n-r;break;case pm:s=i.length-2,a=n+i[s]-i[s+1];break;default:s=e,a=r}if(l===void 0)switch(this.getSettings_().endingEnd){case Wc:o=e,l=2*r-n;break;case pm:o=1,l=r+i[1]-i[0];break;default:o=e-1,l=n}const c=(r-n)*.5,d=this.valueSize;this._weightPrev=c/(n-a),this._weightNext=c/(l-r),this._offsetPrev=s*d,this._offsetNext=o*d}interpolate_(e,n,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,d=this._offsetPrev,h=this._offsetNext,p=this._weightPrev,m=this._weightNext,v=(r-n)/(i-n),x=v*v,y=x*v,g=-p*y+2*p*x-p*v,w=(1+p)*y+(-1.5-2*p)*x+(-.5+p)*v+1,b=(-1-m)*y+(1.5+m)*x+.5*v,E=m*y-m*x;for(let C=0;C!==a;++C)s[C]=g*o[d+C]+w*o[c+C]+b*o[l+C]+E*o[h+C];return s}}class UA extends Qm{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e,n,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,d=(r-n)/(i-n),h=1-d;for(let p=0;p!==a;++p)s[p]=o[c+p]*h+o[l+p]*d;return s}}class xV extends Qm{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e){return this.copySampleValue_(e-1)}}class Ns{constructor(e,n,r,i){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(n===void 0||n.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Gc(n,this.TimeBufferType),this.values=Gc(r,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(e){const n=e.constructor;let r;if(n.toJSON!==this.toJSON)r=n.toJSON(e);else{r={name:e.name,times:Gc(e.times,Array),values:Gc(e.values,Array)};const i=e.getInterpolation();i!==e.DefaultInterpolation&&(r.interpolation=i)}return r.type=e.ValueTypeName,r}InterpolantFactoryMethodDiscrete(e){return new xV(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new UA(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new yV(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let n;switch(e){case hm:n=this.InterpolantFactoryMethodDiscrete;break;case Nx:n=this.InterpolantFactoryMethodLinear;break;case s0:n=this.InterpolantFactoryMethodSmooth;break}if(n===void 0){const r="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(r);return console.warn("THREE.KeyframeTrack:",r),this}return this.createInterpolant=n,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return hm;case this.InterpolantFactoryMethodLinear:return Nx;case this.InterpolantFactoryMethodSmooth:return s0}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const n=this.times;for(let r=0,i=n.length;r!==i;++r)n[r]+=e}return this}scale(e){if(e!==1){const n=this.times;for(let r=0,i=n.length;r!==i;++r)n[r]*=e}return this}trim(e,n){const r=this.times,i=r.length;let s=0,o=i-1;for(;s!==i&&r[s]<e;)++s;for(;o!==-1&&r[o]>n;)--o;if(++o,s!==0||o!==i){s>=o&&(o=Math.max(o,1),s=o-1);const a=this.getValueSize();this.times=r.slice(s,o),this.values=this.values.slice(s*a,o*a)}return this}validate(){let e=!0;const n=this.getValueSize();n-Math.floor(n)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const r=this.times,i=this.values,s=r.length;s===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let a=0;a!==s;a++){const l=r[a];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,l),e=!1;break}if(o!==null&&o>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,l,o),e=!1;break}o=l}if(i!==void 0&&gV(i))for(let a=0,l=i.length;a!==l;++a){const c=i[a];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,c),e=!1;break}}return e}optimize(){const e=this.times.slice(),n=this.values.slice(),r=this.getValueSize(),i=this.getInterpolation()===s0,s=e.length-1;let o=1;for(let a=1;a<s;++a){let l=!1;const c=e[a],d=e[a+1];if(c!==d&&(a!==1||c!==e[0]))if(i)l=!0;else{const h=a*r,p=h-r,m=h+r;for(let v=0;v!==r;++v){const x=n[h+v];if(x!==n[p+v]||x!==n[m+v]){l=!0;break}}}if(l){if(a!==o){e[o]=e[a];const h=a*r,p=o*r;for(let m=0;m!==r;++m)n[p+m]=n[h+m]}++o}}if(s>0){e[o]=e[s];for(let a=s*r,l=o*r,c=0;c!==r;++c)n[l+c]=n[a+c];++o}return o!==e.length?(this.times=e.slice(0,o),this.values=n.slice(0,o*r)):(this.times=e,this.values=n),this}clone(){const e=this.times.slice(),n=this.values.slice(),r=this.constructor,i=new r(this.name,e,n);return i.createInterpolant=this.createInterpolant,i}}Ns.prototype.ValueTypeName="";Ns.prototype.TimeBufferType=Float32Array;Ns.prototype.ValueBufferType=Float32Array;Ns.prototype.DefaultInterpolation=Nx;class Cu extends Ns{constructor(e,n,r){super(e,n,r)}}Cu.prototype.ValueTypeName="bool";Cu.prototype.ValueBufferType=Array;Cu.prototype.DefaultInterpolation=hm;Cu.prototype.InterpolantFactoryMethodLinear=void 0;Cu.prototype.InterpolantFactoryMethodSmooth=void 0;class BA extends Ns{constructor(e,n,r,i){super(e,n,r,i)}}BA.prototype.ValueTypeName="color";class Sm extends Ns{constructor(e,n,r,i){super(e,n,r,i)}}Sm.prototype.ValueTypeName="number";class _V extends Qm{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e,n,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=(r-n)/(i-n);let c=e*a;for(let d=c+a;c!==d;c+=4)Jr.slerpFlat(s,0,o,c-a,o,c,l);return s}}class Jm extends Ns{constructor(e,n,r,i){super(e,n,r,i)}InterpolantFactoryMethodLinear(e){return new _V(this.times,this.values,this.getValueSize(),e)}}Jm.prototype.ValueTypeName="quaternion";Jm.prototype.InterpolantFactoryMethodSmooth=void 0;class Au extends Ns{constructor(e,n,r){super(e,n,r)}}Au.prototype.ValueTypeName="string";Au.prototype.ValueBufferType=Array;Au.prototype.DefaultInterpolation=hm;Au.prototype.InterpolantFactoryMethodLinear=void 0;Au.prototype.InterpolantFactoryMethodSmooth=void 0;class bm extends Ns{constructor(e,n,r,i){super(e,n,r,i)}}bm.prototype.ValueTypeName="vector";class Mm{constructor(e="",n=-1,r=[],i=Y_){this.name=e,this.tracks=r,this.duration=n,this.blendMode=i,this.uuid=ts(),this.duration<0&&this.resetDuration()}static parse(e){const n=[],r=e.tracks,i=1/(e.fps||1);for(let o=0,a=r.length;o!==a;++o)n.push(kte(r[o]).scale(i));const s=new this(e.name,e.duration,n,e.blendMode);return s.uuid=e.uuid,s}static toJSON(e){const n=[],r=e.tracks,i={name:e.name,duration:e.duration,tracks:n,uuid:e.uuid,blendMode:e.blendMode};for(let s=0,o=r.length;s!==o;++s)n.push(Ns.toJSON(r[s]));return i}static CreateFromMorphTargetSequence(e,n,r,i){const s=n.length,o=[];for(let a=0;a<s;a++){let l=[],c=[];l.push((a+s-1)%s,a,(a+1)%s),c.push(0,1,0);const d=vV(l);l=BE(l,1,d),c=BE(c,1,d),!i&&l[0]===0&&(l.push(s),c.push(c[0])),o.push(new Sm(".morphTargetInfluences["+n[a].name+"]",l,c).scale(1/r))}return new this(e,-1,o)}static findByName(e,n){let r=e;if(!Array.isArray(e)){const i=e;r=i.geometry&&i.geometry.animations||i.animations}for(let i=0;i<r.length;i++)if(r[i].name===n)return r[i];return null}static CreateClipsFromMorphTargetSequences(e,n,r){const i={},s=/^([\w-]*?)([\d]+)$/;for(let a=0,l=e.length;a<l;a++){const c=e[a],d=c.name.match(s);if(d&&d.length>1){const h=d[1];let p=i[h];p||(i[h]=p=[]),p.push(c)}}const o=[];for(const a in i)o.push(this.CreateFromMorphTargetSequence(a,i[a],n,r));return o}static parseAnimation(e,n){if(console.warn("THREE.AnimationClip: parseAnimation() is deprecated and will be removed with r185"),!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const r=function(h,p,m,v,x){if(m.length!==0){const y=[],g=[];FA(m,y,g,v),y.length!==0&&x.push(new h(p,y,g))}},i=[],s=e.name||"default",o=e.fps||30,a=e.blendMode;let l=e.length||-1;const c=e.hierarchy||[];for(let h=0;h<c.length;h++){const p=c[h].keys;if(!(!p||p.length===0))if(p[0].morphTargets){const m={};let v;for(v=0;v<p.length;v++)if(p[v].morphTargets)for(let x=0;x<p[v].morphTargets.length;x++)m[p[v].morphTargets[x]]=-1;for(const x in m){const y=[],g=[];for(let w=0;w!==p[v].morphTargets.length;++w){const b=p[v];y.push(b.time),g.push(b.morphTarget===x?1:0)}i.push(new Sm(".morphTargetInfluence["+x+"]",y,g))}l=m.length*o}else{const m=".bones["+n[h].name+"]";r(bm,m+".position",p,"pos",i),r(Jm,m+".quaternion",p,"rot",i),r(bm,m+".scale",p,"scl",i)}}return i.length===0?null:new this(s,l,i,a)}resetDuration(){const e=this.tracks;let n=0;for(let r=0,i=e.length;r!==i;++r){const s=this.tracks[r];n=Math.max(n,s.times[s.times.length-1])}return this.duration=n,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let n=0;n<this.tracks.length;n++)e=e&&this.tracks[n].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let n=0;n<this.tracks.length;n++)e.push(this.tracks[n].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function Dte(t){switch(t.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Sm;case"vector":case"vector2":case"vector3":case"vector4":return bm;case"color":return BA;case"quaternion":return Jm;case"bool":case"boolean":return Cu;case"string":return Au}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+t)}function kte(t){if(t.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=Dte(t.type);if(t.times===void 0){const n=[],r=[];FA(t.keys,n,r,"value"),t.times=n,t.values=r}return e.parse!==void 0?e.parse(t):new e(t.name,t.times,t.values,t.interpolation)}const Eo={enabled:!1,files:{},add:function(t,e){this.enabled!==!1&&(this.files[t]=e)},get:function(t){if(this.enabled!==!1)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}};class zA{constructor(e,n,r){const i=this;let s=!1,o=0,a=0,l;const c=[];this.onStart=void 0,this.onLoad=e,this.onProgress=n,this.onError=r,this.itemStart=function(d){a++,s===!1&&i.onStart!==void 0&&i.onStart(d,o,a),s=!0},this.itemEnd=function(d){o++,i.onProgress!==void 0&&i.onProgress(d,o,a),o===a&&(s=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(d){i.onError!==void 0&&i.onError(d)},this.resolveURL=function(d){return l?l(d):d},this.setURLModifier=function(d){return l=d,this},this.addHandler=function(d,h){return c.push(d,h),this},this.removeHandler=function(d){const h=c.indexOf(d);return h!==-1&&c.splice(h,2),this},this.getHandler=function(d){for(let h=0,p=c.length;h<p;h+=2){const m=c[h],v=c[h+1];if(m.global&&(m.lastIndex=0),m.test(d))return v}return null}}}const wV=new zA;class zi{constructor(e){this.manager=e!==void 0?e:wV,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,n){const r=this;return new Promise(function(i,s){r.load(e,i,n,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}zi.DEFAULT_MATERIAL_NAME="__DEFAULT";const ta={};class Ote extends Error{constructor(e,n){super(e),this.response=n}}class Pa extends zi{constructor(e){super(e),this.mimeType="",this.responseType=""}load(e,n,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=Eo.get(`file:${e}`);if(s!==void 0)return this.manager.itemStart(e),setTimeout(()=>{n&&n(s),this.manager.itemEnd(e)},0),s;if(ta[e]!==void 0){ta[e].push({onLoad:n,onProgress:r,onError:i});return}ta[e]=[],ta[e].push({onLoad:n,onProgress:r,onError:i});const o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),a=this.mimeType,l=this.responseType;fetch(o).then(c=>{if(c.status===200||c.status===0){if(c.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||c.body===void 0||c.body.getReader===void 0)return c;const d=ta[e],h=c.body.getReader(),p=c.headers.get("X-File-Size")||c.headers.get("Content-Length"),m=p?parseInt(p):0,v=m!==0;let x=0;const y=new ReadableStream({start(g){w();function w(){h.read().then(({done:b,value:E})=>{if(b)g.close();else{x+=E.byteLength;const C=new ProgressEvent("progress",{lengthComputable:v,loaded:x,total:m});for(let A=0,I=d.length;A<I;A++){const D=d[A];D.onProgress&&D.onProgress(C)}g.enqueue(E),w()}},b=>{g.error(b)})}}});return new Response(y)}else throw new Ote(`fetch for "${c.url}" responded with ${c.status}: ${c.statusText}`,c)}).then(c=>{switch(l){case"arraybuffer":return c.arrayBuffer();case"blob":return c.blob();case"document":return c.text().then(d=>new DOMParser().parseFromString(d,a));case"json":return c.json();default:if(a==="")return c.text();{const h=/charset="?([^;"\s]*)"?/i.exec(a),p=h&&h[1]?h[1].toLowerCase():void 0,m=new TextDecoder(p);return c.arrayBuffer().then(v=>m.decode(v))}}}).then(c=>{Eo.add(`file:${e}`,c);const d=ta[e];delete ta[e];for(let h=0,p=d.length;h<p;h++){const m=d[h];m.onLoad&&m.onLoad(c)}}).catch(c=>{const d=ta[e];if(d===void 0)throw this.manager.itemError(e),c;delete ta[e];for(let h=0,p=d.length;h<p;h++){const m=d[h];m.onError&&m.onError(c)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class Fte extends zi{constructor(e){super(e)}load(e,n,r,i){const s=this,o=new Pa(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{n(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const n=[];for(let r=0;r<e.length;r++){const i=Mm.parse(e[r]);n.push(i)}return n}}class Ute extends zi{constructor(e){super(e)}load(e,n,r,i){const s=this,o=[],a=new nw,l=new Pa(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(s.withCredentials);let c=0;function d(h){l.load(e[h],function(p){const m=s.parse(p,!0);o[h]={width:m.width,height:m.height,format:m.format,mipmaps:m.mipmaps},c+=1,c===6&&(m.mipmapCount===1&&(a.minFilter=yr),a.image=o,a.format=m.format,a.needsUpdate=!0,n&&n(a))},r,i)}if(Array.isArray(e))for(let h=0,p=e.length;h<p;++h)d(h);else l.load(e,function(h){const p=s.parse(h,!0);if(p.isCubemap){const m=p.mipmaps.length/p.mipmapCount;for(let v=0;v<m;v++){o[v]={mipmaps:[]};for(let x=0;x<p.mipmapCount;x++)o[v].mipmaps.push(p.mipmaps[v*p.mipmapCount+x]),o[v].format=p.format,o[v].width=p.width,o[v].height=p.height}a.image=o}else a.image.width=p.width,a.image.height=p.height,a.mipmaps=p.mipmaps;p.mipmapCount===1&&(a.minFilter=yr),a.format=p.format,a.needsUpdate=!0,n&&n(a)},r,i);return a}}const cd=new WeakMap;class Em extends zi{constructor(e){super(e)}load(e,n,r,i){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=Eo.get(`image:${e}`);if(o!==void 0){if(o.complete===!0)s.manager.itemStart(e),setTimeout(function(){n&&n(o),s.manager.itemEnd(e)},0);else{let h=cd.get(o);h===void 0&&(h=[],cd.set(o,h)),h.push({onLoad:n,onError:i})}return o}const a=ym("img");function l(){d(),n&&n(this);const h=cd.get(this)||[];for(let p=0;p<h.length;p++){const m=h[p];m.onLoad&&m.onLoad(this)}cd.delete(this),s.manager.itemEnd(e)}function c(h){d(),i&&i(h),Eo.remove(`image:${e}`);const p=cd.get(this)||[];for(let m=0;m<p.length;m++){const v=p[m];v.onError&&v.onError(h)}cd.delete(this),s.manager.itemError(e),s.manager.itemEnd(e)}function d(){a.removeEventListener("load",l,!1),a.removeEventListener("error",c,!1)}return a.addEventListener("load",l,!1),a.addEventListener("error",c,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(a.crossOrigin=this.crossOrigin),Eo.add(`image:${e}`,a),s.manager.itemStart(e),a.src=e,a}}class Bte extends zi{constructor(e){super(e)}load(e,n,r,i){const s=new $m;s.colorSpace=Ri;const o=new Em(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let a=0;function l(c){o.load(e[c],function(d){s.images[c]=d,a++,a===6&&(s.needsUpdate=!0,n&&n(s))},void 0,i)}for(let c=0;c<e.length;++c)l(c);return s}}class zte extends zi{constructor(e){super(e)}load(e,n,r,i){const s=this,o=new Lo,a=new Pa(this.manager);return a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setPath(this.path),a.setWithCredentials(s.withCredentials),a.load(e,function(l){let c;try{c=s.parse(l)}catch(d){if(i!==void 0)i(d);else{console.error(d);return}}c.image!==void 0?o.image=c.image:c.data!==void 0&&(o.image.width=c.width,o.image.height=c.height,o.image.data=c.data),o.wrapS=c.wrapS!==void 0?c.wrapS:Ms,o.wrapT=c.wrapT!==void 0?c.wrapT:Ms,o.magFilter=c.magFilter!==void 0?c.magFilter:yr,o.minFilter=c.minFilter!==void 0?c.minFilter:yr,o.anisotropy=c.anisotropy!==void 0?c.anisotropy:1,c.colorSpace!==void 0&&(o.colorSpace=c.colorSpace),c.flipY!==void 0&&(o.flipY=c.flipY),c.format!==void 0&&(o.format=c.format),c.type!==void 0&&(o.type=c.type),c.mipmaps!==void 0&&(o.mipmaps=c.mipmaps,o.minFilter=Mo),c.mipmapCount===1&&(o.minFilter=yr),c.generateMipmaps!==void 0&&(o.generateMipmaps=c.generateMipmaps),o.needsUpdate=!0,n&&n(o,c)},r,i),o}}class Vte extends zi{constructor(e){super(e)}load(e,n,r,i){const s=new Qn,o=new Em(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(a){s.image=a,s.needsUpdate=!0,n!==void 0&&n(s)},r,i),s}}class Jl extends pn{constructor(e,n=1){super(),this.isLight=!0,this.type="Light",this.color=new lt(e),this.intensity=n}dispose(){}copy(e,n){return super.copy(e,n),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const n=super.toJSON(e);return n.object.color=this.color.getHex(),n.object.intensity=this.intensity,this.groundColor!==void 0&&(n.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(n.object.distance=this.distance),this.angle!==void 0&&(n.object.angle=this.angle),this.decay!==void 0&&(n.object.decay=this.decay),this.penumbra!==void 0&&(n.object.penumbra=this.penumbra),this.shadow!==void 0&&(n.object.shadow=this.shadow.toJSON()),this.target!==void 0&&(n.object.target=this.target.uuid),n}}class SV extends Jl{constructor(e,n,r){super(e,r),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(pn.DEFAULT_UP),this.updateMatrix(),this.groundColor=new lt(n)}copy(e,n){return super.copy(e,n),this.groundColor.copy(e.groundColor),this}}const pb=new Tt,eD=new H,tD=new H;class VA{constructor(e){this.camera=e,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Te(512,512),this.mapType=Is,this.map=null,this.mapPass=null,this.matrix=new Tt,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new qf,this._frameExtents=new Te(1,1),this._viewportCount=1,this._viewports=[new dn(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const n=this.camera,r=this.matrix;eD.setFromMatrixPosition(e.matrixWorld),n.position.copy(eD),tD.setFromMatrixPosition(e.target.matrixWorld),n.lookAt(tD),n.updateMatrixWorld(),pb.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(pb),r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(pb)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.intensity=e.intensity,this.bias=e.bias,this.radius=e.radius,this.autoUpdate=e.autoUpdate,this.needsUpdate=e.needsUpdate,this.normalBias=e.normalBias,this.blurSamples=e.blurSamples,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.intensity!==1&&(e.intensity=this.intensity),this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class jte extends VA{constructor(){super(new rr(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1,this.aspect=1}updateMatrices(e){const n=this.camera,r=Af*2*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height*this.aspect,s=e.distance||n.far;(r!==n.fov||i!==n.aspect||s!==n.far)&&(n.fov=r,n.aspect=i,n.far=s,n.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class bV extends Jl{constructor(e,n,r=0,i=Math.PI/3,s=0,o=2){super(e,n),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(pn.DEFAULT_UP),this.updateMatrix(),this.target=new pn,this.distance=r,this.angle=i,this.penumbra=s,this.decay=o,this.map=null,this.shadow=new jte}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const nD=new Tt,zh=new H,mb=new H;class Hte extends VA{constructor(){super(new rr(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new Te(4,2),this._viewportCount=6,this._viewports=[new dn(2,1,1,1),new dn(0,1,1,1),new dn(3,1,1,1),new dn(1,1,1,1),new dn(3,0,1,1),new dn(1,0,1,1)],this._cubeDirections=[new H(1,0,0),new H(-1,0,0),new H(0,0,1),new H(0,0,-1),new H(0,1,0),new H(0,-1,0)],this._cubeUps=[new H(0,1,0),new H(0,1,0),new H(0,1,0),new H(0,1,0),new H(0,0,1),new H(0,0,-1)]}updateMatrices(e,n=0){const r=this.camera,i=this.matrix,s=e.distance||r.far;s!==r.far&&(r.far=s,r.updateProjectionMatrix()),zh.setFromMatrixPosition(e.matrixWorld),r.position.copy(zh),mb.copy(r.position),mb.add(this._cubeDirections[n]),r.up.copy(this._cubeUps[n]),r.lookAt(mb),r.updateMatrixWorld(),i.makeTranslation(-zh.x,-zh.y,-zh.z),nD.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromProjectionMatrix(nD)}}class MV extends Jl{constructor(e,n,r=0,i=2){super(e,n),this.isPointLight=!0,this.type="PointLight",this.distance=r,this.decay=i,this.shadow=new Hte}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class Nl extends Xm{constructor(e=-1,n=1,r=1,i=-1,s=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=n,this.top=r,this.bottom=i,this.near=s,this.far=o,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,n,r,i,s,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),n=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let s=r-e,o=r+e,a=i+n,l=i-n;if(this.view!==null&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,d=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=c*this.view.offsetX,o=s+c*this.view.width,a-=d*this.view.offsetY,l=a-d*this.view.height}this.projectionMatrix.makeOrthographic(s,o,a,l,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.zoom=this.zoom,n.object.left=this.left,n.object.right=this.right,n.object.top=this.top,n.object.bottom=this.bottom,n.object.near=this.near,n.object.far=this.far,this.view!==null&&(n.object.view=Object.assign({},this.view)),n}}class Wte extends VA{constructor(){super(new Nl(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class EV extends Jl{constructor(e,n){super(e,n),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(pn.DEFAULT_UP),this.updateMatrix(),this.target=new pn,this.shadow=new Wte}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class TV extends Jl{constructor(e,n){super(e,n),this.isAmbientLight=!0,this.type="AmbientLight"}}class CV extends Jl{constructor(e,n,r=10,i=10){super(e,n),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=r,this.height=i}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const n=super.toJSON(e);return n.object.width=this.width,n.object.height=this.height,n}}class AV{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new H)}set(e){for(let n=0;n<9;n++)this.coefficients[n].copy(e[n]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,n){const r=e.x,i=e.y,s=e.z,o=this.coefficients;return n.copy(o[0]).multiplyScalar(.282095),n.addScaledVector(o[1],.488603*i),n.addScaledVector(o[2],.488603*s),n.addScaledVector(o[3],.488603*r),n.addScaledVector(o[4],1.092548*(r*i)),n.addScaledVector(o[5],1.092548*(i*s)),n.addScaledVector(o[6],.315392*(3*s*s-1)),n.addScaledVector(o[7],1.092548*(r*s)),n.addScaledVector(o[8],.546274*(r*r-i*i)),n}getIrradianceAt(e,n){const r=e.x,i=e.y,s=e.z,o=this.coefficients;return n.copy(o[0]).multiplyScalar(.886227),n.addScaledVector(o[1],2*.511664*i),n.addScaledVector(o[2],2*.511664*s),n.addScaledVector(o[3],2*.511664*r),n.addScaledVector(o[4],2*.429043*r*i),n.addScaledVector(o[5],2*.429043*i*s),n.addScaledVector(o[6],.743125*s*s-.247708),n.addScaledVector(o[7],2*.429043*r*s),n.addScaledVector(o[8],.429043*(r*r-i*i)),n}add(e){for(let n=0;n<9;n++)this.coefficients[n].add(e.coefficients[n]);return this}addScaledSH(e,n){for(let r=0;r<9;r++)this.coefficients[r].addScaledVector(e.coefficients[r],n);return this}scale(e){for(let n=0;n<9;n++)this.coefficients[n].multiplyScalar(e);return this}lerp(e,n){for(let r=0;r<9;r++)this.coefficients[r].lerp(e.coefficients[r],n);return this}equals(e){for(let n=0;n<9;n++)if(!this.coefficients[n].equals(e.coefficients[n]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,n=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].fromArray(e,n+i*3);return this}toArray(e=[],n=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].toArray(e,n+i*3);return e}static getBasisAt(e,n){const r=e.x,i=e.y,s=e.z;n[0]=.282095,n[1]=.488603*i,n[2]=.488603*s,n[3]=.488603*r,n[4]=1.092548*r*i,n[5]=1.092548*i*s,n[6]=.315392*(3*s*s-1),n[7]=1.092548*r*s,n[8]=.546274*(r*r-i*i)}}class PV extends Jl{constructor(e=new AV,n=1){super(void 0,n),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const n=super.toJSON(e);return n.object.sh=this.sh.toArray(),n}}class gw extends zi{constructor(e){super(e),this.textures={}}load(e,n,r,i){const s=this,o=new Pa(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{n(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const n=this.textures;function r(s){return n[s]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",s),n[s]}const i=this.createMaterialFromType(e.type);if(e.uuid!==void 0&&(i.uuid=e.uuid),e.name!==void 0&&(i.name=e.name),e.color!==void 0&&i.color!==void 0&&i.color.setHex(e.color),e.roughness!==void 0&&(i.roughness=e.roughness),e.metalness!==void 0&&(i.metalness=e.metalness),e.sheen!==void 0&&(i.sheen=e.sheen),e.sheenColor!==void 0&&(i.sheenColor=new lt().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(i.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&i.emissive!==void 0&&i.emissive.setHex(e.emissive),e.specular!==void 0&&i.specular!==void 0&&i.specular.setHex(e.specular),e.specularIntensity!==void 0&&(i.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&i.specularColor!==void 0&&i.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(i.shininess=e.shininess),e.clearcoat!==void 0&&(i.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=e.clearcoatRoughness),e.dispersion!==void 0&&(i.dispersion=e.dispersion),e.iridescence!==void 0&&(i.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(i.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(i.transmission=e.transmission),e.thickness!==void 0&&(i.thickness=e.thickness),e.attenuationDistance!==void 0&&(i.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&i.attenuationColor!==void 0&&i.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(i.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(i.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(i.fog=e.fog),e.flatShading!==void 0&&(i.flatShading=e.flatShading),e.blending!==void 0&&(i.blending=e.blending),e.combine!==void 0&&(i.combine=e.combine),e.side!==void 0&&(i.side=e.side),e.shadowSide!==void 0&&(i.shadowSide=e.shadowSide),e.opacity!==void 0&&(i.opacity=e.opacity),e.transparent!==void 0&&(i.transparent=e.transparent),e.alphaTest!==void 0&&(i.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(i.alphaHash=e.alphaHash),e.depthFunc!==void 0&&(i.depthFunc=e.depthFunc),e.depthTest!==void 0&&(i.depthTest=e.depthTest),e.depthWrite!==void 0&&(i.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(i.colorWrite=e.colorWrite),e.blendSrc!==void 0&&(i.blendSrc=e.blendSrc),e.blendDst!==void 0&&(i.blendDst=e.blendDst),e.blendEquation!==void 0&&(i.blendEquation=e.blendEquation),e.blendSrcAlpha!==void 0&&(i.blendSrcAlpha=e.blendSrcAlpha),e.blendDstAlpha!==void 0&&(i.blendDstAlpha=e.blendDstAlpha),e.blendEquationAlpha!==void 0&&(i.blendEquationAlpha=e.blendEquationAlpha),e.blendColor!==void 0&&i.blendColor!==void 0&&i.blendColor.setHex(e.blendColor),e.blendAlpha!==void 0&&(i.blendAlpha=e.blendAlpha),e.stencilWriteMask!==void 0&&(i.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(i.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(i.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(i.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(i.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(i.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(i.stencilZPass=e.stencilZPass),e.stencilWrite!==void 0&&(i.stencilWrite=e.stencilWrite),e.wireframe!==void 0&&(i.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(i.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(i.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(i.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(i.rotation=e.rotation),e.linewidth!==void 0&&(i.linewidth=e.linewidth),e.dashSize!==void 0&&(i.dashSize=e.dashSize),e.gapSize!==void 0&&(i.gapSize=e.gapSize),e.scale!==void 0&&(i.scale=e.scale),e.polygonOffset!==void 0&&(i.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(i.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(i.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(i.dithering=e.dithering),e.alphaToCoverage!==void 0&&(i.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(i.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(i.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(i.visible=e.visible),e.toneMapped!==void 0&&(i.toneMapped=e.toneMapped),e.userData!==void 0&&(i.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?i.vertexColors=e.vertexColors>0:i.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const s in e.uniforms){const o=e.uniforms[s];switch(i.uniforms[s]={},o.type){case"t":i.uniforms[s].value=r(o.value);break;case"c":i.uniforms[s].value=new lt().setHex(o.value);break;case"v2":i.uniforms[s].value=new Te().fromArray(o.value);break;case"v3":i.uniforms[s].value=new H().fromArray(o.value);break;case"v4":i.uniforms[s].value=new dn().fromArray(o.value);break;case"m3":i.uniforms[s].value=new Dt().fromArray(o.value);break;case"m4":i.uniforms[s].value=new Tt().fromArray(o.value);break;default:i.uniforms[s].value=o.value}}if(e.defines!==void 0&&(i.defines=e.defines),e.vertexShader!==void 0&&(i.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(i.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(i.glslVersion=e.glslVersion),e.extensions!==void 0)for(const s in e.extensions)i.extensions[s]=e.extensions[s];if(e.lights!==void 0&&(i.lights=e.lights),e.clipping!==void 0&&(i.clipping=e.clipping),e.size!==void 0&&(i.size=e.size),e.sizeAttenuation!==void 0&&(i.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(i.map=r(e.map)),e.matcap!==void 0&&(i.matcap=r(e.matcap)),e.alphaMap!==void 0&&(i.alphaMap=r(e.alphaMap)),e.bumpMap!==void 0&&(i.bumpMap=r(e.bumpMap)),e.bumpScale!==void 0&&(i.bumpScale=e.bumpScale),e.normalMap!==void 0&&(i.normalMap=r(e.normalMap)),e.normalMapType!==void 0&&(i.normalMapType=e.normalMapType),e.normalScale!==void 0){let s=e.normalScale;Array.isArray(s)===!1&&(s=[s,s]),i.normalScale=new Te().fromArray(s)}return e.displacementMap!==void 0&&(i.displacementMap=r(e.displacementMap)),e.displacementScale!==void 0&&(i.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(i.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(i.roughnessMap=r(e.roughnessMap)),e.metalnessMap!==void 0&&(i.metalnessMap=r(e.metalnessMap)),e.emissiveMap!==void 0&&(i.emissiveMap=r(e.emissiveMap)),e.emissiveIntensity!==void 0&&(i.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(i.specularMap=r(e.specularMap)),e.specularIntensityMap!==void 0&&(i.specularIntensityMap=r(e.specularIntensityMap)),e.specularColorMap!==void 0&&(i.specularColorMap=r(e.specularColorMap)),e.envMap!==void 0&&(i.envMap=r(e.envMap)),e.envMapRotation!==void 0&&i.envMapRotation.fromArray(e.envMapRotation),e.envMapIntensity!==void 0&&(i.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(i.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(i.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(i.lightMap=r(e.lightMap)),e.lightMapIntensity!==void 0&&(i.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(i.aoMap=r(e.aoMap)),e.aoMapIntensity!==void 0&&(i.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(i.gradientMap=r(e.gradientMap)),e.clearcoatMap!==void 0&&(i.clearcoatMap=r(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(i.clearcoatRoughnessMap=r(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(i.clearcoatNormalMap=r(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(i.clearcoatNormalScale=new Te().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(i.iridescenceMap=r(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(i.iridescenceThicknessMap=r(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(i.transmissionMap=r(e.transmissionMap)),e.thicknessMap!==void 0&&(i.thicknessMap=r(e.thicknessMap)),e.anisotropyMap!==void 0&&(i.anisotropyMap=r(e.anisotropyMap)),e.sheenColorMap!==void 0&&(i.sheenColorMap=r(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(i.sheenRoughnessMap=r(e.sheenRoughnessMap)),i}setTextures(e){return this.textures=e,this}createMaterialFromType(e){return gw.createMaterialFromType(e)}static createMaterialFromType(e){const n={ShadowMaterial:aV,SpriteMaterial:MA,RawShaderMaterial:lV,ShaderMaterial:to,PointsMaterial:TA,MeshPhysicalMaterial:cV,MeshStandardMaterial:DA,MeshPhongMaterial:uV,MeshToonMaterial:dV,MeshNormalMaterial:fV,MeshLambertMaterial:hV,MeshDepthMaterial:kA,MeshDistanceMaterial:OA,MeshBasicMaterial:Kl,MeshMatcapMaterial:pV,LineDashedMaterial:mV,LineBasicMaterial:_i,Material:ri};return new n[e]}}class zE{static extractUrlBase(e){const n=e.lastIndexOf("/");return n===-1?"./":e.slice(0,n+1)}static resolveURL(e,n){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(n)&&/^\//.test(e)&&(n=n.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:n+e)}}class RV extends Ft{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class IV extends zi{constructor(e){super(e)}load(e,n,r,i){const s=this,o=new Pa(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{n(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const n={},r={};function i(m,v){if(n[v]!==void 0)return n[v];const y=m.interleavedBuffers[v],g=s(m,y.buffer),w=Ud(y.type,g),b=new J_(w,y.stride);return b.uuid=y.uuid,n[v]=b,b}function s(m,v){if(r[v]!==void 0)return r[v];const y=m.arrayBuffers[v],g=new Uint32Array(y).buffer;return r[v]=g,g}const o=e.isInstancedBufferGeometry?new RV:new Ft,a=e.data.index;if(a!==void 0){const m=Ud(a.type,a.array);o.setIndex(new Mn(m,1))}const l=e.data.attributes;for(const m in l){const v=l[m];let x;if(v.isInterleavedBufferAttribute){const y=i(e.data,v.data);x=new pu(y,v.itemSize,v.offset,v.normalized)}else{const y=Ud(v.type,v.array),g=v.isInstancedBufferAttribute?Rf:Mn;x=new g(y,v.itemSize,v.normalized)}v.name!==void 0&&(x.name=v.name),v.usage!==void 0&&x.setUsage(v.usage),o.setAttribute(m,x)}const c=e.data.morphAttributes;if(c)for(const m in c){const v=c[m],x=[];for(let y=0,g=v.length;y<g;y++){const w=v[y];let b;if(w.isInterleavedBufferAttribute){const E=i(e.data,w.data);b=new pu(E,w.itemSize,w.offset,w.normalized)}else{const E=Ud(w.type,w.array);b=new Mn(E,w.itemSize,w.normalized)}w.name!==void 0&&(b.name=w.name),x.push(b)}o.morphAttributes[m]=x}e.data.morphTargetsRelative&&(o.morphTargetsRelative=!0);const h=e.data.groups||e.data.drawcalls||e.data.offsets;if(h!==void 0)for(let m=0,v=h.length;m!==v;++m){const x=h[m];o.addGroup(x.start,x.count,x.materialIndex)}const p=e.data.boundingSphere;return p!==void 0&&(o.boundingSphere=new kr().fromJSON(p)),e.name&&(o.name=e.name),e.userData&&(o.userData=e.userData),o}}class Gte extends zi{constructor(e){super(e)}load(e,n,r,i){const s=this,o=this.path===""?zE.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o;const a=new Pa(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(l){let c=null;try{c=JSON.parse(l)}catch(h){i!==void 0&&i(h),console.error("THREE:ObjectLoader: Can't parse "+e+".",h.message);return}const d=c.metadata;if(d===void 0||d.type===void 0||d.type.toLowerCase()==="geometry"){i!==void 0&&i(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}s.parse(c,n)},r,i)}async loadAsync(e,n){const r=this,i=this.path===""?zE.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||i;const s=new Pa(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials);const o=await s.loadAsync(e,n),a=JSON.parse(o),l=a.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await r.parseAsync(a)}parse(e,n){const r=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),s=this.parseGeometries(e.geometries,i),o=this.parseImages(e.images,function(){n!==void 0&&n(c)}),a=this.parseTextures(e.textures,o),l=this.parseMaterials(e.materials,a),c=this.parseObject(e.object,s,l,a,r),d=this.parseSkeletons(e.skeletons,c);if(this.bindSkeletons(c,d),this.bindLightTargets(c),n!==void 0){let h=!1;for(const p in o)if(o[p].data instanceof HTMLImageElement){h=!0;break}h===!1&&n(c)}return c}async parseAsync(e){const n=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),i=this.parseGeometries(e.geometries,r),s=await this.parseImagesAsync(e.images),o=this.parseTextures(e.textures,s),a=this.parseMaterials(e.materials,o),l=this.parseObject(e.object,i,a,o,n),c=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,c),this.bindLightTargets(l),l}parseShapes(e){const n={};if(e!==void 0)for(let r=0,i=e.length;r<i;r++){const s=new iu().fromJSON(e[r]);n[s.uuid]=s}return n}parseSkeletons(e,n){const r={},i={};if(n.traverse(function(s){s.isBone&&(i[s.uuid]=s)}),e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=new ew().fromJSON(e[s],i);r[a.uuid]=a}return r}parseGeometries(e,n){const r={};if(e!==void 0){const i=new IV;for(let s=0,o=e.length;s<o;s++){let a;const l=e[s];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":a=i.parse(l);break;default:l.type in JL?a=JL[l.type].fromJSON(l,n):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${l.type}"`)}a.uuid=l.uuid,l.name!==void 0&&(a.name=l.name),l.userData!==void 0&&(a.userData=l.userData),r[l.uuid]=a}}return r}parseMaterials(e,n){const r={},i={};if(e!==void 0){const s=new gw;s.setTextures(n);for(let o=0,a=e.length;o<a;o++){const l=e[o];r[l.uuid]===void 0&&(r[l.uuid]=s.parse(l)),i[l.uuid]=r[l.uuid]}}return i}parseAnimations(e){const n={};if(e!==void 0)for(let r=0;r<e.length;r++){const i=e[r],s=Mm.parse(i);n[s.uuid]=s}return n}parseImages(e,n){const r=this,i={};let s;function o(l){return r.manager.itemStart(l),s.load(l,function(){r.manager.itemEnd(l)},void 0,function(){r.manager.itemError(l),r.manager.itemEnd(l)})}function a(l){if(typeof l=="string"){const c=l,d=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(c)?c:r.resourcePath+c;return o(d)}else return l.data?{data:Ud(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){const l=new zA(n);s=new Em(l),s.setCrossOrigin(this.crossOrigin);for(let c=0,d=e.length;c<d;c++){const h=e[c],p=h.url;if(Array.isArray(p)){const m=[];for(let v=0,x=p.length;v<x;v++){const y=p[v],g=a(y);g!==null&&(g instanceof HTMLImageElement?m.push(g):m.push(new Lo(g.data,g.width,g.height)))}i[h.uuid]=new Sl(m)}else{const m=a(h.url);i[h.uuid]=new Sl(m)}}}return i}async parseImagesAsync(e){const n=this,r={};let i;async function s(o){if(typeof o=="string"){const a=o,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(a)?a:n.resourcePath+a;return await i.loadAsync(l)}else return o.data?{data:Ud(o.type,o.data),width:o.width,height:o.height}:null}if(e!==void 0&&e.length>0){i=new Em(this.manager),i.setCrossOrigin(this.crossOrigin);for(let o=0,a=e.length;o<a;o++){const l=e[o],c=l.url;if(Array.isArray(c)){const d=[];for(let h=0,p=c.length;h<p;h++){const m=c[h],v=await s(m);v!==null&&(v instanceof HTMLImageElement?d.push(v):d.push(new Lo(v.data,v.width,v.height)))}r[l.uuid]=new Sl(d)}else{const d=await s(l.url);r[l.uuid]=new Sl(d)}}}return r}parseTextures(e,n){function r(s,o){return typeof s=="number"?s:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",s),o[s])}const i={};if(e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=e[s];a.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',a.uuid),n[a.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",a.image);const l=n[a.image],c=l.data;let d;Array.isArray(c)?(d=new $m,c.length===6&&(d.needsUpdate=!0)):(c&&c.data?d=new Lo:d=new Qn,c&&(d.needsUpdate=!0)),d.source=l,d.uuid=a.uuid,a.name!==void 0&&(d.name=a.name),a.mapping!==void 0&&(d.mapping=r(a.mapping,Xte)),a.channel!==void 0&&(d.channel=a.channel),a.offset!==void 0&&d.offset.fromArray(a.offset),a.repeat!==void 0&&d.repeat.fromArray(a.repeat),a.center!==void 0&&d.center.fromArray(a.center),a.rotation!==void 0&&(d.rotation=a.rotation),a.wrap!==void 0&&(d.wrapS=r(a.wrap[0],rD),d.wrapT=r(a.wrap[1],rD)),a.format!==void 0&&(d.format=a.format),a.internalFormat!==void 0&&(d.internalFormat=a.internalFormat),a.type!==void 0&&(d.type=a.type),a.colorSpace!==void 0&&(d.colorSpace=a.colorSpace),a.minFilter!==void 0&&(d.minFilter=r(a.minFilter,iD)),a.magFilter!==void 0&&(d.magFilter=r(a.magFilter,iD)),a.anisotropy!==void 0&&(d.anisotropy=a.anisotropy),a.flipY!==void 0&&(d.flipY=a.flipY),a.generateMipmaps!==void 0&&(d.generateMipmaps=a.generateMipmaps),a.premultiplyAlpha!==void 0&&(d.premultiplyAlpha=a.premultiplyAlpha),a.unpackAlignment!==void 0&&(d.unpackAlignment=a.unpackAlignment),a.compareFunction!==void 0&&(d.compareFunction=a.compareFunction),a.userData!==void 0&&(d.userData=a.userData),i[a.uuid]=d}return i}parseObject(e,n,r,i,s){let o;function a(p){return n[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",p),n[p]}function l(p){if(p!==void 0){if(Array.isArray(p)){const m=[];for(let v=0,x=p.length;v<x;v++){const y=p[v];r[y]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",y),m.push(r[y])}return m}return r[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",p),r[p]}}function c(p){return i[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",p),i[p]}let d,h;switch(e.type){case"Scene":o=new bA,e.background!==void 0&&(Number.isInteger(e.background)?o.background=new lt(e.background):o.background=c(e.background)),e.environment!==void 0&&(o.environment=c(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?o.fog=new Q_(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(o.fog=new K_(e.fog.color,e.fog.density)),e.fog.name!==""&&(o.fog.name=e.fog.name)),e.backgroundBlurriness!==void 0&&(o.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(o.backgroundIntensity=e.backgroundIntensity),e.backgroundRotation!==void 0&&o.backgroundRotation.fromArray(e.backgroundRotation),e.environmentIntensity!==void 0&&(o.environmentIntensity=e.environmentIntensity),e.environmentRotation!==void 0&&o.environmentRotation.fromArray(e.environmentRotation);break;case"PerspectiveCamera":o=new rr(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(o.focus=e.focus),e.zoom!==void 0&&(o.zoom=e.zoom),e.filmGauge!==void 0&&(o.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(o.filmOffset=e.filmOffset),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"OrthographicCamera":o=new Nl(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(o.zoom=e.zoom),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"AmbientLight":o=new TV(e.color,e.intensity);break;case"DirectionalLight":o=new EV(e.color,e.intensity),o.target=e.target||"";break;case"PointLight":o=new MV(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":o=new CV(e.color,e.intensity,e.width,e.height);break;case"SpotLight":o=new bV(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay),o.target=e.target||"";break;case"HemisphereLight":o=new SV(e.color,e.groundColor,e.intensity);break;case"LightProbe":o=new PV().fromJSON(e);break;case"SkinnedMesh":d=a(e.geometry),h=l(e.material),o=new W4(d,h),e.bindMode!==void 0&&(o.bindMode=e.bindMode),e.bindMatrix!==void 0&&o.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(o.skeleton=e.skeleton);break;case"Mesh":d=a(e.geometry),h=l(e.material),o=new dr(d,h);break;case"InstancedMesh":d=a(e.geometry),h=l(e.material);const p=e.count,m=e.instanceMatrix,v=e.instanceColor;o=new G4(d,h,p),o.instanceMatrix=new Rf(new Float32Array(m.array),16),v!==void 0&&(o.instanceColor=new Rf(new Float32Array(v.array),v.itemSize));break;case"BatchedMesh":d=a(e.geometry),h=l(e.material),o=new X4(e.maxInstanceCount,e.maxVertexCount,e.maxIndexCount,h),o.geometry=d,o.perObjectFrustumCulled=e.perObjectFrustumCulled,o.sortObjects=e.sortObjects,o._drawRanges=e.drawRanges,o._reservedRanges=e.reservedRanges,o._geometryInfo=e.geometryInfo.map(x=>{let y=null,g=null;return x.boundingBox!==void 0&&(y=new ei().fromJSON(x.boundingBox)),x.boundingSphere!==void 0&&(g=new kr().fromJSON(x.boundingSphere)),{...x,boundingBox:y,boundingSphere:g}}),o._instanceInfo=e.instanceInfo,o._availableInstanceIds=e._availableInstanceIds,o._availableGeometryIds=e._availableGeometryIds,o._nextIndexStart=e.nextIndexStart,o._nextVertexStart=e.nextVertexStart,o._geometryCount=e.geometryCount,o._maxInstanceCount=e.maxInstanceCount,o._maxVertexCount=e.maxVertexCount,o._maxIndexCount=e.maxIndexCount,o._geometryInitialized=e.geometryInitialized,o._matricesTexture=c(e.matricesTexture.uuid),o._indirectTexture=c(e.indirectTexture.uuid),e.colorsTexture!==void 0&&(o._colorsTexture=c(e.colorsTexture.uuid)),e.boundingSphere!==void 0&&(o.boundingSphere=new kr().fromJSON(e.boundingSphere)),e.boundingBox!==void 0&&(o.boundingBox=new ei().fromJSON(e.boundingBox));break;case"LOD":o=new H4;break;case"Line":o=new Hl(a(e.geometry),l(e.material));break;case"LineLoop":o=new $4(a(e.geometry),l(e.material));break;case"LineSegments":o=new zo(a(e.geometry),l(e.material));break;case"PointCloud":case"Points":o=new Y4(a(e.geometry),l(e.material));break;case"Sprite":o=new j4(l(e.material));break;case"Group":o=new Bd;break;case"Bone":o=new EA;break;default:o=new pn}if(o.uuid=e.uuid,e.name!==void 0&&(o.name=e.name),e.matrix!==void 0?(o.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(o.matrixAutoUpdate=e.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(e.position!==void 0&&o.position.fromArray(e.position),e.rotation!==void 0&&o.rotation.fromArray(e.rotation),e.quaternion!==void 0&&o.quaternion.fromArray(e.quaternion),e.scale!==void 0&&o.scale.fromArray(e.scale)),e.up!==void 0&&o.up.fromArray(e.up),e.castShadow!==void 0&&(o.castShadow=e.castShadow),e.receiveShadow!==void 0&&(o.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.intensity!==void 0&&(o.shadow.intensity=e.shadow.intensity),e.shadow.bias!==void 0&&(o.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(o.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(o.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&o.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(o.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(o.visible=e.visible),e.frustumCulled!==void 0&&(o.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(o.renderOrder=e.renderOrder),e.userData!==void 0&&(o.userData=e.userData),e.layers!==void 0&&(o.layers.mask=e.layers),e.children!==void 0){const p=e.children;for(let m=0;m<p.length;m++)o.add(this.parseObject(p[m],n,r,i,s))}if(e.animations!==void 0){const p=e.animations;for(let m=0;m<p.length;m++){const v=p[m];o.animations.push(s[v])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(o.autoUpdate=e.autoUpdate);const p=e.levels;for(let m=0;m<p.length;m++){const v=p[m],x=o.getObjectByProperty("uuid",v.object);x!==void 0&&o.addLevel(x,v.distance,v.hysteresis)}}return o}bindSkeletons(e,n){Object.keys(n).length!==0&&e.traverse(function(r){if(r.isSkinnedMesh===!0&&r.skeleton!==void 0){const i=n[r.skeleton];i===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",r.skeleton):r.bind(i,r.bindMatrix)}})}bindLightTargets(e){e.traverse(function(n){if(n.isDirectionalLight||n.isSpotLight){const r=n.target,i=e.getObjectByProperty("uuid",r);i!==void 0?n.target=i:n.target=new pn}})}}const Xte={UVMapping:V_,CubeReflectionMapping:Ca,CubeRefractionMapping:jl,EquirectangularReflectionMapping:cm,EquirectangularRefractionMapping:um,CubeUVReflectionMapping:$f},rD={RepeatWrapping:dm,ClampToEdgeWrapping:Ms,MirroredRepeatWrapping:fm},iD={NearestFilter:Dr,NearestMipmapNearestFilter:cA,NearestMipmapLinearFilter:Fd,LinearFilter:yr,LinearMipmapNearestFilter:xp,LinearMipmapLinearFilter:Mo},gb=new WeakMap;class $te extends zi{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,n,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=Eo.get(`image-bitmap:${e}`);if(o!==void 0){if(s.manager.itemStart(e),o.then){o.then(c=>{if(gb.has(o)===!0)i&&i(gb.get(o)),s.manager.itemError(e),s.manager.itemEnd(e);else return n&&n(c),s.manager.itemEnd(e),c});return}return setTimeout(function(){n&&n(o),s.manager.itemEnd(e)},0),o}const a={};a.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",a.headers=this.requestHeader;const l=fetch(e,a).then(function(c){return c.blob()}).then(function(c){return createImageBitmap(c,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(c){return Eo.add(`image-bitmap:${e}`,c),n&&n(c),s.manager.itemEnd(e),c}).catch(function(c){i&&i(c),gb.set(l,c),Eo.remove(`image-bitmap:${e}`),s.manager.itemError(e),s.manager.itemEnd(e)});Eo.add(`image-bitmap:${e}`,l),s.manager.itemStart(e)}}let yy;class jA{static getContext(){return yy===void 0&&(yy=new(window.AudioContext||window.webkitAudioContext)),yy}static setContext(e){yy=e}}class Yte extends zi{constructor(e){super(e)}load(e,n,r,i){const s=this,o=new Pa(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(l){try{const c=l.slice(0);jA.getContext().decodeAudioData(c,function(h){n(h)}).catch(a)}catch(c){a(c)}},r,i);function a(l){i?i(l):console.error(l),s.manager.itemError(e)}}}const sD=new Tt,oD=new Tt,xc=new Tt;class qte{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new rr,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new rr,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const n=this._cache;if(n.focus!==e.focus||n.fov!==e.fov||n.aspect!==e.aspect*this.aspect||n.near!==e.near||n.far!==e.far||n.zoom!==e.zoom||n.eyeSep!==this.eyeSep){n.focus=e.focus,n.fov=e.fov,n.aspect=e.aspect*this.aspect,n.near=e.near,n.far=e.far,n.zoom=e.zoom,n.eyeSep=this.eyeSep,xc.copy(e.projectionMatrix);const i=n.eyeSep/2,s=i*n.near/n.focus,o=n.near*Math.tan(nu*n.fov*.5)/n.zoom;let a,l;oD.elements[12]=-i,sD.elements[12]=i,a=-o*n.aspect+s,l=o*n.aspect+s,xc.elements[0]=2*n.near/(l-a),xc.elements[8]=(l+a)/(l-a),this.cameraL.projectionMatrix.copy(xc),a=-o*n.aspect-s,l=o*n.aspect-s,xc.elements[0]=2*n.near/(l-a),xc.elements[8]=(l+a)/(l-a),this.cameraR.projectionMatrix.copy(xc)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(oD),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(sD)}}class NV extends rr{constructor(e=[]){super(),this.isArrayCamera=!0,this.isMultiViewCamera=!1,this.cameras=e}}class HA{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=performance.now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const n=performance.now();e=(n-this.oldTime)/1e3,this.oldTime=n,this.elapsedTime+=e}return e}}const _c=new H,vb=new Jr,Zte=new H,wc=new H,Sc=new H;class Kte extends pn{constructor(){super(),this.type="AudioListener",this.context=jA.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new HA}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const n=this.context.listener;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(_c,vb,Zte),wc.set(0,0,-1).applyQuaternion(vb),Sc.set(0,1,0).applyQuaternion(vb),n.positionX){const r=this.context.currentTime+this.timeDelta;n.positionX.linearRampToValueAtTime(_c.x,r),n.positionY.linearRampToValueAtTime(_c.y,r),n.positionZ.linearRampToValueAtTime(_c.z,r),n.forwardX.linearRampToValueAtTime(wc.x,r),n.forwardY.linearRampToValueAtTime(wc.y,r),n.forwardZ.linearRampToValueAtTime(wc.z,r),n.upX.linearRampToValueAtTime(Sc.x,r),n.upY.linearRampToValueAtTime(Sc.y,r),n.upZ.linearRampToValueAtTime(Sc.z,r)}else n.setPosition(_c.x,_c.y,_c.z),n.setOrientation(wc.x,wc.y,wc.z,Sc.x,Sc.y,Sc.z)}}class LV extends pn{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const n=this.context.createBufferSource();return n.buffer=this.buffer,n.loop=this.loop,n.loopStart=this.loopStart,n.loopEnd=this.loopEnd,n.onended=this.onEnded.bind(this),n.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=n,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(e=0){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(this.context.currentTime+e),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){return this.detune=e,this.isPlaying===!0&&this.source.detune!==void 0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1,this._progress=0}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}copy(e,n){return super.copy(e,n),e.sourceType!=="buffer"?(console.warn("THREE.Audio: Audio source type cannot be copied."),this):(this.autoplay=e.autoplay,this.buffer=e.buffer,this.detune=e.detune,this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this.offset=e.offset,this.duration=e.duration,this.playbackRate=e.playbackRate,this.hasPlaybackControl=e.hasPlaybackControl,this.sourceType=e.sourceType,this.filters=e.filters.slice(),this)}clone(e){return new this.constructor(this.listener).copy(this,e)}}const bc=new H,aD=new Jr,Qte=new H,Mc=new H;class Jte extends LV{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){return super.connect(),this.panner.connect(this.gain),this}disconnect(){return super.disconnect(),this.panner.disconnect(this.gain),this}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,n,r){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=n,this.panner.coneOuterGain=r,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(bc,aD,Qte),Mc.set(0,0,1).applyQuaternion(aD);const n=this.panner;if(n.positionX){const r=this.context.currentTime+this.listener.timeDelta;n.positionX.linearRampToValueAtTime(bc.x,r),n.positionY.linearRampToValueAtTime(bc.y,r),n.positionZ.linearRampToValueAtTime(bc.z,r),n.orientationX.linearRampToValueAtTime(Mc.x,r),n.orientationY.linearRampToValueAtTime(Mc.y,r),n.orientationZ.linearRampToValueAtTime(Mc.z,r)}else n.setPosition(bc.x,bc.y,bc.z),n.setOrientation(Mc.x,Mc.y,Mc.z)}}class ene{constructor(e,n=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=n,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const n=this.getFrequencyData();for(let r=0;r<n.length;r++)e+=n[r];return e/n.length}}class DV{constructor(e,n,r){this.binding=e,this.valueSize=r;let i,s,o;switch(n){case"quaternion":i=this._slerp,s=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(r*6),this._workIndex=5;break;case"string":case"bool":i=this._select,s=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(r*5);break;default:i=this._lerp,s=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(r*5)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=s,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,n){const r=this.buffer,i=this.valueSize,s=e*i+i;let o=this.cumulativeWeight;if(o===0){for(let a=0;a!==i;++a)r[s+a]=r[a];o=n}else{o+=n;const a=n/o;this._mixBufferRegion(r,s,0,a,i)}this.cumulativeWeight=o}accumulateAdditive(e){const n=this.buffer,r=this.valueSize,i=r*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(n,i,0,e,r),this.cumulativeWeightAdditive+=e}apply(e){const n=this.valueSize,r=this.buffer,i=e*n+n,s=this.cumulativeWeight,o=this.cumulativeWeightAdditive,a=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,s<1){const l=n*this._origIndex;this._mixBufferRegion(r,i,l,1-s,n)}o>0&&this._mixBufferRegionAdditive(r,i,this._addIndex*n,1,n);for(let l=n,c=n+n;l!==c;++l)if(r[l]!==r[l+n]){a.setValue(r,i);break}}saveOriginalState(){const e=this.binding,n=this.buffer,r=this.valueSize,i=r*this._origIndex;e.getValue(n,i);for(let s=r,o=i;s!==o;++s)n[s]=n[i+s%r];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,n=e+this.valueSize;for(let r=e;r<n;r++)this.buffer[r]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,n=this._addIndex*this.valueSize;for(let r=0;r<this.valueSize;r++)this.buffer[n+r]=this.buffer[e+r]}_select(e,n,r,i,s){if(i>=.5)for(let o=0;o!==s;++o)e[n+o]=e[r+o]}_slerp(e,n,r,i){Jr.slerpFlat(e,n,e,n,e,r,i)}_slerpAdditive(e,n,r,i,s){const o=this._workIndex*s;Jr.multiplyQuaternionsFlat(e,o,e,n,e,r),Jr.slerpFlat(e,n,e,n,e,o,i)}_lerp(e,n,r,i,s){const o=1-i;for(let a=0;a!==s;++a){const l=n+a;e[l]=e[l]*o+e[r+a]*i}}_lerpAdditive(e,n,r,i,s){for(let o=0;o!==s;++o){const a=n+o;e[a]=e[a]+e[r+o]*i}}}const WA="\\[\\]\\.:\\/",tne=new RegExp("["+WA+"]","g"),GA="[^"+WA+"]",nne="[^"+WA.replace("\\.","")+"]",rne=/((?:WC+[\/:])*)/.source.replace("WC",GA),ine=/(WCOD+)?/.source.replace("WCOD",nne),sne=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",GA),one=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",GA),ane=new RegExp("^"+rne+ine+sne+one+"$"),lne=["material","materials","bones","map"];class cne{constructor(e,n,r){const i=r||un.parseTrackName(n);this._targetGroup=e,this._bindings=e.subscribe_(n,i)}getValue(e,n){this.bind();const r=this._targetGroup.nCachedObjects_,i=this._bindings[r];i!==void 0&&i.getValue(e,n)}setValue(e,n){const r=this._bindings;for(let i=this._targetGroup.nCachedObjects_,s=r.length;i!==s;++i)r[i].setValue(e,n)}bind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,r=e.length;n!==r;++n)e[n].bind()}unbind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,r=e.length;n!==r;++n)e[n].unbind()}}class un{constructor(e,n,r){this.path=n,this.parsedPath=r||un.parseTrackName(n),this.node=un.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,n,r){return e&&e.isAnimationObjectGroup?new un.Composite(e,n,r):new un(e,n,r)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(tne,"")}static parseTrackName(e){const n=ane.exec(e);if(n===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const r={nodeName:n[2],objectName:n[3],objectIndex:n[4],propertyName:n[5],propertyIndex:n[6]},i=r.nodeName&&r.nodeName.lastIndexOf(".");if(i!==void 0&&i!==-1){const s=r.nodeName.substring(i+1);lne.indexOf(s)!==-1&&(r.nodeName=r.nodeName.substring(0,i),r.objectName=s)}if(r.propertyName===null||r.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return r}static findNode(e,n){if(n===void 0||n===""||n==="."||n===-1||n===e.name||n===e.uuid)return e;if(e.skeleton){const r=e.skeleton.getBoneByName(n);if(r!==void 0)return r}if(e.children){const r=function(s){for(let o=0;o<s.length;o++){const a=s[o];if(a.name===n||a.uuid===n)return a;const l=r(a.children);if(l)return l}return null},i=r(e.children);if(i)return i}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,n){e[n]=this.targetObject[this.propertyName]}_getValue_array(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)e[n++]=r[i]}_getValue_arrayElement(e,n){e[n]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,n){this.resolvedProperty.toArray(e,n)}_setValue_direct(e,n){this.targetObject[this.propertyName]=e[n]}_setValue_direct_setNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[n++]}_setValue_array_setNeedsUpdate(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[n++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[n++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,n){this.resolvedProperty[this.propertyIndex]=e[n]}_setValue_arrayElement_setNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,n){this.resolvedProperty.fromArray(e,n)}_setValue_fromArray_setNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,n){this.bind(),this.getValue(e,n)}_setValue_unbound(e,n){this.bind(),this.setValue(e,n)}bind(){let e=this.node;const n=this.parsedPath,r=n.objectName,i=n.propertyName;let s=n.propertyIndex;if(e||(e=un.findNode(this.rootNode,n.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(r){let c=n.objectIndex;switch(r){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let d=0;d<e.length;d++)if(e[d].name===c){c=d;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[r]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[r]}if(c!==void 0){if(e[c]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[c]}}const o=e[i];if(o===void 0){const c=n.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+c+"."+i+" but it wasn't found.",e);return}let a=this.Versioning.None;this.targetObject=e,e.isMaterial===!0?a=this.Versioning.NeedsUpdate:e.isObject3D===!0&&(a=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(s!==void 0){if(i==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[s]!==void 0&&(s=e.morphTargetDictionary[s])}l=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=s}else o.fromArray!==void 0&&o.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(l=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=i;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][a]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}un.Composite=cne;un.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};un.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};un.prototype.GetterByBindingType=[un.prototype._getValue_direct,un.prototype._getValue_array,un.prototype._getValue_arrayElement,un.prototype._getValue_toArray];un.prototype.SetterByBindingTypeAndVersioning=[[un.prototype._setValue_direct,un.prototype._setValue_direct_setNeedsUpdate,un.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[un.prototype._setValue_array,un.prototype._setValue_array_setNeedsUpdate,un.prototype._setValue_array_setMatrixWorldNeedsUpdate],[un.prototype._setValue_arrayElement,un.prototype._setValue_arrayElement_setNeedsUpdate,un.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[un.prototype._setValue_fromArray,un.prototype._setValue_fromArray_setNeedsUpdate,un.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class une{constructor(){this.isAnimationObjectGroup=!0,this.uuid=ts(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let r=0,i=arguments.length;r!==i;++r)e[arguments[r].uuid]=r;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const n=this;this.stats={objects:{get total(){return n._objects.length},get inUse(){return this.total-n.nCachedObjects_}},get bindingsPerObject(){return n._bindings.length}}}add(){const e=this._objects,n=this._indicesByUUID,r=this._paths,i=this._parsedPaths,s=this._bindings,o=s.length;let a,l=e.length,c=this.nCachedObjects_;for(let d=0,h=arguments.length;d!==h;++d){const p=arguments[d],m=p.uuid;let v=n[m];if(v===void 0){v=l++,n[m]=v,e.push(p);for(let x=0,y=o;x!==y;++x)s[x].push(new un(p,r[x],i[x]))}else if(v<c){a=e[v];const x=--c,y=e[x];n[y.uuid]=v,e[v]=y,n[m]=x,e[x]=p;for(let g=0,w=o;g!==w;++g){const b=s[g],E=b[x];let C=b[v];b[v]=E,C===void 0&&(C=new un(p,r[g],i[g])),b[x]=C}}else e[v]!==a&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=c}remove(){const e=this._objects,n=this._indicesByUUID,r=this._bindings,i=r.length;let s=this.nCachedObjects_;for(let o=0,a=arguments.length;o!==a;++o){const l=arguments[o],c=l.uuid,d=n[c];if(d!==void 0&&d>=s){const h=s++,p=e[h];n[p.uuid]=d,e[d]=p,n[c]=h,e[h]=l;for(let m=0,v=i;m!==v;++m){const x=r[m],y=x[h],g=x[d];x[d]=y,x[h]=g}}}this.nCachedObjects_=s}uncache(){const e=this._objects,n=this._indicesByUUID,r=this._bindings,i=r.length;let s=this.nCachedObjects_,o=e.length;for(let a=0,l=arguments.length;a!==l;++a){const c=arguments[a],d=c.uuid,h=n[d];if(h!==void 0)if(delete n[d],h<s){const p=--s,m=e[p],v=--o,x=e[v];n[m.uuid]=h,e[h]=m,n[x.uuid]=p,e[p]=x,e.pop();for(let y=0,g=i;y!==g;++y){const w=r[y],b=w[p],E=w[v];w[h]=b,w[p]=E,w.pop()}}else{const p=--o,m=e[p];p>0&&(n[m.uuid]=h),e[h]=m,e.pop();for(let v=0,x=i;v!==x;++v){const y=r[v];y[h]=y[p],y.pop()}}}this.nCachedObjects_=s}subscribe_(e,n){const r=this._bindingsIndicesByPath;let i=r[e];const s=this._bindings;if(i!==void 0)return s[i];const o=this._paths,a=this._parsedPaths,l=this._objects,c=l.length,d=this.nCachedObjects_,h=new Array(c);i=s.length,r[e]=i,o.push(e),a.push(n),s.push(h);for(let p=d,m=l.length;p!==m;++p){const v=l[p];h[p]=new un(v,e,n)}return h}unsubscribe_(e){const n=this._bindingsIndicesByPath,r=n[e];if(r!==void 0){const i=this._paths,s=this._parsedPaths,o=this._bindings,a=o.length-1,l=o[a],c=e[a];n[c]=r,o[r]=l,o.pop(),s[r]=s[a],s.pop(),i[r]=i[a],i.pop()}}}class kV{constructor(e,n,r=null,i=n.blendMode){this._mixer=e,this._clip=n,this._localRoot=r,this.blendMode=i;const s=n.tracks,o=s.length,a=new Array(o),l={endingStart:Hc,endingEnd:Hc};for(let c=0;c!==o;++c){const d=s[c].createInterpolant(null);a[c]=d,d.settings=l}this._interpolantSettings=l,this._interpolants=a,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=w4,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,n){return this.loop=e,this.repetitions=n,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,n,r=!1){if(e.fadeOut(n),this.fadeIn(n),r===!0){const i=this._clip.duration,s=e._clip.duration,o=s/i,a=i/s;e.warp(1,o,n),this.warp(a,1,n)}return this}crossFadeTo(e,n,r=!1){return e.crossFadeFrom(this,n,r)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,n,r){const i=this._mixer,s=i.time,o=this.timeScale;let a=this._timeScaleInterpolant;a===null&&(a=i._lendControlInterpolant(),this._timeScaleInterpolant=a);const l=a.parameterPositions,c=a.sampleValues;return l[0]=s,l[1]=s+r,c[0]=e/o,c[1]=n/o,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,n,r,i){if(!this.enabled){this._updateWeight(e);return}const s=this._startTime;if(s!==null){const l=(e-s)*r;l<0||r===0?n=0:(this._startTime=null,n=r*l)}n*=this._updateTimeScale(e);const o=this._updateTime(n),a=this._updateWeight(e);if(a>0){const l=this._interpolants,c=this._propertyBindings;switch(this.blendMode){case vA:for(let d=0,h=l.length;d!==h;++d)l[d].evaluate(o),c[d].accumulateAdditive(a);break;case Y_:default:for(let d=0,h=l.length;d!==h;++d)l[d].evaluate(o),c[d].accumulate(i,a)}}}_updateWeight(e){let n=0;if(this.enabled){n=this.weight;const r=this._weightInterpolant;if(r!==null){const i=r.evaluate(e)[0];n*=i,e>r.parameterPositions[1]&&(this.stopFading(),i===0&&(this.enabled=!1))}}return this._effectiveWeight=n,n}_updateTimeScale(e){let n=0;if(!this.paused){n=this.timeScale;const r=this._timeScaleInterpolant;if(r!==null){const i=r.evaluate(e)[0];n*=i,e>r.parameterPositions[1]&&(this.stopWarping(),n===0?this.paused=!0:this.timeScale=n)}}return this._effectiveTimeScale=n,n}_updateTime(e){const n=this._clip.duration,r=this.loop;let i=this.time+e,s=this._loopCount;const o=r===S4;if(e===0)return s===-1?i:o&&(s&1)===1?n-i:i;if(r===_4){s===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(i>=n)i=n;else if(i<0)i=0;else{this.time=i;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(s===-1&&(e>=0?(s=0,this._setEndings(!0,this.repetitions===0,o)):this._setEndings(this.repetitions===0,!0,o)),i>=n||i<0){const a=Math.floor(i/n);i-=n*a,s+=Math.abs(a);const l=this.repetitions-s;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,i=e>0?n:0,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const c=e<0;this._setEndings(c,!c,o)}else this._setEndings(!1,!1,o);this._loopCount=s,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}else this.time=i;if(o&&(s&1)===1)return n-i}return i}_setEndings(e,n,r){const i=this._interpolantSettings;r?(i.endingStart=Wc,i.endingEnd=Wc):(e?i.endingStart=this.zeroSlopeAtStart?Wc:Hc:i.endingStart=pm,n?i.endingEnd=this.zeroSlopeAtEnd?Wc:Hc:i.endingEnd=pm)}_scheduleFading(e,n,r){const i=this._mixer,s=i.time;let o=this._weightInterpolant;o===null&&(o=i._lendControlInterpolant(),this._weightInterpolant=o);const a=o.parameterPositions,l=o.sampleValues;return a[0]=s,l[0]=n,a[1]=s+e,l[1]=r,this}}const dne=new Float32Array(1);class fne extends Bo{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,n){const r=e._localRoot||this._root,i=e._clip.tracks,s=i.length,o=e._propertyBindings,a=e._interpolants,l=r.uuid,c=this._bindingsByRootAndName;let d=c[l];d===void 0&&(d={},c[l]=d);for(let h=0;h!==s;++h){const p=i[h],m=p.name;let v=d[m];if(v!==void 0)++v.referenceCount,o[h]=v;else{if(v=o[h],v!==void 0){v._cacheIndex===null&&(++v.referenceCount,this._addInactiveBinding(v,l,m));continue}const x=n&&n._propertyBindings[h].binding.parsedPath;v=new DV(un.create(r,m,x),p.ValueTypeName,p.getValueSize()),++v.referenceCount,this._addInactiveBinding(v,l,m),o[h]=v}a[h].resultBuffer=v.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const r=(e._localRoot||this._root).uuid,i=e._clip.uuid,s=this._actionsByClip[i];this._bindAction(e,s&&s.knownActions[0]),this._addInactiveAction(e,i,r)}const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const s=n[r];s.useCount++===0&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const s=n[r];--s.useCount===0&&(s.restoreOriginalState(),this._takeBackBinding(s))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const n=e._cacheIndex;return n!==null&&n<this._nActiveActions}_addInactiveAction(e,n,r){const i=this._actions,s=this._actionsByClip;let o=s[n];if(o===void 0)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,s[n]=o;else{const a=o.knownActions;e._byClipCacheIndex=a.length,a.push(e)}e._cacheIndex=i.length,i.push(e),o.actionByRoot[r]=e}_removeInactiveAction(e){const n=this._actions,r=n[n.length-1],i=e._cacheIndex;r._cacheIndex=i,n[i]=r,n.pop(),e._cacheIndex=null;const s=e._clip.uuid,o=this._actionsByClip,a=o[s],l=a.knownActions,c=l[l.length-1],d=e._byClipCacheIndex;c._byClipCacheIndex=d,l[d]=c,l.pop(),e._byClipCacheIndex=null;const h=a.actionByRoot,p=(e._localRoot||this._root).uuid;delete h[p],l.length===0&&delete o[s],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const s=n[r];--s.referenceCount===0&&this._removeInactiveBinding(s)}}_lendAction(e){const n=this._actions,r=e._cacheIndex,i=this._nActiveActions++,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_takeBackAction(e){const n=this._actions,r=e._cacheIndex,i=--this._nActiveActions,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_addInactiveBinding(e,n,r){const i=this._bindingsByRootAndName,s=this._bindings;let o=i[n];o===void 0&&(o={},i[n]=o),o[r]=e,e._cacheIndex=s.length,s.push(e)}_removeInactiveBinding(e){const n=this._bindings,r=e.binding,i=r.rootNode.uuid,s=r.path,o=this._bindingsByRootAndName,a=o[i],l=n[n.length-1],c=e._cacheIndex;l._cacheIndex=c,n[c]=l,n.pop(),delete a[s],Object.keys(a).length===0&&delete o[i]}_lendBinding(e){const n=this._bindings,r=e._cacheIndex,i=this._nActiveBindings++,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_takeBackBinding(e){const n=this._bindings,r=e._cacheIndex,i=--this._nActiveBindings,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_lendControlInterpolant(){const e=this._controlInterpolants,n=this._nActiveControlInterpolants++;let r=e[n];return r===void 0&&(r=new UA(new Float32Array(2),new Float32Array(2),1,dne),r.__cacheIndex=n,e[n]=r),r}_takeBackControlInterpolant(e){const n=this._controlInterpolants,r=e.__cacheIndex,i=--this._nActiveControlInterpolants,s=n[i];e.__cacheIndex=i,n[i]=e,s.__cacheIndex=r,n[r]=s}clipAction(e,n,r){const i=n||this._root,s=i.uuid;let o=typeof e=="string"?Mm.findByName(i,e):e;const a=o!==null?o.uuid:e,l=this._actionsByClip[a];let c=null;if(r===void 0&&(o!==null?r=o.blendMode:r=Y_),l!==void 0){const h=l.actionByRoot[s];if(h!==void 0&&h.blendMode===r)return h;c=l.knownActions[0],o===null&&(o=c._clip)}if(o===null)return null;const d=new kV(this,o,n,r);return this._bindAction(d,c),this._addInactiveAction(d,a,s),d}existingAction(e,n){const r=n||this._root,i=r.uuid,s=typeof e=="string"?Mm.findByName(r,e):e,o=s?s.uuid:e,a=this._actionsByClip[o];return a!==void 0&&a.actionByRoot[i]||null}stopAllAction(){const e=this._actions,n=this._nActiveActions;for(let r=n-1;r>=0;--r)e[r].stop();return this}update(e){e*=this.timeScale;const n=this._actions,r=this._nActiveActions,i=this.time+=e,s=Math.sign(e),o=this._accuIndex^=1;for(let c=0;c!==r;++c)n[c]._update(i,e,s,o);const a=this._bindings,l=this._nActiveBindings;for(let c=0;c!==l;++c)a[c].apply(o);return this}setTime(e){this.time=0;for(let n=0;n<this._actions.length;n++)this._actions[n].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const n=this._actions,r=e.uuid,i=this._actionsByClip,s=i[r];if(s!==void 0){const o=s.knownActions;for(let a=0,l=o.length;a!==l;++a){const c=o[a];this._deactivateAction(c);const d=c._cacheIndex,h=n[n.length-1];c._cacheIndex=null,c._byClipCacheIndex=null,h._cacheIndex=d,n[d]=h,n.pop(),this._removeInactiveBindingsForAction(c)}delete i[r]}}uncacheRoot(e){const n=e.uuid,r=this._actionsByClip;for(const o in r){const a=r[o].actionByRoot,l=a[n];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const i=this._bindingsByRootAndName,s=i[n];if(s!==void 0)for(const o in s){const a=s[o];a.restoreOriginalState(),this._removeInactiveBinding(a)}}uncacheAction(e,n){const r=this.existingAction(e,n);r!==null&&(this._deactivateAction(r),this._removeInactiveAction(r))}}class hne extends _A{constructor(e=1,n=1,r=1,i={}){super(e,n,i),this.isRenderTarget3D=!0,this.depth=r,this.texture=new Z_(null,e,n,r),this._setTextureOptions(i),this.texture.isRenderTargetTexture=!0}}class XA{constructor(e){this.value=e}clone(){return new XA(this.value.clone===void 0?this.value:this.value.clone())}}let pne=0;class mne extends Bo{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:pne++}),this.name="",this.usage=gm,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const n=this.uniforms.indexOf(e);return n!==-1&&this.uniforms.splice(n,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){this.dispatchEvent({type:"dispose"})}copy(e){this.name=e.name,this.usage=e.usage;const n=e.uniforms;this.uniforms.length=0;for(let r=0,i=n.length;r<i;r++){const s=Array.isArray(n[r])?n[r]:[n[r]];for(let o=0;o<s.length;o++)this.uniforms.push(s[o].clone())}return this}clone(){return new this.constructor().copy(this)}}class gne extends J_{constructor(e,n,r=1){super(e,n),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const n=super.clone(e);return n.meshPerAttribute=this.meshPerAttribute,n}toJSON(e){const n=super.toJSON(e);return n.isInstancedInterleavedBuffer=!0,n.meshPerAttribute=this.meshPerAttribute,n}}class vne{constructor(e,n,r,i,s,o=!1){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=n,this.itemSize=r,this.elementSize=i,this.count=s,this.normalized=o,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,n){return this.type=e,this.elementSize=n,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}const lD=new Tt;class OV{constructor(e,n,r=0,i=1/0){this.ray=new Eu(e,n),this.near=r,this.far=i,this.camera=null,this.layers=new ru,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,n){this.ray.set(e,n)}setFromCamera(e,n){n.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(n.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(n).sub(this.ray.origin).normalize(),this.camera=n):n.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(n.near+n.far)/(n.near-n.far)).unproject(n),this.ray.direction.set(0,0,-1).transformDirection(n.matrixWorld),this.camera=n):console.error("THREE.Raycaster: Unsupported camera type: "+n.type)}setFromXRController(e){return lD.identity().extractRotation(e.matrixWorld),this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(lD),this}intersectObject(e,n=!0,r=[]){return VE(e,this,r,n),r.sort(cD),r}intersectObjects(e,n=!0,r=[]){for(let i=0,s=e.length;i<s;i++)VE(e[i],this,r,n);return r.sort(cD),r}}function cD(t,e){return t.distance-e.distance}function VE(t,e,n,r){let i=!0;if(t.layers.test(e.layers)&&t.raycast(e,n)===!1&&(i=!1),i===!0&&r===!0){const s=t.children;for(let o=0,a=s.length;o<a;o++)VE(s[o],e,n,!0)}}class jE{constructor(e=1,n=0,r=0){this.radius=e,this.phi=n,this.theta=r}set(e,n,r){return this.radius=e,this.phi=n,this.theta=r,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=It(this.phi,1e-6,Math.PI-1e-6),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,r){return this.radius=Math.sqrt(e*e+n*n+r*r),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,r),this.phi=Math.acos(It(n/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class yne{constructor(e=1,n=0,r=0){this.radius=e,this.theta=n,this.y=r}set(e,n,r){return this.radius=e,this.theta=n,this.y=r,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,r){return this.radius=Math.sqrt(e*e+r*r),this.theta=Math.atan2(e,r),this.y=n,this}clone(){return new this.constructor().copy(this)}}class $A{constructor(e,n,r,i){$A.prototype.isMatrix2=!0,this.elements=[1,0,0,1],e!==void 0&&this.set(e,n,r,i)}identity(){return this.set(1,0,0,1),this}fromArray(e,n=0){for(let r=0;r<4;r++)this.elements[r]=e[r+n];return this}set(e,n,r,i){const s=this.elements;return s[0]=e,s[2]=n,s[1]=r,s[3]=i,this}}const uD=new Te;class xne{constructor(e=new Te(1/0,1/0),n=new Te(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromPoints(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const r=uD.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,uD).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const dD=new H,xy=new H;class _ne{constructor(e=new H,n=new H){this.start=e,this.end=n}set(e,n){return this.start.copy(e),this.end.copy(n),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,n){return this.delta(n).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,n){dD.subVectors(e,this.start),xy.subVectors(this.end,this.start);const r=xy.dot(xy);let s=xy.dot(dD)/r;return n&&(s=It(s,0,1)),s}closestPointToPoint(e,n,r){const i=this.closestPointToPointParameter(e,n);return this.delta(r).multiplyScalar(i).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const fD=new H;class wne extends pn{constructor(e,n){super(),this.light=e,this.matrixAutoUpdate=!1,this.color=n,this.type="SpotLightHelper";const r=new Ft,i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let o=0,a=1,l=32;o<l;o++,a++){const c=o/l*Math.PI*2,d=a/l*Math.PI*2;i.push(Math.cos(c),Math.sin(c),1,Math.cos(d),Math.sin(d),1)}r.setAttribute("position",new ht(i,3));const s=new _i({fog:!1,toneMapped:!1});this.cone=new zo(r,s),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const e=this.light.distance?this.light.distance:1e3,n=e*Math.tan(this.light.angle);this.cone.scale.set(n,n,e),fD.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(fD),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const Ja=new H,_y=new Tt,yb=new Tt;class Sne extends zo{constructor(e){const n=FV(e),r=new Ft,i=[],s=[],o=new lt(0,0,1),a=new lt(0,1,0);for(let c=0;c<n.length;c++){const d=n[c];d.parent&&d.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),s.push(o.r,o.g,o.b),s.push(a.r,a.g,a.b))}r.setAttribute("position",new ht(i,3)),r.setAttribute("color",new ht(s,3));const l=new _i({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(r,l),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=n,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const n=this.bones,r=this.geometry,i=r.getAttribute("position");yb.copy(this.root.matrixWorld).invert();for(let s=0,o=0;s<n.length;s++){const a=n[s];a.parent&&a.parent.isBone&&(_y.multiplyMatrices(yb,a.matrixWorld),Ja.setFromMatrixPosition(_y),i.setXYZ(o,Ja.x,Ja.y,Ja.z),_y.multiplyMatrices(yb,a.parent.matrixWorld),Ja.setFromMatrixPosition(_y),i.setXYZ(o+1,Ja.x,Ja.y,Ja.z),o+=2)}r.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function FV(t){const e=[];t.isBone===!0&&e.push(t);for(let n=0;n<t.children.length;n++)e.push(...FV(t.children[n]));return e}class bne extends dr{constructor(e,n,r){const i=new Km(n,4,2),s=new Kl({wireframe:!0,fog:!1,toneMapped:!1});super(i,s),this.light=e,this.color=r,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const Mne=new H,hD=new lt,pD=new lt;class Ene extends pn{constructor(e,n,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="HemisphereLightHelper";const i=new Zm(n);i.rotateY(Math.PI*.5),this.material=new Kl({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const s=i.getAttribute("position"),o=new Float32Array(s.count*3);i.setAttribute("color",new Mn(o,3)),this.add(new dr(i,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const n=e.geometry.getAttribute("color");hD.copy(this.light.color),pD.copy(this.light.groundColor);for(let r=0,i=n.count;r<i;r++){const s=r<i/2?hD:pD;n.setXYZ(r,s.r,s.g,s.b)}n.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(Mne.setFromMatrixPosition(this.light.matrixWorld).negate())}}class Tne extends zo{constructor(e=10,n=10,r=4473924,i=8947848){r=new lt(r),i=new lt(i);const s=n/2,o=e/n,a=e/2,l=[],c=[];for(let p=0,m=0,v=-a;p<=n;p++,v+=o){l.push(-a,0,v,a,0,v),l.push(v,0,-a,v,0,a);const x=p===s?r:i;x.toArray(c,m),m+=3,x.toArray(c,m),m+=3,x.toArray(c,m),m+=3,x.toArray(c,m),m+=3}const d=new Ft;d.setAttribute("position",new ht(l,3)),d.setAttribute("color",new ht(c,3));const h=new _i({vertexColors:!0,toneMapped:!1});super(d,h),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class Cne extends zo{constructor(e=10,n=16,r=8,i=64,s=4473924,o=8947848){s=new lt(s),o=new lt(o);const a=[],l=[];if(n>1)for(let h=0;h<n;h++){const p=h/n*(Math.PI*2),m=Math.sin(p)*e,v=Math.cos(p)*e;a.push(0,0,0),a.push(m,0,v);const x=h&1?s:o;l.push(x.r,x.g,x.b),l.push(x.r,x.g,x.b)}for(let h=0;h<r;h++){const p=h&1?s:o,m=e-e/r*h;for(let v=0;v<i;v++){let x=v/i*(Math.PI*2),y=Math.sin(x)*m,g=Math.cos(x)*m;a.push(y,0,g),l.push(p.r,p.g,p.b),x=(v+1)/i*(Math.PI*2),y=Math.sin(x)*m,g=Math.cos(x)*m,a.push(y,0,g),l.push(p.r,p.g,p.b)}}const c=new Ft;c.setAttribute("position",new ht(a,3)),c.setAttribute("color",new ht(l,3));const d=new _i({vertexColors:!0,toneMapped:!1});super(c,d),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const mD=new H,wy=new H,gD=new H;class Ane extends pn{constructor(e,n,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="DirectionalLightHelper",n===void 0&&(n=1);let i=new Ft;i.setAttribute("position",new ht([-n,n,0,n,n,0,n,-n,0,-n,-n,0,-n,n,0],3));const s=new _i({fog:!1,toneMapped:!1});this.lightPlane=new Hl(i,s),this.add(this.lightPlane),i=new Ft,i.setAttribute("position",new ht([0,0,0,0,0,1],3)),this.targetLine=new Hl(i,s),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),mD.setFromMatrixPosition(this.light.matrixWorld),wy.setFromMatrixPosition(this.light.target.matrixWorld),gD.subVectors(wy,mD),this.lightPlane.lookAt(wy),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(wy),this.targetLine.scale.z=gD.length()}}const Sy=new H,Gn=new Xm;class Pne extends zo{constructor(e){const n=new Ft,r=new _i({color:16777215,vertexColors:!0,toneMapped:!1}),i=[],s=[],o={};a("n1","n2"),a("n2","n4"),a("n4","n3"),a("n3","n1"),a("f1","f2"),a("f2","f4"),a("f4","f3"),a("f3","f1"),a("n1","f1"),a("n2","f2"),a("n3","f3"),a("n4","f4"),a("p","n1"),a("p","n2"),a("p","n3"),a("p","n4"),a("u1","u2"),a("u2","u3"),a("u3","u1"),a("c","t"),a("p","c"),a("cn1","cn2"),a("cn3","cn4"),a("cf1","cf2"),a("cf3","cf4");function a(v,x){l(v),l(x)}function l(v){i.push(0,0,0),s.push(0,0,0),o[v]===void 0&&(o[v]=[]),o[v].push(i.length/3-1)}n.setAttribute("position",new ht(i,3)),n.setAttribute("color",new ht(s,3)),super(n,r),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update();const c=new lt(16755200),d=new lt(16711680),h=new lt(43775),p=new lt(16777215),m=new lt(3355443);this.setColors(c,d,h,p,m)}setColors(e,n,r,i,s){const a=this.geometry.getAttribute("color");a.setXYZ(0,e.r,e.g,e.b),a.setXYZ(1,e.r,e.g,e.b),a.setXYZ(2,e.r,e.g,e.b),a.setXYZ(3,e.r,e.g,e.b),a.setXYZ(4,e.r,e.g,e.b),a.setXYZ(5,e.r,e.g,e.b),a.setXYZ(6,e.r,e.g,e.b),a.setXYZ(7,e.r,e.g,e.b),a.setXYZ(8,e.r,e.g,e.b),a.setXYZ(9,e.r,e.g,e.b),a.setXYZ(10,e.r,e.g,e.b),a.setXYZ(11,e.r,e.g,e.b),a.setXYZ(12,e.r,e.g,e.b),a.setXYZ(13,e.r,e.g,e.b),a.setXYZ(14,e.r,e.g,e.b),a.setXYZ(15,e.r,e.g,e.b),a.setXYZ(16,e.r,e.g,e.b),a.setXYZ(17,e.r,e.g,e.b),a.setXYZ(18,e.r,e.g,e.b),a.setXYZ(19,e.r,e.g,e.b),a.setXYZ(20,e.r,e.g,e.b),a.setXYZ(21,e.r,e.g,e.b),a.setXYZ(22,e.r,e.g,e.b),a.setXYZ(23,e.r,e.g,e.b),a.setXYZ(24,n.r,n.g,n.b),a.setXYZ(25,n.r,n.g,n.b),a.setXYZ(26,n.r,n.g,n.b),a.setXYZ(27,n.r,n.g,n.b),a.setXYZ(28,n.r,n.g,n.b),a.setXYZ(29,n.r,n.g,n.b),a.setXYZ(30,n.r,n.g,n.b),a.setXYZ(31,n.r,n.g,n.b),a.setXYZ(32,r.r,r.g,r.b),a.setXYZ(33,r.r,r.g,r.b),a.setXYZ(34,r.r,r.g,r.b),a.setXYZ(35,r.r,r.g,r.b),a.setXYZ(36,r.r,r.g,r.b),a.setXYZ(37,r.r,r.g,r.b),a.setXYZ(38,i.r,i.g,i.b),a.setXYZ(39,i.r,i.g,i.b),a.setXYZ(40,s.r,s.g,s.b),a.setXYZ(41,s.r,s.g,s.b),a.setXYZ(42,s.r,s.g,s.b),a.setXYZ(43,s.r,s.g,s.b),a.setXYZ(44,s.r,s.g,s.b),a.setXYZ(45,s.r,s.g,s.b),a.setXYZ(46,s.r,s.g,s.b),a.setXYZ(47,s.r,s.g,s.b),a.setXYZ(48,s.r,s.g,s.b),a.setXYZ(49,s.r,s.g,s.b),a.needsUpdate=!0}update(){const e=this.geometry,n=this.pointMap,r=1,i=1;Gn.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse);const s=this.camera.coordinateSystem===Es?-1:0;er("c",n,e,Gn,0,0,s),er("t",n,e,Gn,0,0,1),er("n1",n,e,Gn,-r,-i,s),er("n2",n,e,Gn,r,-i,s),er("n3",n,e,Gn,-r,i,s),er("n4",n,e,Gn,r,i,s),er("f1",n,e,Gn,-r,-i,1),er("f2",n,e,Gn,r,-i,1),er("f3",n,e,Gn,-r,i,1),er("f4",n,e,Gn,r,i,1),er("u1",n,e,Gn,r*.7,i*1.1,s),er("u2",n,e,Gn,-r*.7,i*1.1,s),er("u3",n,e,Gn,0,i*2,s),er("cf1",n,e,Gn,-r,0,1),er("cf2",n,e,Gn,r,0,1),er("cf3",n,e,Gn,0,-i,1),er("cf4",n,e,Gn,0,i,1),er("cn1",n,e,Gn,-r,0,s),er("cn2",n,e,Gn,r,0,s),er("cn3",n,e,Gn,0,-i,s),er("cn4",n,e,Gn,0,i,s),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function er(t,e,n,r,i,s,o){Sy.set(i,s,o).unproject(r);const a=e[t];if(a!==void 0){const l=n.getAttribute("position");for(let c=0,d=a.length;c<d;c++)l.setXYZ(a[c],Sy.x,Sy.y,Sy.z)}}const by=new ei;class Rne extends zo{constructor(e,n=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Float32Array(8*3),s=new Ft;s.setIndex(new Mn(r,1)),s.setAttribute("position",new Mn(i,3)),super(s,new _i({color:n,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(){if(this.object!==void 0&&by.setFromObject(this.object),by.isEmpty())return;const e=by.min,n=by.max,r=this.geometry.attributes.position,i=r.array;i[0]=n.x,i[1]=n.y,i[2]=n.z,i[3]=e.x,i[4]=n.y,i[5]=n.z,i[6]=e.x,i[7]=e.y,i[8]=n.z,i[9]=n.x,i[10]=e.y,i[11]=n.z,i[12]=n.x,i[13]=n.y,i[14]=e.z,i[15]=e.x,i[16]=n.y,i[17]=e.z,i[18]=e.x,i[19]=e.y,i[20]=e.z,i[21]=n.x,i[22]=e.y,i[23]=e.z,r.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,n){return super.copy(e,n),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class Ine extends zo{constructor(e,n=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],s=new Ft;s.setIndex(new Mn(r,1)),s.setAttribute("position",new ht(i,3)),super(s,new _i({color:n,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const n=this.box;n.isEmpty()||(n.getCenter(this.position),n.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class Nne extends Hl{constructor(e,n=1,r=16776960){const i=r,s=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],o=new Ft;o.setAttribute("position",new ht(s,3)),o.computeBoundingSphere(),super(o,new _i({color:i,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=n;const a=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],l=new Ft;l.setAttribute("position",new ht(a,3)),l.computeBoundingSphere(),this.add(new dr(l,new Kl({color:i,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const vD=new H;let My,xb;class Lne extends pn{constructor(e=new H(0,0,1),n=new H(0,0,0),r=1,i=16776960,s=r*.2,o=s*.2){super(),this.type="ArrowHelper",My===void 0&&(My=new Ft,My.setAttribute("position",new ht([0,0,0,0,1,0],3)),xb=new qm(.5,1,5,1),xb.translate(0,-.5,0)),this.position.copy(n),this.line=new Hl(My,new _i({color:i,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new dr(xb,new Kl({color:i,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(r,s,o)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{vD.set(e.z,0,-e.x).normalize();const n=Math.acos(e.y);this.quaternion.setFromAxisAngle(vD,n)}}setLength(e,n=e*.2,r=n*.2){this.line.scale.set(1,Math.max(1e-4,e-n),1),this.line.updateMatrix(),this.cone.scale.set(r,n,r),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class Dne extends zo{constructor(e=1){const n=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],r=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],i=new Ft;i.setAttribute("position",new ht(n,3)),i.setAttribute("color",new ht(r,3));const s=new _i({vertexColors:!0,toneMapped:!1});super(i,s),this.type="AxesHelper"}setColors(e,n,r){const i=new lt,s=this.geometry.attributes.color.array;return i.set(e),i.toArray(s,0),i.toArray(s,3),i.set(n),i.toArray(s,6),i.toArray(s,9),i.set(r),i.toArray(s,12),i.toArray(s,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class kne{constructor(){this.type="ShapePath",this.color=new lt,this.subPaths=[],this.currentPath=null}moveTo(e,n){return this.currentPath=new Ox,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,n),this}lineTo(e,n){return this.currentPath.lineTo(e,n),this}quadraticCurveTo(e,n,r,i){return this.currentPath.quadraticCurveTo(e,n,r,i),this}bezierCurveTo(e,n,r,i,s,o){return this.currentPath.bezierCurveTo(e,n,r,i,s,o),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function n(g){const w=[];for(let b=0,E=g.length;b<E;b++){const C=g[b],A=new iu;A.curves=C.curves,w.push(A)}return w}function r(g,w){const b=w.length;let E=!1;for(let C=b-1,A=0;A<b;C=A++){let I=w[C],D=w[A],N=D.x-I.x,R=D.y-I.y;if(Math.abs(R)>Number.EPSILON){if(R<0&&(I=w[A],N=-N,D=w[C],R=-R),g.y<I.y||g.y>D.y)continue;if(g.y===I.y){if(g.x===I.x)return!0}else{const F=R*(g.x-I.x)-N*(g.y-I.y);if(F===0)return!0;if(F<0)continue;E=!E}}else{if(g.y!==I.y)continue;if(D.x<=g.x&&g.x<=I.x||I.x<=g.x&&g.x<=D.x)return!0}}return E}const i=qs.isClockWise,s=this.subPaths;if(s.length===0)return[];let o,a,l;const c=[];if(s.length===1)return a=s[0],l=new iu,l.curves=a.curves,c.push(l),c;let d=!i(s[0].getPoints());d=e?!d:d;const h=[],p=[];let m=[],v=0,x;p[v]=void 0,m[v]=[];for(let g=0,w=s.length;g<w;g++)a=s[g],x=a.getPoints(),o=i(x),o=e?!o:o,o?(!d&&p[v]&&v++,p[v]={s:new iu,p:x},p[v].s.curves=a.curves,d&&v++,m[v]=[]):m[v].push({h:a,p:x[0]});if(!p[0])return n(s);if(p.length>1){let g=!1,w=0;for(let b=0,E=p.length;b<E;b++)h[b]=[];for(let b=0,E=p.length;b<E;b++){const C=m[b];for(let A=0;A<C.length;A++){const I=C[A];let D=!0;for(let N=0;N<p.length;N++)r(I.p,p[N].p)&&(b!==N&&w++,D?(D=!1,h[N].push(I)):g=!0);D&&h[b].push(I)}}w>0&&g===!1&&(m=h)}let y;for(let g=0,w=p.length;g<w;g++){l=p[g].s,c.push(l),y=m[g];for(let b=0,E=y.length;b<E;b++)l.holes.push(y[b].h)}return c}}class One extends Bo{constructor(e,n=null){super(),this.object=e,this.domElement=n,this.enabled=!0,this.state=-1,this.keys={},this.mouseButtons={LEFT:null,MIDDLE:null,RIGHT:null},this.touches={ONE:null,TWO:null}}connect(e){if(e===void 0){console.warn("THREE.Controls: connect() now requires an element.");return}this.domElement!==null&&this.disconnect(),this.domElement=e}disconnect(){}dispose(){}update(){}}function Fne(t,e){const n=t.image&&t.image.width?t.image.width/t.image.height:1;return n>e?(t.repeat.x=1,t.repeat.y=n/e,t.offset.x=0,t.offset.y=(1-t.repeat.y)/2):(t.repeat.x=e/n,t.repeat.y=1,t.offset.x=(1-t.repeat.x)/2,t.offset.y=0),t}function Une(t,e){const n=t.image&&t.image.width?t.image.width/t.image.height:1;return n>e?(t.repeat.x=e/n,t.repeat.y=1,t.offset.x=(1-t.repeat.x)/2,t.offset.y=0):(t.repeat.x=1,t.repeat.y=n/e,t.offset.x=0,t.offset.y=(1-t.repeat.y)/2),t}function Bne(t){return t.repeat.x=1,t.repeat.y=1,t.offset.x=0,t.offset.y=0,t}function HE(t,e,n,r){const i=zne(r);switch(n){case hA:return t*e;case G_:return t*e/i.components*i.byteLength;case Gm:return t*e/i.components*i.byteLength;case mA:return t*e*2/i.components*i.byteLength;case X_:return t*e*2/i.components*i.byteLength;case pA:return t*e*3/i.components*i.byteLength;case Qr:return t*e*4/i.components*i.byteLength;case $_:return t*e*4/i.components*i.byteLength;case _p:case wp:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*8;case Sp:case bp:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case ax:case cx:return Math.max(t,16)*Math.max(e,8)/4;case ox:case lx:return Math.max(t,8)*Math.max(e,8)/2;case ux:case dx:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*8;case fx:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case hx:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case px:return Math.floor((t+4)/5)*Math.floor((e+3)/4)*16;case mx:return Math.floor((t+4)/5)*Math.floor((e+4)/5)*16;case gx:return Math.floor((t+5)/6)*Math.floor((e+4)/5)*16;case vx:return Math.floor((t+5)/6)*Math.floor((e+5)/6)*16;case yx:return Math.floor((t+7)/8)*Math.floor((e+4)/5)*16;case xx:return Math.floor((t+7)/8)*Math.floor((e+5)/6)*16;case _x:return Math.floor((t+7)/8)*Math.floor((e+7)/8)*16;case wx:return Math.floor((t+9)/10)*Math.floor((e+4)/5)*16;case Sx:return Math.floor((t+9)/10)*Math.floor((e+5)/6)*16;case bx:return Math.floor((t+9)/10)*Math.floor((e+7)/8)*16;case Mx:return Math.floor((t+9)/10)*Math.floor((e+9)/10)*16;case Ex:return Math.floor((t+11)/12)*Math.floor((e+9)/10)*16;case Tx:return Math.floor((t+11)/12)*Math.floor((e+11)/12)*16;case Mp:case Cx:case Ax:return Math.ceil(t/4)*Math.ceil(e/4)*16;case gA:case Px:return Math.ceil(t/4)*Math.ceil(e/4)*8;case Rx:case Ix:return Math.ceil(t/4)*Math.ceil(e/4)*16}throw new Error(`Unable to determine texture byte length for ${n} format.`)}function zne(t){switch(t){case Is:case uA:return{byteLength:1,components:1};case Mf:case dA:case Yf:return{byteLength:2,components:1};case H_:case W_:return{byteLength:2,components:4};case Aa:case j_:case ki:return{byteLength:4,components:1};case fA:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${t}.`)}class Vne{static contain(e,n){return Fne(e,n)}static cover(e,n){return Une(e,n)}static fill(e){return Bne(e)}static getByteLength(e,n,r,i){return HE(e,n,r,i)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:B_}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=B_);/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */function UV(){let t=null,e=!1,n=null,r=null;function i(s,o){n(s,o),r=t.requestAnimationFrame(i)}return{start:function(){e!==!0&&n!==null&&(r=t.requestAnimationFrame(i),e=!0)},stop:function(){t.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(s){n=s},setContext:function(s){t=s}}}function jne(t){const e=new WeakMap;function n(a,l){const c=a.array,d=a.usage,h=c.byteLength,p=t.createBuffer();t.bindBuffer(l,p),t.bufferData(l,c,d),a.onUploadCallback();let m;if(c instanceof Float32Array)m=t.FLOAT;else if(typeof Float16Array<"u"&&c instanceof Float16Array)m=t.HALF_FLOAT;else if(c instanceof Uint16Array)a.isFloat16BufferAttribute?m=t.HALF_FLOAT:m=t.UNSIGNED_SHORT;else if(c instanceof Int16Array)m=t.SHORT;else if(c instanceof Uint32Array)m=t.UNSIGNED_INT;else if(c instanceof Int32Array)m=t.INT;else if(c instanceof Int8Array)m=t.BYTE;else if(c instanceof Uint8Array)m=t.UNSIGNED_BYTE;else if(c instanceof Uint8ClampedArray)m=t.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+c);return{buffer:p,type:m,bytesPerElement:c.BYTES_PER_ELEMENT,version:a.version,size:h}}function r(a,l,c){const d=l.array,h=l.updateRanges;if(t.bindBuffer(c,a),h.length===0)t.bufferSubData(c,0,d);else{h.sort((m,v)=>m.start-v.start);let p=0;for(let m=1;m<h.length;m++){const v=h[p],x=h[m];x.start<=v.start+v.count+1?v.count=Math.max(v.count,x.start+x.count-v.start):(++p,h[p]=x)}h.length=p+1;for(let m=0,v=h.length;m<v;m++){const x=h[m];t.bufferSubData(c,x.start*d.BYTES_PER_ELEMENT,d,x.start,x.count)}l.clearUpdateRanges()}l.onUploadCallback()}function i(a){return a.isInterleavedBufferAttribute&&(a=a.data),e.get(a)}function s(a){a.isInterleavedBufferAttribute&&(a=a.data);const l=e.get(a);l&&(t.deleteBuffer(l.buffer),e.delete(a))}function o(a,l){if(a.isInterleavedBufferAttribute&&(a=a.data),a.isGLBufferAttribute){const d=e.get(a);(!d||d.version<a.version)&&e.set(a,{buffer:a.buffer,type:a.type,bytesPerElement:a.elementSize,version:a.version});return}const c=e.get(a);if(c===void 0)e.set(a,n(a,l));else if(c.version<a.version){if(c.size!==a.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");r(c.buffer,a,l),c.version=a.version}}return{get:i,remove:s,update:o}}var Hne=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,Wne=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,Gne=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,Xne=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,$ne=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,Yne=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,qne=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,Zne=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,Kne=`#ifdef USE_BATCHING
	#if ! defined( GL_ANGLE_multi_draw )
	#define gl_DrawID _gl_DrawID
	uniform int _gl_DrawID;
	#endif
	uniform highp sampler2D batchingTexture;
	uniform highp usampler2D batchingIdTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
	float getIndirectIndex( const in int i ) {
		int size = textureSize( batchingIdTexture, 0 ).x;
		int x = i % size;
		int y = i / size;
		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,Qne=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
#endif`,Jne=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,ere=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,tre=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,nre=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,rre=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,ire=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,sre=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,ore=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,are=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,lre=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,cre=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,ure=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,dre=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );
	vColor.xyz *= batchingColor.xyz;
#endif`,fre=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,hre=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,pre=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,mre=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,gre=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,vre=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE
		emissiveColor = sRGBTransferEOTF( emissiveColor );
	#endif
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,yre=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,xre="gl_FragColor = linearToOutputTexel( gl_FragColor );",_re=`vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferEOTF( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,wre=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,Sre=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,bre=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,Mre=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,Ere=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,Tre=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,Cre=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,Are=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,Pre=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,Rre=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,Ire=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,Nre=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,Lre=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,Dre=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,kre=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,Ore=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,Fre=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,Ure=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,Bre=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,zre=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,Vre=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,jre=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,Hre=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,Wre=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,Gre=`#if defined( USE_LOGDEPTHBUF )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,Xre=`#if defined( USE_LOGDEPTHBUF )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,$re=`#ifdef USE_LOGDEPTHBUF
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,Yre=`#ifdef USE_LOGDEPTHBUF
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,qre=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,Zre=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,Kre=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,Qre=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,Jre=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,eie=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,tie=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,nie=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,rie=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,iie=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,sie=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,oie=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,aie=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,lie=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,cie=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,uie=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,die=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,fie=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,hie=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,pie=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,mie=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,gie=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,vie=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;
const float Inv255 = 1. / 255.;
const vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );
const vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );
const vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );
const vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );
vec4 packDepthToRGBA( const in float v ) {
	if( v <= 0.0 )
		return vec4( 0., 0., 0., 0. );
	if( v >= 1.0 )
		return vec4( 1., 1., 1., 1. );
	float vuf;
	float af = modf( v * PackFactors.a, vuf );
	float bf = modf( vuf * ShiftRight8, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );
}
vec3 packDepthToRGB( const in float v ) {
	if( v <= 0.0 )
		return vec3( 0., 0., 0. );
	if( v >= 1.0 )
		return vec3( 1., 1., 1. );
	float vuf;
	float bf = modf( v * PackFactors.b, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec3( vuf * Inv255, gf * PackUpscale, bf );
}
vec2 packDepthToRG( const in float v ) {
	if( v <= 0.0 )
		return vec2( 0., 0. );
	if( v >= 1.0 )
		return vec2( 1., 1. );
	float vuf;
	float gf = modf( v * 256., vuf );
	return vec2( vuf * Inv255, gf );
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors4 );
}
float unpackRGBToDepth( const in vec3 v ) {
	return dot( v, UnpackFactors3 );
}
float unpackRGToDepth( const in vec2 v ) {
	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;
}
vec4 pack2HalfToRGBA( const in vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( const in vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,yie=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,xie=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,_ie=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,wie=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,Sie=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,bie=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,Mie=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		
		float lightToPositionLength = length( lightToPosition );
		if ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {
			float dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );			dp += shadowBias;
			vec3 bd3D = normalize( lightToPosition );
			vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
			#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
				vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
				shadow = (
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
				) * ( 1.0 / 9.0 );
			#else
				shadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
			#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
#endif`,Eie=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,Tie=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,Cie=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,Aie=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,Pie=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,Rie=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,Iie=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,Nie=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,Lie=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,Die=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,kie=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 CineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,Oie=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,Fie=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		#else
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,Uie=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,Bie=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,zie=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,Vie=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const jie=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,Hie=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Wie=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,Gie=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Xie=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,$ie=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Yie=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,qie=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#elif DEPTH_PACKING == 3202
		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );
	#elif DEPTH_PACKING == 3203
		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );
	#endif
}`,Zie=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,Kie=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,Qie=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,Jie=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,ese=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,tse=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,nse=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,rse=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,ise=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,sse=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,ose=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,ase=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,lse=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,cse=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,use=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,dse=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,fse=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,hse=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,pse=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,mse=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,gse=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,vse=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,yse=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,xse=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,_se=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix[ 3 ];
	vec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,wse=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,Bt={alphahash_fragment:Hne,alphahash_pars_fragment:Wne,alphamap_fragment:Gne,alphamap_pars_fragment:Xne,alphatest_fragment:$ne,alphatest_pars_fragment:Yne,aomap_fragment:qne,aomap_pars_fragment:Zne,batching_pars_vertex:Kne,batching_vertex:Qne,begin_vertex:Jne,beginnormal_vertex:ere,bsdfs:tre,iridescence_fragment:nre,bumpmap_pars_fragment:rre,clipping_planes_fragment:ire,clipping_planes_pars_fragment:sre,clipping_planes_pars_vertex:ore,clipping_planes_vertex:are,color_fragment:lre,color_pars_fragment:cre,color_pars_vertex:ure,color_vertex:dre,common:fre,cube_uv_reflection_fragment:hre,defaultnormal_vertex:pre,displacementmap_pars_vertex:mre,displacementmap_vertex:gre,emissivemap_fragment:vre,emissivemap_pars_fragment:yre,colorspace_fragment:xre,colorspace_pars_fragment:_re,envmap_fragment:wre,envmap_common_pars_fragment:Sre,envmap_pars_fragment:bre,envmap_pars_vertex:Mre,envmap_physical_pars_fragment:kre,envmap_vertex:Ere,fog_vertex:Tre,fog_pars_vertex:Cre,fog_fragment:Are,fog_pars_fragment:Pre,gradientmap_pars_fragment:Rre,lightmap_pars_fragment:Ire,lights_lambert_fragment:Nre,lights_lambert_pars_fragment:Lre,lights_pars_begin:Dre,lights_toon_fragment:Ore,lights_toon_pars_fragment:Fre,lights_phong_fragment:Ure,lights_phong_pars_fragment:Bre,lights_physical_fragment:zre,lights_physical_pars_fragment:Vre,lights_fragment_begin:jre,lights_fragment_maps:Hre,lights_fragment_end:Wre,logdepthbuf_fragment:Gre,logdepthbuf_pars_fragment:Xre,logdepthbuf_pars_vertex:$re,logdepthbuf_vertex:Yre,map_fragment:qre,map_pars_fragment:Zre,map_particle_fragment:Kre,map_particle_pars_fragment:Qre,metalnessmap_fragment:Jre,metalnessmap_pars_fragment:eie,morphinstance_vertex:tie,morphcolor_vertex:nie,morphnormal_vertex:rie,morphtarget_pars_vertex:iie,morphtarget_vertex:sie,normal_fragment_begin:oie,normal_fragment_maps:aie,normal_pars_fragment:lie,normal_pars_vertex:cie,normal_vertex:uie,normalmap_pars_fragment:die,clearcoat_normal_fragment_begin:fie,clearcoat_normal_fragment_maps:hie,clearcoat_pars_fragment:pie,iridescence_pars_fragment:mie,opaque_fragment:gie,packing:vie,premultiplied_alpha_fragment:yie,project_vertex:xie,dithering_fragment:_ie,dithering_pars_fragment:wie,roughnessmap_fragment:Sie,roughnessmap_pars_fragment:bie,shadowmap_pars_fragment:Mie,shadowmap_pars_vertex:Eie,shadowmap_vertex:Tie,shadowmask_pars_fragment:Cie,skinbase_vertex:Aie,skinning_pars_vertex:Pie,skinning_vertex:Rie,skinnormal_vertex:Iie,specularmap_fragment:Nie,specularmap_pars_fragment:Lie,tonemapping_fragment:Die,tonemapping_pars_fragment:kie,transmission_fragment:Oie,transmission_pars_fragment:Fie,uv_pars_fragment:Uie,uv_pars_vertex:Bie,uv_vertex:zie,worldpos_vertex:Vie,background_vert:jie,background_frag:Hie,backgroundCube_vert:Wie,backgroundCube_frag:Gie,cube_vert:Xie,cube_frag:$ie,depth_vert:Yie,depth_frag:qie,distanceRGBA_vert:Zie,distanceRGBA_frag:Kie,equirect_vert:Qie,equirect_frag:Jie,linedashed_vert:ese,linedashed_frag:tse,meshbasic_vert:nse,meshbasic_frag:rse,meshlambert_vert:ise,meshlambert_frag:sse,meshmatcap_vert:ose,meshmatcap_frag:ase,meshnormal_vert:lse,meshnormal_frag:cse,meshphong_vert:use,meshphong_frag:dse,meshphysical_vert:fse,meshphysical_frag:hse,meshtoon_vert:pse,meshtoon_frag:mse,points_vert:gse,points_frag:vse,shadow_vert:yse,shadow_frag:xse,sprite_vert:_se,sprite_frag:wse},Ke={common:{diffuse:{value:new lt(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new Dt},alphaMap:{value:null},alphaMapTransform:{value:new Dt},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new Dt}},envmap:{envMap:{value:null},envMapRotation:{value:new Dt},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new Dt}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new Dt}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new Dt},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new Dt},normalScale:{value:new Te(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new Dt},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new Dt}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new Dt}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new Dt}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new lt(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new lt(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new Dt},alphaTest:{value:0},uvTransform:{value:new Dt}},sprite:{diffuse:{value:new lt(16777215)},opacity:{value:1},center:{value:new Te(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new Dt},alphaMap:{value:null},alphaMapTransform:{value:new Dt},alphaTest:{value:0}}},$s={basic:{uniforms:ai([Ke.common,Ke.specularmap,Ke.envmap,Ke.aomap,Ke.lightmap,Ke.fog]),vertexShader:Bt.meshbasic_vert,fragmentShader:Bt.meshbasic_frag},lambert:{uniforms:ai([Ke.common,Ke.specularmap,Ke.envmap,Ke.aomap,Ke.lightmap,Ke.emissivemap,Ke.bumpmap,Ke.normalmap,Ke.displacementmap,Ke.fog,Ke.lights,{emissive:{value:new lt(0)}}]),vertexShader:Bt.meshlambert_vert,fragmentShader:Bt.meshlambert_frag},phong:{uniforms:ai([Ke.common,Ke.specularmap,Ke.envmap,Ke.aomap,Ke.lightmap,Ke.emissivemap,Ke.bumpmap,Ke.normalmap,Ke.displacementmap,Ke.fog,Ke.lights,{emissive:{value:new lt(0)},specular:{value:new lt(1118481)},shininess:{value:30}}]),vertexShader:Bt.meshphong_vert,fragmentShader:Bt.meshphong_frag},standard:{uniforms:ai([Ke.common,Ke.envmap,Ke.aomap,Ke.lightmap,Ke.emissivemap,Ke.bumpmap,Ke.normalmap,Ke.displacementmap,Ke.roughnessmap,Ke.metalnessmap,Ke.fog,Ke.lights,{emissive:{value:new lt(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Bt.meshphysical_vert,fragmentShader:Bt.meshphysical_frag},toon:{uniforms:ai([Ke.common,Ke.aomap,Ke.lightmap,Ke.emissivemap,Ke.bumpmap,Ke.normalmap,Ke.displacementmap,Ke.gradientmap,Ke.fog,Ke.lights,{emissive:{value:new lt(0)}}]),vertexShader:Bt.meshtoon_vert,fragmentShader:Bt.meshtoon_frag},matcap:{uniforms:ai([Ke.common,Ke.bumpmap,Ke.normalmap,Ke.displacementmap,Ke.fog,{matcap:{value:null}}]),vertexShader:Bt.meshmatcap_vert,fragmentShader:Bt.meshmatcap_frag},points:{uniforms:ai([Ke.points,Ke.fog]),vertexShader:Bt.points_vert,fragmentShader:Bt.points_frag},dashed:{uniforms:ai([Ke.common,Ke.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Bt.linedashed_vert,fragmentShader:Bt.linedashed_frag},depth:{uniforms:ai([Ke.common,Ke.displacementmap]),vertexShader:Bt.depth_vert,fragmentShader:Bt.depth_frag},normal:{uniforms:ai([Ke.common,Ke.bumpmap,Ke.normalmap,Ke.displacementmap,{opacity:{value:1}}]),vertexShader:Bt.meshnormal_vert,fragmentShader:Bt.meshnormal_frag},sprite:{uniforms:ai([Ke.sprite,Ke.fog]),vertexShader:Bt.sprite_vert,fragmentShader:Bt.sprite_frag},background:{uniforms:{uvTransform:{value:new Dt},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:Bt.background_vert,fragmentShader:Bt.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new Dt}},vertexShader:Bt.backgroundCube_vert,fragmentShader:Bt.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Bt.cube_vert,fragmentShader:Bt.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Bt.equirect_vert,fragmentShader:Bt.equirect_frag},distanceRGBA:{uniforms:ai([Ke.common,Ke.displacementmap,{referencePosition:{value:new H},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Bt.distanceRGBA_vert,fragmentShader:Bt.distanceRGBA_frag},shadow:{uniforms:ai([Ke.lights,Ke.fog,{color:{value:new lt(0)},opacity:{value:1}}]),vertexShader:Bt.shadow_vert,fragmentShader:Bt.shadow_frag}};$s.physical={uniforms:ai([$s.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new Dt},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new Dt},clearcoatNormalScale:{value:new Te(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new Dt},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new Dt},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new Dt},sheen:{value:0},sheenColor:{value:new lt(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new Dt},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new Dt},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new Dt},transmissionSamplerSize:{value:new Te},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new Dt},attenuationDistance:{value:0},attenuationColor:{value:new lt(0)},specularColor:{value:new lt(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new Dt},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new Dt},anisotropyVector:{value:new Te},anisotropyMap:{value:null},anisotropyMapTransform:{value:new Dt}}]),vertexShader:Bt.meshphysical_vert,fragmentShader:Bt.meshphysical_frag};const Ey={r:0,b:0,g:0},Ec=new is,Sse=new Tt;function bse(t,e,n,r,i,s,o){const a=new lt(0);let l=s===!0?0:1,c,d,h=null,p=0,m=null;function v(b){let E=b.isScene===!0?b.background:null;return E&&E.isTexture&&(E=(b.backgroundBlurriness>0?n:e).get(E)),E}function x(b){let E=!1;const C=v(b);C===null?g(a,l):C&&C.isColor&&(g(C,1),E=!0);const A=t.xr.getEnvironmentBlendMode();A==="additive"?r.buffers.color.setClear(0,0,0,1,o):A==="alpha-blend"&&r.buffers.color.setClear(0,0,0,0,o),(t.autoClear||E)&&(r.buffers.depth.setTest(!0),r.buffers.depth.setMask(!0),r.buffers.color.setMask(!0),t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil))}function y(b,E){const C=v(E);C&&(C.isCubeTexture||C.mapping===$f)?(d===void 0&&(d=new dr(new Tu(1,1,1),new to({name:"BackgroundCubeMaterial",uniforms:Pf($s.backgroundCube.uniforms),vertexShader:$s.backgroundCube.vertexShader,fragmentShader:$s.backgroundCube.fragmentShader,side:gi,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),d.geometry.deleteAttribute("normal"),d.geometry.deleteAttribute("uv"),d.onBeforeRender=function(A,I,D){this.matrixWorld.copyPosition(D.matrixWorld)},Object.defineProperty(d.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(d)),Ec.copy(E.backgroundRotation),Ec.x*=-1,Ec.y*=-1,Ec.z*=-1,C.isCubeTexture&&C.isRenderTargetTexture===!1&&(Ec.y*=-1,Ec.z*=-1),d.material.uniforms.envMap.value=C,d.material.uniforms.flipEnvMap.value=C.isCubeTexture&&C.isRenderTargetTexture===!1?-1:1,d.material.uniforms.backgroundBlurriness.value=E.backgroundBlurriness,d.material.uniforms.backgroundIntensity.value=E.backgroundIntensity,d.material.uniforms.backgroundRotation.value.setFromMatrix4(Sse.makeRotationFromEuler(Ec)),d.material.toneMapped=cn.getTransfer(C.colorSpace)!==Sn,(h!==C||p!==C.version||m!==t.toneMapping)&&(d.material.needsUpdate=!0,h=C,p=C.version,m=t.toneMapping),d.layers.enableAll(),b.unshift(d,d.geometry,d.material,0,0,null)):C&&C.isTexture&&(c===void 0&&(c=new dr(new Zf(2,2),new to({name:"BackgroundMaterial",uniforms:Pf($s.background.uniforms),vertexShader:$s.background.vertexShader,fragmentShader:$s.background.fragmentShader,side:Ta,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),c.geometry.deleteAttribute("normal"),Object.defineProperty(c.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(c)),c.material.uniforms.t2D.value=C,c.material.uniforms.backgroundIntensity.value=E.backgroundIntensity,c.material.toneMapped=cn.getTransfer(C.colorSpace)!==Sn,C.matrixAutoUpdate===!0&&C.updateMatrix(),c.material.uniforms.uvTransform.value.copy(C.matrix),(h!==C||p!==C.version||m!==t.toneMapping)&&(c.material.needsUpdate=!0,h=C,p=C.version,m=t.toneMapping),c.layers.enableAll(),b.unshift(c,c.geometry,c.material,0,0,null))}function g(b,E){b.getRGB(Ey,F4(t)),r.buffers.color.setClear(Ey.r,Ey.g,Ey.b,E,o)}function w(){d!==void 0&&(d.geometry.dispose(),d.material.dispose(),d=void 0),c!==void 0&&(c.geometry.dispose(),c.material.dispose(),c=void 0)}return{getClearColor:function(){return a},setClearColor:function(b,E=1){a.set(b),l=E,g(a,l)},getClearAlpha:function(){return l},setClearAlpha:function(b){l=b,g(a,l)},render:x,addToRenderList:y,dispose:w}}function Mse(t,e){const n=t.getParameter(t.MAX_VERTEX_ATTRIBS),r={},i=p(null);let s=i,o=!1;function a(R,F,j,G,$){let ne=!1;const J=h(G,j,F);s!==J&&(s=J,c(s.object)),ne=m(R,G,j,$),ne&&v(R,G,j,$),$!==null&&e.update($,t.ELEMENT_ARRAY_BUFFER),(ne||o)&&(o=!1,E(R,F,j,G),$!==null&&t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,e.get($).buffer))}function l(){return t.createVertexArray()}function c(R){return t.bindVertexArray(R)}function d(R){return t.deleteVertexArray(R)}function h(R,F,j){const G=j.wireframe===!0;let $=r[R.id];$===void 0&&($={},r[R.id]=$);let ne=$[F.id];ne===void 0&&(ne={},$[F.id]=ne);let J=ne[G];return J===void 0&&(J=p(l()),ne[G]=J),J}function p(R){const F=[],j=[],G=[];for(let $=0;$<n;$++)F[$]=0,j[$]=0,G[$]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:F,enabledAttributes:j,attributeDivisors:G,object:R,attributes:{},index:null}}function m(R,F,j,G){const $=s.attributes,ne=F.attributes;let J=0;const re=j.getAttributes();for(const k in re)if(re[k].location>=0){const q=$[k];let ee=ne[k];if(ee===void 0&&(k==="instanceMatrix"&&R.instanceMatrix&&(ee=R.instanceMatrix),k==="instanceColor"&&R.instanceColor&&(ee=R.instanceColor)),q===void 0||q.attribute!==ee||ee&&q.data!==ee.data)return!0;J++}return s.attributesNum!==J||s.index!==G}function v(R,F,j,G){const $={},ne=F.attributes;let J=0;const re=j.getAttributes();for(const k in re)if(re[k].location>=0){let q=ne[k];q===void 0&&(k==="instanceMatrix"&&R.instanceMatrix&&(q=R.instanceMatrix),k==="instanceColor"&&R.instanceColor&&(q=R.instanceColor));const ee={};ee.attribute=q,q&&q.data&&(ee.data=q.data),$[k]=ee,J++}s.attributes=$,s.attributesNum=J,s.index=G}function x(){const R=s.newAttributes;for(let F=0,j=R.length;F<j;F++)R[F]=0}function y(R){g(R,0)}function g(R,F){const j=s.newAttributes,G=s.enabledAttributes,$=s.attributeDivisors;j[R]=1,G[R]===0&&(t.enableVertexAttribArray(R),G[R]=1),$[R]!==F&&(t.vertexAttribDivisor(R,F),$[R]=F)}function w(){const R=s.newAttributes,F=s.enabledAttributes;for(let j=0,G=F.length;j<G;j++)F[j]!==R[j]&&(t.disableVertexAttribArray(j),F[j]=0)}function b(R,F,j,G,$,ne,J){J===!0?t.vertexAttribIPointer(R,F,j,$,ne):t.vertexAttribPointer(R,F,j,G,$,ne)}function E(R,F,j,G){x();const $=G.attributes,ne=j.getAttributes(),J=F.defaultAttributeValues;for(const re in ne){const k=ne[re];if(k.location>=0){let W=$[re];if(W===void 0&&(re==="instanceMatrix"&&R.instanceMatrix&&(W=R.instanceMatrix),re==="instanceColor"&&R.instanceColor&&(W=R.instanceColor)),W!==void 0){const q=W.normalized,ee=W.itemSize,de=e.get(W);if(de===void 0)continue;const Ae=de.buffer,ae=de.type,be=de.bytesPerElement,Ee=ae===t.INT||ae===t.UNSIGNED_INT||W.gpuType===j_;if(W.isInterleavedBufferAttribute){const me=W.data,ke=me.stride,tt=W.offset;if(me.isInstancedInterleavedBuffer){for(let Fe=0;Fe<k.locationSize;Fe++)g(k.location+Fe,me.meshPerAttribute);R.isInstancedMesh!==!0&&G._maxInstanceCount===void 0&&(G._maxInstanceCount=me.meshPerAttribute*me.count)}else for(let Fe=0;Fe<k.locationSize;Fe++)y(k.location+Fe);t.bindBuffer(t.ARRAY_BUFFER,Ae);for(let Fe=0;Fe<k.locationSize;Fe++)b(k.location+Fe,ee/k.locationSize,ae,q,ke*be,(tt+ee/k.locationSize*Fe)*be,Ee)}else{if(W.isInstancedBufferAttribute){for(let me=0;me<k.locationSize;me++)g(k.location+me,W.meshPerAttribute);R.isInstancedMesh!==!0&&G._maxInstanceCount===void 0&&(G._maxInstanceCount=W.meshPerAttribute*W.count)}else for(let me=0;me<k.locationSize;me++)y(k.location+me);t.bindBuffer(t.ARRAY_BUFFER,Ae);for(let me=0;me<k.locationSize;me++)b(k.location+me,ee/k.locationSize,ae,q,ee*be,ee/k.locationSize*me*be,Ee)}}else if(J!==void 0){const q=J[re];if(q!==void 0)switch(q.length){case 2:t.vertexAttrib2fv(k.location,q);break;case 3:t.vertexAttrib3fv(k.location,q);break;case 4:t.vertexAttrib4fv(k.location,q);break;default:t.vertexAttrib1fv(k.location,q)}}}}w()}function C(){D();for(const R in r){const F=r[R];for(const j in F){const G=F[j];for(const $ in G)d(G[$].object),delete G[$];delete F[j]}delete r[R]}}function A(R){if(r[R.id]===void 0)return;const F=r[R.id];for(const j in F){const G=F[j];for(const $ in G)d(G[$].object),delete G[$];delete F[j]}delete r[R.id]}function I(R){for(const F in r){const j=r[F];if(j[R.id]===void 0)continue;const G=j[R.id];for(const $ in G)d(G[$].object),delete G[$];delete j[R.id]}}function D(){N(),o=!0,s!==i&&(s=i,c(s.object))}function N(){i.geometry=null,i.program=null,i.wireframe=!1}return{setup:a,reset:D,resetDefaultState:N,dispose:C,releaseStatesOfGeometry:A,releaseStatesOfProgram:I,initAttributes:x,enableAttribute:y,disableUnusedAttributes:w}}function Ese(t,e,n){let r;function i(c){r=c}function s(c,d){t.drawArrays(r,c,d),n.update(d,r,1)}function o(c,d,h){h!==0&&(t.drawArraysInstanced(r,c,d,h),n.update(d,r,h))}function a(c,d,h){if(h===0)return;e.get("WEBGL_multi_draw").multiDrawArraysWEBGL(r,c,0,d,0,h);let m=0;for(let v=0;v<h;v++)m+=d[v];n.update(m,r,1)}function l(c,d,h,p){if(h===0)return;const m=e.get("WEBGL_multi_draw");if(m===null)for(let v=0;v<c.length;v++)o(c[v],d[v],p[v]);else{m.multiDrawArraysInstancedWEBGL(r,c,0,d,0,p,0,h);let v=0;for(let x=0;x<h;x++)v+=d[x]*p[x];n.update(v,r,1)}}this.setMode=i,this.render=s,this.renderInstances=o,this.renderMultiDraw=a,this.renderMultiDrawInstances=l}function Tse(t,e,n,r){let i;function s(){if(i!==void 0)return i;if(e.has("EXT_texture_filter_anisotropic")===!0){const I=e.get("EXT_texture_filter_anisotropic");i=t.getParameter(I.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else i=0;return i}function o(I){return!(I!==Qr&&r.convert(I)!==t.getParameter(t.IMPLEMENTATION_COLOR_READ_FORMAT))}function a(I){const D=I===Yf&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(I!==Is&&r.convert(I)!==t.getParameter(t.IMPLEMENTATION_COLOR_READ_TYPE)&&I!==ki&&!D)}function l(I){if(I==="highp"){if(t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.HIGH_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision>0)return"highp";I="mediump"}return I==="mediump"&&t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.MEDIUM_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let c=n.precision!==void 0?n.precision:"highp";const d=l(c);d!==c&&(console.warn("THREE.WebGLRenderer:",c,"not supported, using",d,"instead."),c=d);const h=n.logarithmicDepthBuffer===!0,p=n.reverseDepthBuffer===!0&&e.has("EXT_clip_control"),m=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),v=t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS),x=t.getParameter(t.MAX_TEXTURE_SIZE),y=t.getParameter(t.MAX_CUBE_MAP_TEXTURE_SIZE),g=t.getParameter(t.MAX_VERTEX_ATTRIBS),w=t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS),b=t.getParameter(t.MAX_VARYING_VECTORS),E=t.getParameter(t.MAX_FRAGMENT_UNIFORM_VECTORS),C=v>0,A=t.getParameter(t.MAX_SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:s,getMaxPrecision:l,textureFormatReadable:o,textureTypeReadable:a,precision:c,logarithmicDepthBuffer:h,reverseDepthBuffer:p,maxTextures:m,maxVertexTextures:v,maxTextureSize:x,maxCubemapSize:y,maxAttributes:g,maxVertexUniforms:w,maxVaryings:b,maxFragmentUniforms:E,vertexTextures:C,maxSamples:A}}function Cse(t){const e=this;let n=null,r=0,i=!1,s=!1;const o=new aa,a=new Dt,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(h,p){const m=h.length!==0||p||r!==0||i;return i=p,r=h.length,m},this.beginShadows=function(){s=!0,d(null)},this.endShadows=function(){s=!1},this.setGlobalState=function(h,p){n=d(h,p,0)},this.setState=function(h,p,m){const v=h.clippingPlanes,x=h.clipIntersection,y=h.clipShadows,g=t.get(h);if(!i||v===null||v.length===0||s&&!y)s?d(null):c();else{const w=s?0:r,b=w*4;let E=g.clippingState||null;l.value=E,E=d(v,p,b,m);for(let C=0;C!==b;++C)E[C]=n[C];g.clippingState=E,this.numIntersection=x?this.numPlanes:0,this.numPlanes+=w}};function c(){l.value!==n&&(l.value=n,l.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function d(h,p,m,v){const x=h!==null?h.length:0;let y=null;if(x!==0){if(y=l.value,v!==!0||y===null){const g=m+x*4,w=p.matrixWorldInverse;a.getNormalMatrix(w),(y===null||y.length<g)&&(y=new Float32Array(g));for(let b=0,E=m;b!==x;++b,E+=4)o.copy(h[b]).applyMatrix4(w,a),o.normal.toArray(y,E),y[E+3]=o.constant}l.value=y,l.needsUpdate=!0}return e.numPlanes=x,e.numIntersection=0,y}}function Ase(t){let e=new WeakMap;function n(o,a){return a===cm?o.mapping=Ca:a===um&&(o.mapping=jl),o}function r(o){if(o&&o.isTexture){const a=o.mapping;if(a===cm||a===um)if(e.has(o)){const l=e.get(o).texture;return n(l,o.mapping)}else{const l=o.image;if(l&&l.height>0){const c=new z4(l.height);return c.fromEquirectangularTexture(t,o),e.set(o,c),o.addEventListener("dispose",i),n(c.texture,o.mapping)}else return null}}return o}function i(o){const a=o.target;a.removeEventListener("dispose",i);const l=e.get(a);l!==void 0&&(e.delete(a),l.dispose())}function s(){e=new WeakMap}return{get:r,dispose:s}}const zd=4,yD=[.125,.215,.35,.446,.526,.582],Oc=20,_b=new Nl,xD=new lt;let wb=null,Sb=0,bb=0,Mb=!1;const kc=(1+Math.sqrt(5))/2,ud=1/kc,_D=[new H(-kc,ud,0),new H(kc,ud,0),new H(-ud,0,kc),new H(ud,0,kc),new H(0,kc,-ud),new H(0,kc,ud),new H(-1,1,-1),new H(1,1,-1),new H(-1,1,1),new H(1,1,1)],Pse=new H;class WE{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,n=0,r=.1,i=100,s={}){const{size:o=256,position:a=Pse}=s;wb=this._renderer.getRenderTarget(),Sb=this._renderer.getActiveCubeFace(),bb=this._renderer.getActiveMipmapLevel(),Mb=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(o);const l=this._allocateTargets();return l.depthBuffer=!0,this._sceneToCubeUV(e,r,i,l,a),n>0&&this._blur(l,0,0,n),this._applyPMREM(l),this._cleanup(l),l}fromEquirectangular(e,n=null){return this._fromTexture(e,n)}fromCubemap(e,n=null){return this._fromTexture(e,n)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=bD(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=SD(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(wb,Sb,bb),this._renderer.xr.enabled=Mb,e.scissorTest=!1,Ty(e,0,0,e.width,e.height)}_fromTexture(e,n){e.mapping===Ca||e.mapping===jl?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),wb=this._renderer.getRenderTarget(),Sb=this._renderer.getActiveCubeFace(),bb=this._renderer.getActiveMipmapLevel(),Mb=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const r=n||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),n=4*this._cubeSize,r={magFilter:yr,minFilter:yr,generateMipmaps:!1,type:Yf,format:Qr,colorSpace:hu,depthBuffer:!1},i=wD(e,n,r);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==n){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=wD(e,n,r);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=Rse(s)),this._blurMaterial=Ise(s,e,n)}return i}_compileMaterial(e){const n=new dr(this._lodPlanes[0],e);this._renderer.compile(n,_b)}_sceneToCubeUV(e,n,r,i,s){const l=new rr(90,1,n,r),c=[1,-1,1,1,1,1],d=[1,1,1,-1,-1,-1],h=this._renderer,p=h.autoClear,m=h.toneMapping;h.getClearColor(xD),h.toneMapping=No,h.autoClear=!1;const v=new Kl({name:"PMREM.Background",side:gi,depthWrite:!1,depthTest:!1}),x=new dr(new Tu,v);let y=!1;const g=e.background;g?g.isColor&&(v.color.copy(g),e.background=null,y=!0):(v.color.copy(xD),y=!0);for(let w=0;w<6;w++){const b=w%3;b===0?(l.up.set(0,c[w],0),l.position.set(s.x,s.y,s.z),l.lookAt(s.x+d[w],s.y,s.z)):b===1?(l.up.set(0,0,c[w]),l.position.set(s.x,s.y,s.z),l.lookAt(s.x,s.y+d[w],s.z)):(l.up.set(0,c[w],0),l.position.set(s.x,s.y,s.z),l.lookAt(s.x,s.y,s.z+d[w]));const E=this._cubeSize;Ty(i,b*E,w>2?E:0,E,E),h.setRenderTarget(i),y&&h.render(x,l),h.render(e,l)}x.geometry.dispose(),x.material.dispose(),h.toneMapping=m,h.autoClear=p,e.background=g}_textureToCubeUV(e,n){const r=this._renderer,i=e.mapping===Ca||e.mapping===jl;i?(this._cubemapMaterial===null&&(this._cubemapMaterial=bD()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=SD());const s=i?this._cubemapMaterial:this._equirectMaterial,o=new dr(this._lodPlanes[0],s),a=s.uniforms;a.envMap.value=e;const l=this._cubeSize;Ty(n,0,0,3*l,2*l),r.setRenderTarget(n),r.render(o,_b)}_applyPMREM(e){const n=this._renderer,r=n.autoClear;n.autoClear=!1;const i=this._lodPlanes.length;for(let s=1;s<i;s++){const o=Math.sqrt(this._sigmas[s]*this._sigmas[s]-this._sigmas[s-1]*this._sigmas[s-1]),a=_D[(i-s-1)%_D.length];this._blur(e,s-1,s,o,a)}n.autoClear=r}_blur(e,n,r,i,s){const o=this._pingPongRenderTarget;this._halfBlur(e,o,n,r,i,"latitudinal",s),this._halfBlur(o,e,r,r,i,"longitudinal",s)}_halfBlur(e,n,r,i,s,o,a){const l=this._renderer,c=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const d=3,h=new dr(this._lodPlanes[i],c),p=c.uniforms,m=this._sizeLods[r]-1,v=isFinite(s)?Math.PI/(2*m):2*Math.PI/(2*Oc-1),x=s/v,y=isFinite(s)?1+Math.floor(d*x):Oc;y>Oc&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${y} samples when the maximum is set to ${Oc}`);const g=[];let w=0;for(let I=0;I<Oc;++I){const D=I/x,N=Math.exp(-D*D/2);g.push(N),I===0?w+=N:I<y&&(w+=2*N)}for(let I=0;I<g.length;I++)g[I]=g[I]/w;p.envMap.value=e.texture,p.samples.value=y,p.weights.value=g,p.latitudinal.value=o==="latitudinal",a&&(p.poleAxis.value=a);const{_lodMax:b}=this;p.dTheta.value=v,p.mipInt.value=b-r;const E=this._sizeLods[i],C=3*E*(i>b-zd?i-b+zd:0),A=4*(this._cubeSize-E);Ty(n,C,A,3*E,2*E),l.setRenderTarget(n),l.render(h,_b)}}function Rse(t){const e=[],n=[],r=[];let i=t;const s=t-zd+1+yD.length;for(let o=0;o<s;o++){const a=Math.pow(2,i);n.push(a);let l=1/a;o>t-zd?l=yD[o-t+zd-1]:o===0&&(l=0),r.push(l);const c=1/(a-2),d=-c,h=1+c,p=[d,d,h,d,h,h,d,d,h,h,d,h],m=6,v=6,x=3,y=2,g=1,w=new Float32Array(x*v*m),b=new Float32Array(y*v*m),E=new Float32Array(g*v*m);for(let A=0;A<m;A++){const I=A%3*2/3-1,D=A>2?0:-1,N=[I,D,0,I+2/3,D,0,I+2/3,D+1,0,I,D,0,I+2/3,D+1,0,I,D+1,0];w.set(N,x*v*A),b.set(p,y*v*A);const R=[A,A,A,A,A,A];E.set(R,g*v*A)}const C=new Ft;C.setAttribute("position",new Mn(w,x)),C.setAttribute("uv",new Mn(b,y)),C.setAttribute("faceIndex",new Mn(E,g)),e.push(C),i>zd&&i--}return{lodPlanes:e,sizeLods:n,sigmas:r}}function wD(t,e,n){const r=new Oo(t,e,n);return r.texture.mapping=$f,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function Ty(t,e,n,r,i){t.viewport.set(e,n,r,i),t.scissor.set(e,n,r,i)}function Ise(t,e,n){const r=new Float32Array(Oc),i=new H(0,1,0);return new to({name:"SphericalGaussianBlur",defines:{n:Oc,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${t}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:YA(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:ma,depthTest:!1,depthWrite:!1})}function SD(){return new to({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:YA(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:ma,depthTest:!1,depthWrite:!1})}function bD(){return new to({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:YA(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:ma,depthTest:!1,depthWrite:!1})}function YA(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function Nse(t){let e=new WeakMap,n=null;function r(a){if(a&&a.isTexture){const l=a.mapping,c=l===cm||l===um,d=l===Ca||l===jl;if(c||d){let h=e.get(a);const p=h!==void 0?h.texture.pmremVersion:0;if(a.isRenderTargetTexture&&a.pmremVersion!==p)return n===null&&(n=new WE(t)),h=c?n.fromEquirectangular(a,h):n.fromCubemap(a,h),h.texture.pmremVersion=a.pmremVersion,e.set(a,h),h.texture;if(h!==void 0)return h.texture;{const m=a.image;return c&&m&&m.height>0||d&&m&&i(m)?(n===null&&(n=new WE(t)),h=c?n.fromEquirectangular(a):n.fromCubemap(a),h.texture.pmremVersion=a.pmremVersion,e.set(a,h),a.addEventListener("dispose",s),h.texture):null}}}return a}function i(a){let l=0;const c=6;for(let d=0;d<c;d++)a[d]!==void 0&&l++;return l===c}function s(a){const l=a.target;l.removeEventListener("dispose",s);const c=e.get(l);c!==void 0&&(e.delete(l),c.dispose())}function o(){e=new WeakMap,n!==null&&(n.dispose(),n=null)}return{get:r,dispose:o}}function Lse(t){const e={};function n(r){if(e[r]!==void 0)return e[r];let i;switch(r){case"WEBGL_depth_texture":i=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=t.getExtension(r)}return e[r]=i,i}return{has:function(r){return n(r)!==null},init:function(){n("EXT_color_buffer_float"),n("WEBGL_clip_cull_distance"),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture"),n("WEBGL_render_shared_exponent")},get:function(r){const i=n(r);return i===null&&Qd("THREE.WebGLRenderer: "+r+" extension not supported."),i}}}function Dse(t,e,n,r){const i={},s=new WeakMap;function o(h){const p=h.target;p.index!==null&&e.remove(p.index);for(const v in p.attributes)e.remove(p.attributes[v]);p.removeEventListener("dispose",o),delete i[p.id];const m=s.get(p);m&&(e.remove(m),s.delete(p)),r.releaseStatesOfGeometry(p),p.isInstancedBufferGeometry===!0&&delete p._maxInstanceCount,n.memory.geometries--}function a(h,p){return i[p.id]===!0||(p.addEventListener("dispose",o),i[p.id]=!0,n.memory.geometries++),p}function l(h){const p=h.attributes;for(const m in p)e.update(p[m],t.ARRAY_BUFFER)}function c(h){const p=[],m=h.index,v=h.attributes.position;let x=0;if(m!==null){const w=m.array;x=m.version;for(let b=0,E=w.length;b<E;b+=3){const C=w[b+0],A=w[b+1],I=w[b+2];p.push(C,A,A,I,I,C)}}else if(v!==void 0){const w=v.array;x=v.version;for(let b=0,E=w.length/3-1;b<E;b+=3){const C=b+0,A=b+1,I=b+2;p.push(C,A,A,I,I,C)}}else return;const y=new(L4(p)?SA:wA)(p,1);y.version=x;const g=s.get(h);g&&e.remove(g),s.set(h,y)}function d(h){const p=s.get(h);if(p){const m=h.index;m!==null&&p.version<m.version&&c(h)}else c(h);return s.get(h)}return{get:a,update:l,getWireframeAttribute:d}}function kse(t,e,n){let r;function i(p){r=p}let s,o;function a(p){s=p.type,o=p.bytesPerElement}function l(p,m){t.drawElements(r,m,s,p*o),n.update(m,r,1)}function c(p,m,v){v!==0&&(t.drawElementsInstanced(r,m,s,p*o,v),n.update(m,r,v))}function d(p,m,v){if(v===0)return;e.get("WEBGL_multi_draw").multiDrawElementsWEBGL(r,m,0,s,p,0,v);let y=0;for(let g=0;g<v;g++)y+=m[g];n.update(y,r,1)}function h(p,m,v,x){if(v===0)return;const y=e.get("WEBGL_multi_draw");if(y===null)for(let g=0;g<p.length;g++)c(p[g]/o,m[g],x[g]);else{y.multiDrawElementsInstancedWEBGL(r,m,0,s,p,0,x,0,v);let g=0;for(let w=0;w<v;w++)g+=m[w]*x[w];n.update(g,r,1)}}this.setMode=i,this.setIndex=a,this.render=l,this.renderInstances=c,this.renderMultiDraw=d,this.renderMultiDrawInstances=h}function Ose(t){const e={geometries:0,textures:0},n={frame:0,calls:0,triangles:0,points:0,lines:0};function r(s,o,a){switch(n.calls++,o){case t.TRIANGLES:n.triangles+=a*(s/3);break;case t.LINES:n.lines+=a*(s/2);break;case t.LINE_STRIP:n.lines+=a*(s-1);break;case t.LINE_LOOP:n.lines+=a*s;break;case t.POINTS:n.points+=a*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o);break}}function i(){n.calls=0,n.triangles=0,n.points=0,n.lines=0}return{memory:e,render:n,programs:null,autoReset:!0,reset:i,update:r}}function Fse(t,e,n){const r=new WeakMap,i=new dn;function s(o,a,l){const c=o.morphTargetInfluences,d=a.morphAttributes.position||a.morphAttributes.normal||a.morphAttributes.color,h=d!==void 0?d.length:0;let p=r.get(a);if(p===void 0||p.count!==h){let N=function(){I.dispose(),r.delete(a),a.removeEventListener("dispose",N)};p!==void 0&&p.texture.dispose();const m=a.morphAttributes.position!==void 0,v=a.morphAttributes.normal!==void 0,x=a.morphAttributes.color!==void 0,y=a.morphAttributes.position||[],g=a.morphAttributes.normal||[],w=a.morphAttributes.color||[];let b=0;m===!0&&(b=1),v===!0&&(b=2),x===!0&&(b=3);let E=a.attributes.position.count*b,C=1;E>e.maxTextureSize&&(C=Math.ceil(E/e.maxTextureSize),E=e.maxTextureSize);const A=new Float32Array(E*C*4*h),I=new q_(A,E,C,h);I.type=ki,I.needsUpdate=!0;const D=b*4;for(let R=0;R<h;R++){const F=y[R],j=g[R],G=w[R],$=E*C*4*R;for(let ne=0;ne<F.count;ne++){const J=ne*D;m===!0&&(i.fromBufferAttribute(F,ne),A[$+J+0]=i.x,A[$+J+1]=i.y,A[$+J+2]=i.z,A[$+J+3]=0),v===!0&&(i.fromBufferAttribute(j,ne),A[$+J+4]=i.x,A[$+J+5]=i.y,A[$+J+6]=i.z,A[$+J+7]=0),x===!0&&(i.fromBufferAttribute(G,ne),A[$+J+8]=i.x,A[$+J+9]=i.y,A[$+J+10]=i.z,A[$+J+11]=G.itemSize===4?i.w:1)}}p={count:h,texture:I,size:new Te(E,C)},r.set(a,p),a.addEventListener("dispose",N)}if(o.isInstancedMesh===!0&&o.morphTexture!==null)l.getUniforms().setValue(t,"morphTexture",o.morphTexture,n);else{let m=0;for(let x=0;x<c.length;x++)m+=c[x];const v=a.morphTargetsRelative?1:1-m;l.getUniforms().setValue(t,"morphTargetBaseInfluence",v),l.getUniforms().setValue(t,"morphTargetInfluences",c)}l.getUniforms().setValue(t,"morphTargetsTexture",p.texture,n),l.getUniforms().setValue(t,"morphTargetsTextureSize",p.size)}return{update:s}}function Use(t,e,n,r){let i=new WeakMap;function s(l){const c=r.render.frame,d=l.geometry,h=e.get(l,d);if(i.get(h)!==c&&(e.update(h),i.set(h,c)),l.isInstancedMesh&&(l.hasEventListener("dispose",a)===!1&&l.addEventListener("dispose",a),i.get(l)!==c&&(n.update(l.instanceMatrix,t.ARRAY_BUFFER),l.instanceColor!==null&&n.update(l.instanceColor,t.ARRAY_BUFFER),i.set(l,c))),l.isSkinnedMesh){const p=l.skeleton;i.get(p)!==c&&(p.update(),i.set(p,c))}return h}function o(){i=new WeakMap}function a(l){const c=l.target;c.removeEventListener("dispose",a),n.remove(c.instanceMatrix),c.instanceColor!==null&&n.remove(c.instanceColor)}return{update:s,dispose:o}}const BV=new Qn,MD=new CA(1,1),zV=new q_,VV=new Z_,jV=new $m,ED=[],TD=[],CD=new Float32Array(16),AD=new Float32Array(9),PD=new Float32Array(4);function Kf(t,e,n){const r=t[0];if(r<=0||r>0)return t;const i=e*n;let s=ED[i];if(s===void 0&&(s=new Float32Array(i),ED[i]=s),e!==0){r.toArray(s,0);for(let o=1,a=0;o!==e;++o)a+=n,t[o].toArray(s,a)}return s}function xr(t,e){if(t.length!==e.length)return!1;for(let n=0,r=t.length;n<r;n++)if(t[n]!==e[n])return!1;return!0}function _r(t,e){for(let n=0,r=e.length;n<r;n++)t[n]=e[n]}function vw(t,e){let n=TD[e];n===void 0&&(n=new Int32Array(e),TD[e]=n);for(let r=0;r!==e;++r)n[r]=t.allocateTextureUnit();return n}function Bse(t,e){const n=this.cache;n[0]!==e&&(t.uniform1f(this.addr,e),n[0]=e)}function zse(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2f(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(xr(n,e))return;t.uniform2fv(this.addr,e),_r(n,e)}}function Vse(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3f(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else if(e.r!==void 0)(n[0]!==e.r||n[1]!==e.g||n[2]!==e.b)&&(t.uniform3f(this.addr,e.r,e.g,e.b),n[0]=e.r,n[1]=e.g,n[2]=e.b);else{if(xr(n,e))return;t.uniform3fv(this.addr,e),_r(n,e)}}function jse(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(xr(n,e))return;t.uniform4fv(this.addr,e),_r(n,e)}}function Hse(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(xr(n,e))return;t.uniformMatrix2fv(this.addr,!1,e),_r(n,e)}else{if(xr(n,r))return;PD.set(r),t.uniformMatrix2fv(this.addr,!1,PD),_r(n,r)}}function Wse(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(xr(n,e))return;t.uniformMatrix3fv(this.addr,!1,e),_r(n,e)}else{if(xr(n,r))return;AD.set(r),t.uniformMatrix3fv(this.addr,!1,AD),_r(n,r)}}function Gse(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(xr(n,e))return;t.uniformMatrix4fv(this.addr,!1,e),_r(n,e)}else{if(xr(n,r))return;CD.set(r),t.uniformMatrix4fv(this.addr,!1,CD),_r(n,r)}}function Xse(t,e){const n=this.cache;n[0]!==e&&(t.uniform1i(this.addr,e),n[0]=e)}function $se(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2i(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(xr(n,e))return;t.uniform2iv(this.addr,e),_r(n,e)}}function Yse(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3i(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(xr(n,e))return;t.uniform3iv(this.addr,e),_r(n,e)}}function qse(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4i(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(xr(n,e))return;t.uniform4iv(this.addr,e),_r(n,e)}}function Zse(t,e){const n=this.cache;n[0]!==e&&(t.uniform1ui(this.addr,e),n[0]=e)}function Kse(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2ui(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(xr(n,e))return;t.uniform2uiv(this.addr,e),_r(n,e)}}function Qse(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3ui(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(xr(n,e))return;t.uniform3uiv(this.addr,e),_r(n,e)}}function Jse(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4ui(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(xr(n,e))return;t.uniform4uiv(this.addr,e),_r(n,e)}}function eoe(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i);let s;this.type===t.SAMPLER_2D_SHADOW?(MD.compareFunction=yA,s=MD):s=BV,n.setTexture2D(e||s,i)}function toe(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture3D(e||VV,i)}function noe(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTextureCube(e||jV,i)}function roe(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture2DArray(e||zV,i)}function ioe(t){switch(t){case 5126:return Bse;case 35664:return zse;case 35665:return Vse;case 35666:return jse;case 35674:return Hse;case 35675:return Wse;case 35676:return Gse;case 5124:case 35670:return Xse;case 35667:case 35671:return $se;case 35668:case 35672:return Yse;case 35669:case 35673:return qse;case 5125:return Zse;case 36294:return Kse;case 36295:return Qse;case 36296:return Jse;case 35678:case 36198:case 36298:case 36306:case 35682:return eoe;case 35679:case 36299:case 36307:return toe;case 35680:case 36300:case 36308:case 36293:return noe;case 36289:case 36303:case 36311:case 36292:return roe}}function soe(t,e){t.uniform1fv(this.addr,e)}function ooe(t,e){const n=Kf(e,this.size,2);t.uniform2fv(this.addr,n)}function aoe(t,e){const n=Kf(e,this.size,3);t.uniform3fv(this.addr,n)}function loe(t,e){const n=Kf(e,this.size,4);t.uniform4fv(this.addr,n)}function coe(t,e){const n=Kf(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,n)}function uoe(t,e){const n=Kf(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,n)}function doe(t,e){const n=Kf(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,n)}function foe(t,e){t.uniform1iv(this.addr,e)}function hoe(t,e){t.uniform2iv(this.addr,e)}function poe(t,e){t.uniform3iv(this.addr,e)}function moe(t,e){t.uniform4iv(this.addr,e)}function goe(t,e){t.uniform1uiv(this.addr,e)}function voe(t,e){t.uniform2uiv(this.addr,e)}function yoe(t,e){t.uniform3uiv(this.addr,e)}function xoe(t,e){t.uniform4uiv(this.addr,e)}function _oe(t,e,n){const r=this.cache,i=e.length,s=vw(n,i);xr(r,s)||(t.uniform1iv(this.addr,s),_r(r,s));for(let o=0;o!==i;++o)n.setTexture2D(e[o]||BV,s[o])}function woe(t,e,n){const r=this.cache,i=e.length,s=vw(n,i);xr(r,s)||(t.uniform1iv(this.addr,s),_r(r,s));for(let o=0;o!==i;++o)n.setTexture3D(e[o]||VV,s[o])}function Soe(t,e,n){const r=this.cache,i=e.length,s=vw(n,i);xr(r,s)||(t.uniform1iv(this.addr,s),_r(r,s));for(let o=0;o!==i;++o)n.setTextureCube(e[o]||jV,s[o])}function boe(t,e,n){const r=this.cache,i=e.length,s=vw(n,i);xr(r,s)||(t.uniform1iv(this.addr,s),_r(r,s));for(let o=0;o!==i;++o)n.setTexture2DArray(e[o]||zV,s[o])}function Moe(t){switch(t){case 5126:return soe;case 35664:return ooe;case 35665:return aoe;case 35666:return loe;case 35674:return coe;case 35675:return uoe;case 35676:return doe;case 5124:case 35670:return foe;case 35667:case 35671:return hoe;case 35668:case 35672:return poe;case 35669:case 35673:return moe;case 5125:return goe;case 36294:return voe;case 36295:return yoe;case 36296:return xoe;case 35678:case 36198:case 36298:case 36306:case 35682:return _oe;case 35679:case 36299:case 36307:return woe;case 35680:case 36300:case 36308:case 36293:return Soe;case 36289:case 36303:case 36311:case 36292:return boe}}class Eoe{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.type=n.type,this.setValue=ioe(n.type)}}class Toe{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.type=n.type,this.size=n.size,this.setValue=Moe(n.type)}}class Coe{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,n,r){const i=this.seq;for(let s=0,o=i.length;s!==o;++s){const a=i[s];a.setValue(e,n[a.id],r)}}}const Eb=/(\w+)(\])?(\[|\.)?/g;function RD(t,e){t.seq.push(e),t.map[e.id]=e}function Aoe(t,e,n){const r=t.name,i=r.length;for(Eb.lastIndex=0;;){const s=Eb.exec(r),o=Eb.lastIndex;let a=s[1];const l=s[2]==="]",c=s[3];if(l&&(a=a|0),c===void 0||c==="["&&o+2===i){RD(n,c===void 0?new Eoe(a,t,e):new Toe(a,t,e));break}else{let h=n.map[a];h===void 0&&(h=new Coe(a),RD(n,h)),n=h}}}class a0{constructor(e,n){this.seq=[],this.map={};const r=e.getProgramParameter(n,e.ACTIVE_UNIFORMS);for(let i=0;i<r;++i){const s=e.getActiveUniform(n,i),o=e.getUniformLocation(n,s.name);Aoe(s,o,this)}}setValue(e,n,r,i){const s=this.map[n];s!==void 0&&s.setValue(e,r,i)}setOptional(e,n,r){const i=n[r];i!==void 0&&this.setValue(e,r,i)}static upload(e,n,r,i){for(let s=0,o=n.length;s!==o;++s){const a=n[s],l=r[a.id];l.needsUpdate!==!1&&a.setValue(e,l.value,i)}}static seqWithValue(e,n){const r=[];for(let i=0,s=e.length;i!==s;++i){const o=e[i];o.id in n&&r.push(o)}return r}}function ID(t,e,n){const r=t.createShader(e);return t.shaderSource(r,n),t.compileShader(r),r}const Poe=37297;let Roe=0;function Ioe(t,e){const n=t.split(`
`),r=[],i=Math.max(e-6,0),s=Math.min(e+6,n.length);for(let o=i;o<s;o++){const a=o+1;r.push(`${a===e?">":" "} ${a}: ${n[o]}`)}return r.join(`
`)}const ND=new Dt;function Noe(t){cn._getMatrix(ND,cn.workingColorSpace,t);const e=`mat3( ${ND.elements.map(n=>n.toFixed(4))} )`;switch(cn.getTransfer(t)){case mm:return[e,"LinearTransferOETF"];case Sn:return[e,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space: ",t),[e,"LinearTransferOETF"]}}function LD(t,e,n){const r=t.getShaderParameter(e,t.COMPILE_STATUS),i=t.getShaderInfoLog(e).trim();if(r&&i==="")return"";const s=/ERROR: 0:(\d+)/.exec(i);if(s){const o=parseInt(s[1]);return n.toUpperCase()+`

`+i+`

`+Ioe(t.getShaderSource(e),o)}else return i}function Loe(t,e){const n=Noe(e);return[`vec4 ${t}( vec4 value ) {`,`	return ${n[1]}( vec4( value.rgb * ${n[0]}, value.a ) );`,"}"].join(`
`)}function Doe(t,e){let n;switch(e){case h4:n="Linear";break;case p4:n="Reinhard";break;case m4:n="Cineon";break;case lA:n="ACESFilmic";break;case v4:n="AgX";break;case y4:n="Neutral";break;case g4:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),n="Linear"}return"vec3 "+t+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}const Cy=new H;function koe(){cn.getLuminanceCoefficients(Cy);const t=Cy.x.toFixed(4),e=Cy.y.toFixed(4),n=Cy.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${t}, ${e}, ${n} );`,"	return dot( weights, rgb );","}"].join(`
`)}function Ooe(t){return[t.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",t.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(Qh).join(`
`)}function Foe(t){const e=[];for(const n in t){const r=t[n];r!==!1&&e.push("#define "+n+" "+r)}return e.join(`
`)}function Uoe(t,e){const n={},r=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES);for(let i=0;i<r;i++){const s=t.getActiveAttrib(e,i),o=s.name;let a=1;s.type===t.FLOAT_MAT2&&(a=2),s.type===t.FLOAT_MAT3&&(a=3),s.type===t.FLOAT_MAT4&&(a=4),n[o]={type:s.type,location:t.getAttribLocation(e,o),locationSize:a}}return n}function Qh(t){return t!==""}function DD(t,e){const n=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function kD(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const Boe=/^[ \t]*#include +<([\w\d./]+)>/gm;function GE(t){return t.replace(Boe,Voe)}const zoe=new Map;function Voe(t,e){let n=Bt[e];if(n===void 0){const r=zoe.get(e);if(r!==void 0)n=Bt[r],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,r);else throw new Error("Can not resolve #include <"+e+">")}return GE(n)}const joe=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function OD(t){return t.replace(joe,Hoe)}function Hoe(t,e,n,r){let i="";for(let s=parseInt(e);s<parseInt(n);s++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return i}function FD(t){let e=`precision ${t.precision} float;
	precision ${t.precision} int;
	precision ${t.precision} sampler2D;
	precision ${t.precision} samplerCube;
	precision ${t.precision} sampler3D;
	precision ${t.precision} sampler2DArray;
	precision ${t.precision} sampler2DShadow;
	precision ${t.precision} samplerCubeShadow;
	precision ${t.precision} sampler2DArrayShadow;
	precision ${t.precision} isampler2D;
	precision ${t.precision} isampler3D;
	precision ${t.precision} isamplerCube;
	precision ${t.precision} isampler2DArray;
	precision ${t.precision} usampler2D;
	precision ${t.precision} usampler3D;
	precision ${t.precision} usamplerCube;
	precision ${t.precision} usampler2DArray;
	`;return t.precision==="highp"?e+=`
#define HIGH_PRECISION`:t.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:t.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function Woe(t){let e="SHADOWMAP_TYPE_BASIC";return t.shadowMapType===z_?e="SHADOWMAP_TYPE_PCF":t.shadowMapType===yp?e="SHADOWMAP_TYPE_PCF_SOFT":t.shadowMapType===Hs&&(e="SHADOWMAP_TYPE_VSM"),e}function Goe(t){let e="ENVMAP_TYPE_CUBE";if(t.envMap)switch(t.envMapMode){case Ca:case jl:e="ENVMAP_TYPE_CUBE";break;case $f:e="ENVMAP_TYPE_CUBE_UV";break}return e}function Xoe(t){let e="ENVMAP_MODE_REFLECTION";if(t.envMap)switch(t.envMapMode){case jl:e="ENVMAP_MODE_REFRACTION";break}return e}function $oe(t){let e="ENVMAP_BLENDING_NONE";if(t.envMap)switch(t.combine){case Wm:e="ENVMAP_BLENDING_MULTIPLY";break;case d4:e="ENVMAP_BLENDING_MIX";break;case f4:e="ENVMAP_BLENDING_ADD";break}return e}function Yoe(t){const e=t.envMapCubeUVHeight;if(e===null)return null;const n=Math.log2(e)-2,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,n),7*16)),texelHeight:r,maxMip:n}}function qoe(t,e,n,r){const i=t.getContext(),s=n.defines;let o=n.vertexShader,a=n.fragmentShader;const l=Woe(n),c=Goe(n),d=Xoe(n),h=$oe(n),p=Yoe(n),m=Ooe(n),v=Foe(s),x=i.createProgram();let y,g,w=n.glslVersion?"#version "+n.glslVersion+`
`:"";n.isRawShaderMaterial?(y=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,v].filter(Qh).join(`
`),y.length>0&&(y+=`
`),g=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,v].filter(Qh).join(`
`),g.length>0&&(g+=`
`)):(y=[FD(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,v,n.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",n.batching?"#define USE_BATCHING":"",n.batchingColor?"#define USE_BATCHING_COLOR":"",n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.instancingMorph?"#define USE_INSTANCING_MORPH":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+d:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.displacementMap?"#define USE_DISPLACEMENTMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.mapUv?"#define MAP_UV "+n.mapUv:"",n.alphaMapUv?"#define ALPHAMAP_UV "+n.alphaMapUv:"",n.lightMapUv?"#define LIGHTMAP_UV "+n.lightMapUv:"",n.aoMapUv?"#define AOMAP_UV "+n.aoMapUv:"",n.emissiveMapUv?"#define EMISSIVEMAP_UV "+n.emissiveMapUv:"",n.bumpMapUv?"#define BUMPMAP_UV "+n.bumpMapUv:"",n.normalMapUv?"#define NORMALMAP_UV "+n.normalMapUv:"",n.displacementMapUv?"#define DISPLACEMENTMAP_UV "+n.displacementMapUv:"",n.metalnessMapUv?"#define METALNESSMAP_UV "+n.metalnessMapUv:"",n.roughnessMapUv?"#define ROUGHNESSMAP_UV "+n.roughnessMapUv:"",n.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+n.anisotropyMapUv:"",n.clearcoatMapUv?"#define CLEARCOATMAP_UV "+n.clearcoatMapUv:"",n.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+n.clearcoatNormalMapUv:"",n.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+n.clearcoatRoughnessMapUv:"",n.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+n.iridescenceMapUv:"",n.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+n.iridescenceThicknessMapUv:"",n.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+n.sheenColorMapUv:"",n.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+n.sheenRoughnessMapUv:"",n.specularMapUv?"#define SPECULARMAP_UV "+n.specularMapUv:"",n.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+n.specularColorMapUv:"",n.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+n.specularIntensityMapUv:"",n.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+n.transmissionMapUv:"",n.thicknessMapUv?"#define THICKNESSMAP_UV "+n.thicknessMapUv:"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&n.flatShading===!1?"#define USE_MORPHNORMALS":"",n.morphColors?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(Qh).join(`
`),g=[FD(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,v,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+c:"",n.envMap?"#define "+d:"",n.envMap?"#define "+h:"",p?"#define CUBEUV_TEXEL_WIDTH "+p.texelWidth:"",p?"#define CUBEUV_TEXEL_HEIGHT "+p.texelHeight:"",p?"#define CUBEUV_MAX_MIP "+p.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.dispersion?"#define USE_DISPERSION":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor||n.batchingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==No?"#define TONE_MAPPING":"",n.toneMapping!==No?Bt.tonemapping_pars_fragment:"",n.toneMapping!==No?Doe("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",Bt.colorspace_pars_fragment,Loe("linearToOutputTexel",n.outputColorSpace),koe(),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"",`
`].filter(Qh).join(`
`)),o=GE(o),o=DD(o,n),o=kD(o,n),a=GE(a),a=DD(a,n),a=kD(a,n),o=OD(o),a=OD(a),n.isRawShaderMaterial!==!0&&(w=`#version 300 es
`,y=[m,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+y,g=["#define varying in",n.glslVersion===kE?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===kE?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+g);const b=w+y+o,E=w+g+a,C=ID(i,i.VERTEX_SHADER,b),A=ID(i,i.FRAGMENT_SHADER,E);i.attachShader(x,C),i.attachShader(x,A),n.index0AttributeName!==void 0?i.bindAttribLocation(x,0,n.index0AttributeName):n.morphTargets===!0&&i.bindAttribLocation(x,0,"position"),i.linkProgram(x);function I(F){if(t.debug.checkShaderErrors){const j=i.getProgramInfoLog(x).trim(),G=i.getShaderInfoLog(C).trim(),$=i.getShaderInfoLog(A).trim();let ne=!0,J=!0;if(i.getProgramParameter(x,i.LINK_STATUS)===!1)if(ne=!1,typeof t.debug.onShaderError=="function")t.debug.onShaderError(i,x,C,A);else{const re=LD(i,C,"vertex"),k=LD(i,A,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(x,i.VALIDATE_STATUS)+`

Material Name: `+F.name+`
Material Type: `+F.type+`

Program Info Log: `+j+`
`+re+`
`+k)}else j!==""?console.warn("THREE.WebGLProgram: Program Info Log:",j):(G===""||$==="")&&(J=!1);J&&(F.diagnostics={runnable:ne,programLog:j,vertexShader:{log:G,prefix:y},fragmentShader:{log:$,prefix:g}})}i.deleteShader(C),i.deleteShader(A),D=new a0(i,x),N=Uoe(i,x)}let D;this.getUniforms=function(){return D===void 0&&I(this),D};let N;this.getAttributes=function(){return N===void 0&&I(this),N};let R=n.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return R===!1&&(R=i.getProgramParameter(x,Poe)),R},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(x),this.program=void 0},this.type=n.shaderType,this.name=n.shaderName,this.id=Roe++,this.cacheKey=e,this.usedTimes=1,this.program=x,this.vertexShader=C,this.fragmentShader=A,this}let Zoe=0;class Koe{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const n=e.vertexShader,r=e.fragmentShader,i=this._getShaderStage(n),s=this._getShaderStage(r),o=this._getShaderCacheForMaterial(e);return o.has(i)===!1&&(o.add(i),i.usedTimes++),o.has(s)===!1&&(o.add(s),s.usedTimes++),this}remove(e){const n=this.materialCache.get(e);for(const r of n)r.usedTimes--,r.usedTimes===0&&this.shaderCache.delete(r.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const n=this.materialCache;let r=n.get(e);return r===void 0&&(r=new Set,n.set(e,r)),r}_getShaderStage(e){const n=this.shaderCache;let r=n.get(e);return r===void 0&&(r=new Qoe(e),n.set(e,r)),r}}class Qoe{constructor(e){this.id=Zoe++,this.code=e,this.usedTimes=0}}function Joe(t,e,n,r,i,s,o){const a=new ru,l=new Koe,c=new Set,d=[],h=i.logarithmicDepthBuffer,p=i.vertexTextures;let m=i.precision;const v={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function x(N){return c.add(N),N===0?"uv":`uv${N}`}function y(N,R,F,j,G){const $=j.fog,ne=G.geometry,J=N.isMeshStandardMaterial?j.environment:null,re=(N.isMeshStandardMaterial?n:e).get(N.envMap||J),k=re&&re.mapping===$f?re.image.height:null,W=v[N.type];N.precision!==null&&(m=i.getMaxPrecision(N.precision),m!==N.precision&&console.warn("THREE.WebGLProgram.getParameters:",N.precision,"not supported, using",m,"instead."));const q=ne.morphAttributes.position||ne.morphAttributes.normal||ne.morphAttributes.color,ee=q!==void 0?q.length:0;let de=0;ne.morphAttributes.position!==void 0&&(de=1),ne.morphAttributes.normal!==void 0&&(de=2),ne.morphAttributes.color!==void 0&&(de=3);let Ae,ae,be,Ee;if(W){const Xt=$s[W];Ae=Xt.vertexShader,ae=Xt.fragmentShader}else Ae=N.vertexShader,ae=N.fragmentShader,l.update(N),be=l.getVertexShaderID(N),Ee=l.getFragmentShaderID(N);const me=t.getRenderTarget(),ke=t.state.buffers.depth.getReversed(),tt=G.isInstancedMesh===!0,Fe=G.isBatchedMesh===!0,nt=!!N.map,qe=!!N.matcap,Ye=!!re,V=!!N.aoMap,Oe=!!N.lightMap,Re=!!N.bumpMap,Ue=!!N.normalMap,B=!!N.displacementMap,Z=!!N.emissiveMap,Q=!!N.metalnessMap,ge=!!N.roughnessMap,Se=N.anisotropy>0,U=N.clearcoat>0,O=N.dispersion>0,te=N.iridescence>0,ue=N.sheen>0,ye=N.transmission>0,ve=Se&&!!N.anisotropyMap,rt=U&&!!N.clearcoatMap,He=U&&!!N.clearcoatNormalMap,it=U&&!!N.clearcoatRoughnessMap,ct=te&&!!N.iridescenceMap,Ie=te&&!!N.iridescenceThicknessMap,Qe=ue&&!!N.sheenColorMap,gt=ue&&!!N.sheenRoughnessMap,K=!!N.specularMap,ce=!!N.specularColorMap,_e=!!N.specularIntensityMap,Y=ye&&!!N.transmissionMap,Me=ye&&!!N.thicknessMap,Ce=!!N.gradientMap,We=!!N.alphaMap,De=N.alphaTest>0,Pe=!!N.alphaHash,Je=!!N.extensions;let wt=No;N.toneMapped&&(me===null||me.isXRRenderTarget===!0)&&(wt=t.toneMapping);const ln={shaderID:W,shaderType:N.type,shaderName:N.name,vertexShader:Ae,fragmentShader:ae,defines:N.defines,customVertexShaderID:be,customFragmentShaderID:Ee,isRawShaderMaterial:N.isRawShaderMaterial===!0,glslVersion:N.glslVersion,precision:m,batching:Fe,batchingColor:Fe&&G._colorsTexture!==null,instancing:tt,instancingColor:tt&&G.instanceColor!==null,instancingMorph:tt&&G.morphTexture!==null,supportsVertexTextures:p,outputColorSpace:me===null?t.outputColorSpace:me.isXRRenderTarget===!0?me.texture.colorSpace:hu,alphaToCoverage:!!N.alphaToCoverage,map:nt,matcap:qe,envMap:Ye,envMapMode:Ye&&re.mapping,envMapCubeUVHeight:k,aoMap:V,lightMap:Oe,bumpMap:Re,normalMap:Ue,displacementMap:p&&B,emissiveMap:Z,normalMapObjectSpace:Ue&&N.normalMapType===E4,normalMapTangentSpace:Ue&&N.normalMapType===Zl,metalnessMap:Q,roughnessMap:ge,anisotropy:Se,anisotropyMap:ve,clearcoat:U,clearcoatMap:rt,clearcoatNormalMap:He,clearcoatRoughnessMap:it,dispersion:O,iridescence:te,iridescenceMap:ct,iridescenceThicknessMap:Ie,sheen:ue,sheenColorMap:Qe,sheenRoughnessMap:gt,specularMap:K,specularColorMap:ce,specularIntensityMap:_e,transmission:ye,transmissionMap:Y,thicknessMap:Me,gradientMap:Ce,opaque:N.transparent===!1&&N.blending===tu&&N.alphaToCoverage===!1,alphaMap:We,alphaTest:De,alphaHash:Pe,combine:N.combine,mapUv:nt&&x(N.map.channel),aoMapUv:V&&x(N.aoMap.channel),lightMapUv:Oe&&x(N.lightMap.channel),bumpMapUv:Re&&x(N.bumpMap.channel),normalMapUv:Ue&&x(N.normalMap.channel),displacementMapUv:B&&x(N.displacementMap.channel),emissiveMapUv:Z&&x(N.emissiveMap.channel),metalnessMapUv:Q&&x(N.metalnessMap.channel),roughnessMapUv:ge&&x(N.roughnessMap.channel),anisotropyMapUv:ve&&x(N.anisotropyMap.channel),clearcoatMapUv:rt&&x(N.clearcoatMap.channel),clearcoatNormalMapUv:He&&x(N.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:it&&x(N.clearcoatRoughnessMap.channel),iridescenceMapUv:ct&&x(N.iridescenceMap.channel),iridescenceThicknessMapUv:Ie&&x(N.iridescenceThicknessMap.channel),sheenColorMapUv:Qe&&x(N.sheenColorMap.channel),sheenRoughnessMapUv:gt&&x(N.sheenRoughnessMap.channel),specularMapUv:K&&x(N.specularMap.channel),specularColorMapUv:ce&&x(N.specularColorMap.channel),specularIntensityMapUv:_e&&x(N.specularIntensityMap.channel),transmissionMapUv:Y&&x(N.transmissionMap.channel),thicknessMapUv:Me&&x(N.thicknessMap.channel),alphaMapUv:We&&x(N.alphaMap.channel),vertexTangents:!!ne.attributes.tangent&&(Ue||Se),vertexColors:N.vertexColors,vertexAlphas:N.vertexColors===!0&&!!ne.attributes.color&&ne.attributes.color.itemSize===4,pointsUvs:G.isPoints===!0&&!!ne.attributes.uv&&(nt||We),fog:!!$,useFog:N.fog===!0,fogExp2:!!$&&$.isFogExp2,flatShading:N.flatShading===!0&&N.wireframe===!1,sizeAttenuation:N.sizeAttenuation===!0,logarithmicDepthBuffer:h,reverseDepthBuffer:ke,skinning:G.isSkinnedMesh===!0,morphTargets:ne.morphAttributes.position!==void 0,morphNormals:ne.morphAttributes.normal!==void 0,morphColors:ne.morphAttributes.color!==void 0,morphTargetsCount:ee,morphTextureStride:de,numDirLights:R.directional.length,numPointLights:R.point.length,numSpotLights:R.spot.length,numSpotLightMaps:R.spotLightMap.length,numRectAreaLights:R.rectArea.length,numHemiLights:R.hemi.length,numDirLightShadows:R.directionalShadowMap.length,numPointLightShadows:R.pointShadowMap.length,numSpotLightShadows:R.spotShadowMap.length,numSpotLightShadowsWithMaps:R.numSpotLightShadowsWithMaps,numLightProbes:R.numLightProbes,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:N.dithering,shadowMapEnabled:t.shadowMap.enabled&&F.length>0,shadowMapType:t.shadowMap.type,toneMapping:wt,decodeVideoTexture:nt&&N.map.isVideoTexture===!0&&cn.getTransfer(N.map.colorSpace)===Sn,decodeVideoTextureEmissive:Z&&N.emissiveMap.isVideoTexture===!0&&cn.getTransfer(N.emissiveMap.colorSpace)===Sn,premultipliedAlpha:N.premultipliedAlpha,doubleSided:N.side===So,flipSided:N.side===gi,useDepthPacking:N.depthPacking>=0,depthPacking:N.depthPacking||0,index0AttributeName:N.index0AttributeName,extensionClipCullDistance:Je&&N.extensions.clipCullDistance===!0&&r.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(Je&&N.extensions.multiDraw===!0||Fe)&&r.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:r.has("KHR_parallel_shader_compile"),customProgramCacheKey:N.customProgramCacheKey()};return ln.vertexUv1s=c.has(1),ln.vertexUv2s=c.has(2),ln.vertexUv3s=c.has(3),c.clear(),ln}function g(N){const R=[];if(N.shaderID?R.push(N.shaderID):(R.push(N.customVertexShaderID),R.push(N.customFragmentShaderID)),N.defines!==void 0)for(const F in N.defines)R.push(F),R.push(N.defines[F]);return N.isRawShaderMaterial===!1&&(w(R,N),b(R,N),R.push(t.outputColorSpace)),R.push(N.customProgramCacheKey),R.join()}function w(N,R){N.push(R.precision),N.push(R.outputColorSpace),N.push(R.envMapMode),N.push(R.envMapCubeUVHeight),N.push(R.mapUv),N.push(R.alphaMapUv),N.push(R.lightMapUv),N.push(R.aoMapUv),N.push(R.bumpMapUv),N.push(R.normalMapUv),N.push(R.displacementMapUv),N.push(R.emissiveMapUv),N.push(R.metalnessMapUv),N.push(R.roughnessMapUv),N.push(R.anisotropyMapUv),N.push(R.clearcoatMapUv),N.push(R.clearcoatNormalMapUv),N.push(R.clearcoatRoughnessMapUv),N.push(R.iridescenceMapUv),N.push(R.iridescenceThicknessMapUv),N.push(R.sheenColorMapUv),N.push(R.sheenRoughnessMapUv),N.push(R.specularMapUv),N.push(R.specularColorMapUv),N.push(R.specularIntensityMapUv),N.push(R.transmissionMapUv),N.push(R.thicknessMapUv),N.push(R.combine),N.push(R.fogExp2),N.push(R.sizeAttenuation),N.push(R.morphTargetsCount),N.push(R.morphAttributeCount),N.push(R.numDirLights),N.push(R.numPointLights),N.push(R.numSpotLights),N.push(R.numSpotLightMaps),N.push(R.numHemiLights),N.push(R.numRectAreaLights),N.push(R.numDirLightShadows),N.push(R.numPointLightShadows),N.push(R.numSpotLightShadows),N.push(R.numSpotLightShadowsWithMaps),N.push(R.numLightProbes),N.push(R.shadowMapType),N.push(R.toneMapping),N.push(R.numClippingPlanes),N.push(R.numClipIntersection),N.push(R.depthPacking)}function b(N,R){a.disableAll(),R.supportsVertexTextures&&a.enable(0),R.instancing&&a.enable(1),R.instancingColor&&a.enable(2),R.instancingMorph&&a.enable(3),R.matcap&&a.enable(4),R.envMap&&a.enable(5),R.normalMapObjectSpace&&a.enable(6),R.normalMapTangentSpace&&a.enable(7),R.clearcoat&&a.enable(8),R.iridescence&&a.enable(9),R.alphaTest&&a.enable(10),R.vertexColors&&a.enable(11),R.vertexAlphas&&a.enable(12),R.vertexUv1s&&a.enable(13),R.vertexUv2s&&a.enable(14),R.vertexUv3s&&a.enable(15),R.vertexTangents&&a.enable(16),R.anisotropy&&a.enable(17),R.alphaHash&&a.enable(18),R.batching&&a.enable(19),R.dispersion&&a.enable(20),R.batchingColor&&a.enable(21),R.gradientMap&&a.enable(22),N.push(a.mask),a.disableAll(),R.fog&&a.enable(0),R.useFog&&a.enable(1),R.flatShading&&a.enable(2),R.logarithmicDepthBuffer&&a.enable(3),R.reverseDepthBuffer&&a.enable(4),R.skinning&&a.enable(5),R.morphTargets&&a.enable(6),R.morphNormals&&a.enable(7),R.morphColors&&a.enable(8),R.premultipliedAlpha&&a.enable(9),R.shadowMapEnabled&&a.enable(10),R.doubleSided&&a.enable(11),R.flipSided&&a.enable(12),R.useDepthPacking&&a.enable(13),R.dithering&&a.enable(14),R.transmission&&a.enable(15),R.sheen&&a.enable(16),R.opaque&&a.enable(17),R.pointsUvs&&a.enable(18),R.decodeVideoTexture&&a.enable(19),R.decodeVideoTextureEmissive&&a.enable(20),R.alphaToCoverage&&a.enable(21),N.push(a.mask)}function E(N){const R=v[N.type];let F;if(R){const j=$s[R];F=U4.clone(j.uniforms)}else F=N.uniforms;return F}function C(N,R){let F;for(let j=0,G=d.length;j<G;j++){const $=d[j];if($.cacheKey===R){F=$,++F.usedTimes;break}}return F===void 0&&(F=new qoe(t,R,N,s),d.push(F)),F}function A(N){if(--N.usedTimes===0){const R=d.indexOf(N);d[R]=d[d.length-1],d.pop(),N.destroy()}}function I(N){l.remove(N)}function D(){l.dispose()}return{getParameters:y,getProgramCacheKey:g,getUniforms:E,acquireProgram:C,releaseProgram:A,releaseShaderCache:I,programs:d,dispose:D}}function eae(){let t=new WeakMap;function e(o){return t.has(o)}function n(o){let a=t.get(o);return a===void 0&&(a={},t.set(o,a)),a}function r(o){t.delete(o)}function i(o,a,l){t.get(o)[a]=l}function s(){t=new WeakMap}return{has:e,get:n,remove:r,update:i,dispose:s}}function tae(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function UD(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function BD(){const t=[];let e=0;const n=[],r=[],i=[];function s(){e=0,n.length=0,r.length=0,i.length=0}function o(h,p,m,v,x,y){let g=t[e];return g===void 0?(g={id:h.id,object:h,geometry:p,material:m,groupOrder:v,renderOrder:h.renderOrder,z:x,group:y},t[e]=g):(g.id=h.id,g.object=h,g.geometry=p,g.material=m,g.groupOrder=v,g.renderOrder=h.renderOrder,g.z=x,g.group=y),e++,g}function a(h,p,m,v,x,y){const g=o(h,p,m,v,x,y);m.transmission>0?r.push(g):m.transparent===!0?i.push(g):n.push(g)}function l(h,p,m,v,x,y){const g=o(h,p,m,v,x,y);m.transmission>0?r.unshift(g):m.transparent===!0?i.unshift(g):n.unshift(g)}function c(h,p){n.length>1&&n.sort(h||tae),r.length>1&&r.sort(p||UD),i.length>1&&i.sort(p||UD)}function d(){for(let h=e,p=t.length;h<p;h++){const m=t[h];if(m.id===null)break;m.id=null,m.object=null,m.geometry=null,m.material=null,m.group=null}}return{opaque:n,transmissive:r,transparent:i,init:s,push:a,unshift:l,finish:d,sort:c}}function nae(){let t=new WeakMap;function e(r,i){const s=t.get(r);let o;return s===void 0?(o=new BD,t.set(r,[o])):i>=s.length?(o=new BD,s.push(o)):o=s[i],o}function n(){t=new WeakMap}return{get:e,dispose:n}}function rae(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={direction:new H,color:new lt};break;case"SpotLight":n={position:new H,direction:new H,color:new lt,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new H,color:new lt,distance:0,decay:0};break;case"HemisphereLight":n={direction:new H,skyColor:new lt,groundColor:new lt};break;case"RectAreaLight":n={color:new lt,position:new H,halfWidth:new H,halfHeight:new H};break}return t[e.id]=n,n}}}function iae(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Te};break;case"SpotLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Te};break;case"PointLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Te,shadowCameraNear:1,shadowCameraFar:1e3};break}return t[e.id]=n,n}}}let sae=0;function oae(t,e){return(e.castShadow?2:0)-(t.castShadow?2:0)+(e.map?1:0)-(t.map?1:0)}function aae(t){const e=new rae,n=iae(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let c=0;c<9;c++)r.probe.push(new H);const i=new H,s=new Tt,o=new Tt;function a(c){let d=0,h=0,p=0;for(let N=0;N<9;N++)r.probe[N].set(0,0,0);let m=0,v=0,x=0,y=0,g=0,w=0,b=0,E=0,C=0,A=0,I=0;c.sort(oae);for(let N=0,R=c.length;N<R;N++){const F=c[N],j=F.color,G=F.intensity,$=F.distance,ne=F.shadow&&F.shadow.map?F.shadow.map.texture:null;if(F.isAmbientLight)d+=j.r*G,h+=j.g*G,p+=j.b*G;else if(F.isLightProbe){for(let J=0;J<9;J++)r.probe[J].addScaledVector(F.sh.coefficients[J],G);I++}else if(F.isDirectionalLight){const J=e.get(F);if(J.color.copy(F.color).multiplyScalar(F.intensity),F.castShadow){const re=F.shadow,k=n.get(F);k.shadowIntensity=re.intensity,k.shadowBias=re.bias,k.shadowNormalBias=re.normalBias,k.shadowRadius=re.radius,k.shadowMapSize=re.mapSize,r.directionalShadow[m]=k,r.directionalShadowMap[m]=ne,r.directionalShadowMatrix[m]=F.shadow.matrix,w++}r.directional[m]=J,m++}else if(F.isSpotLight){const J=e.get(F);J.position.setFromMatrixPosition(F.matrixWorld),J.color.copy(j).multiplyScalar(G),J.distance=$,J.coneCos=Math.cos(F.angle),J.penumbraCos=Math.cos(F.angle*(1-F.penumbra)),J.decay=F.decay,r.spot[x]=J;const re=F.shadow;if(F.map&&(r.spotLightMap[C]=F.map,C++,re.updateMatrices(F),F.castShadow&&A++),r.spotLightMatrix[x]=re.matrix,F.castShadow){const k=n.get(F);k.shadowIntensity=re.intensity,k.shadowBias=re.bias,k.shadowNormalBias=re.normalBias,k.shadowRadius=re.radius,k.shadowMapSize=re.mapSize,r.spotShadow[x]=k,r.spotShadowMap[x]=ne,E++}x++}else if(F.isRectAreaLight){const J=e.get(F);J.color.copy(j).multiplyScalar(G),J.halfWidth.set(F.width*.5,0,0),J.halfHeight.set(0,F.height*.5,0),r.rectArea[y]=J,y++}else if(F.isPointLight){const J=e.get(F);if(J.color.copy(F.color).multiplyScalar(F.intensity),J.distance=F.distance,J.decay=F.decay,F.castShadow){const re=F.shadow,k=n.get(F);k.shadowIntensity=re.intensity,k.shadowBias=re.bias,k.shadowNormalBias=re.normalBias,k.shadowRadius=re.radius,k.shadowMapSize=re.mapSize,k.shadowCameraNear=re.camera.near,k.shadowCameraFar=re.camera.far,r.pointShadow[v]=k,r.pointShadowMap[v]=ne,r.pointShadowMatrix[v]=F.shadow.matrix,b++}r.point[v]=J,v++}else if(F.isHemisphereLight){const J=e.get(F);J.skyColor.copy(F.color).multiplyScalar(G),J.groundColor.copy(F.groundColor).multiplyScalar(G),r.hemi[g]=J,g++}}y>0&&(t.has("OES_texture_float_linear")===!0?(r.rectAreaLTC1=Ke.LTC_FLOAT_1,r.rectAreaLTC2=Ke.LTC_FLOAT_2):(r.rectAreaLTC1=Ke.LTC_HALF_1,r.rectAreaLTC2=Ke.LTC_HALF_2)),r.ambient[0]=d,r.ambient[1]=h,r.ambient[2]=p;const D=r.hash;(D.directionalLength!==m||D.pointLength!==v||D.spotLength!==x||D.rectAreaLength!==y||D.hemiLength!==g||D.numDirectionalShadows!==w||D.numPointShadows!==b||D.numSpotShadows!==E||D.numSpotMaps!==C||D.numLightProbes!==I)&&(r.directional.length=m,r.spot.length=x,r.rectArea.length=y,r.point.length=v,r.hemi.length=g,r.directionalShadow.length=w,r.directionalShadowMap.length=w,r.pointShadow.length=b,r.pointShadowMap.length=b,r.spotShadow.length=E,r.spotShadowMap.length=E,r.directionalShadowMatrix.length=w,r.pointShadowMatrix.length=b,r.spotLightMatrix.length=E+C-A,r.spotLightMap.length=C,r.numSpotLightShadowsWithMaps=A,r.numLightProbes=I,D.directionalLength=m,D.pointLength=v,D.spotLength=x,D.rectAreaLength=y,D.hemiLength=g,D.numDirectionalShadows=w,D.numPointShadows=b,D.numSpotShadows=E,D.numSpotMaps=C,D.numLightProbes=I,r.version=sae++)}function l(c,d){let h=0,p=0,m=0,v=0,x=0;const y=d.matrixWorldInverse;for(let g=0,w=c.length;g<w;g++){const b=c[g];if(b.isDirectionalLight){const E=r.directional[h];E.direction.setFromMatrixPosition(b.matrixWorld),i.setFromMatrixPosition(b.target.matrixWorld),E.direction.sub(i),E.direction.transformDirection(y),h++}else if(b.isSpotLight){const E=r.spot[m];E.position.setFromMatrixPosition(b.matrixWorld),E.position.applyMatrix4(y),E.direction.setFromMatrixPosition(b.matrixWorld),i.setFromMatrixPosition(b.target.matrixWorld),E.direction.sub(i),E.direction.transformDirection(y),m++}else if(b.isRectAreaLight){const E=r.rectArea[v];E.position.setFromMatrixPosition(b.matrixWorld),E.position.applyMatrix4(y),o.identity(),s.copy(b.matrixWorld),s.premultiply(y),o.extractRotation(s),E.halfWidth.set(b.width*.5,0,0),E.halfHeight.set(0,b.height*.5,0),E.halfWidth.applyMatrix4(o),E.halfHeight.applyMatrix4(o),v++}else if(b.isPointLight){const E=r.point[p];E.position.setFromMatrixPosition(b.matrixWorld),E.position.applyMatrix4(y),p++}else if(b.isHemisphereLight){const E=r.hemi[x];E.direction.setFromMatrixPosition(b.matrixWorld),E.direction.transformDirection(y),x++}}}return{setup:a,setupView:l,state:r}}function zD(t){const e=new aae(t),n=[],r=[];function i(d){c.camera=d,n.length=0,r.length=0}function s(d){n.push(d)}function o(d){r.push(d)}function a(){e.setup(n)}function l(d){e.setupView(n,d)}const c={lightsArray:n,shadowsArray:r,camera:null,lights:e,transmissionRenderTarget:{}};return{init:i,state:c,setupLights:a,setupLightsView:l,pushLight:s,pushShadow:o}}function lae(t){let e=new WeakMap;function n(i,s=0){const o=e.get(i);let a;return o===void 0?(a=new zD(t),e.set(i,[a])):s>=o.length?(a=new zD(t),o.push(a)):a=o[s],a}function r(){e=new WeakMap}return{get:n,dispose:r}}const cae=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,uae=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function dae(t,e,n){let r=new qf;const i=new Te,s=new Te,o=new dn,a=new kA({depthPacking:M4}),l=new OA,c={},d=n.maxTextureSize,h={[Ta]:gi,[gi]:Ta,[So]:So},p=new to({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Te},radius:{value:4}},vertexShader:cae,fragmentShader:uae}),m=p.clone();m.defines.HORIZONTAL_PASS=1;const v=new Ft;v.setAttribute("position",new Mn(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const x=new dr(v,p),y=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=z_;let g=this.type;this.render=function(A,I,D){if(y.enabled===!1||y.autoUpdate===!1&&y.needsUpdate===!1||A.length===0)return;const N=t.getRenderTarget(),R=t.getActiveCubeFace(),F=t.getActiveMipmapLevel(),j=t.state;j.setBlending(ma),j.buffers.color.setClear(1,1,1,1),j.buffers.depth.setTest(!0),j.setScissorTest(!1);const G=g!==Hs&&this.type===Hs,$=g===Hs&&this.type!==Hs;for(let ne=0,J=A.length;ne<J;ne++){const re=A[ne],k=re.shadow;if(k===void 0){console.warn("THREE.WebGLShadowMap:",re,"has no shadow.");continue}if(k.autoUpdate===!1&&k.needsUpdate===!1)continue;i.copy(k.mapSize);const W=k.getFrameExtents();if(i.multiply(W),s.copy(k.mapSize),(i.x>d||i.y>d)&&(i.x>d&&(s.x=Math.floor(d/W.x),i.x=s.x*W.x,k.mapSize.x=s.x),i.y>d&&(s.y=Math.floor(d/W.y),i.y=s.y*W.y,k.mapSize.y=s.y)),k.map===null||G===!0||$===!0){const ee=this.type!==Hs?{minFilter:Dr,magFilter:Dr}:{};k.map!==null&&k.map.dispose(),k.map=new Oo(i.x,i.y,ee),k.map.texture.name=re.name+".shadowMap",k.camera.updateProjectionMatrix()}t.setRenderTarget(k.map),t.clear();const q=k.getViewportCount();for(let ee=0;ee<q;ee++){const de=k.getViewport(ee);o.set(s.x*de.x,s.y*de.y,s.x*de.z,s.y*de.w),j.viewport(o),k.updateMatrices(re,ee),r=k.getFrustum(),E(I,D,k.camera,re,this.type)}k.isPointLightShadow!==!0&&this.type===Hs&&w(k,D),k.needsUpdate=!1}g=this.type,y.needsUpdate=!1,t.setRenderTarget(N,R,F)};function w(A,I){const D=e.update(x);p.defines.VSM_SAMPLES!==A.blurSamples&&(p.defines.VSM_SAMPLES=A.blurSamples,m.defines.VSM_SAMPLES=A.blurSamples,p.needsUpdate=!0,m.needsUpdate=!0),A.mapPass===null&&(A.mapPass=new Oo(i.x,i.y)),p.uniforms.shadow_pass.value=A.map.texture,p.uniforms.resolution.value=A.mapSize,p.uniforms.radius.value=A.radius,t.setRenderTarget(A.mapPass),t.clear(),t.renderBufferDirect(I,null,D,p,x,null),m.uniforms.shadow_pass.value=A.mapPass.texture,m.uniforms.resolution.value=A.mapSize,m.uniforms.radius.value=A.radius,t.setRenderTarget(A.map),t.clear(),t.renderBufferDirect(I,null,D,m,x,null)}function b(A,I,D,N){let R=null;const F=D.isPointLight===!0?A.customDistanceMaterial:A.customDepthMaterial;if(F!==void 0)R=F;else if(R=D.isPointLight===!0?l:a,t.localClippingEnabled&&I.clipShadows===!0&&Array.isArray(I.clippingPlanes)&&I.clippingPlanes.length!==0||I.displacementMap&&I.displacementScale!==0||I.alphaMap&&I.alphaTest>0||I.map&&I.alphaTest>0||I.alphaToCoverage===!0){const j=R.uuid,G=I.uuid;let $=c[j];$===void 0&&($={},c[j]=$);let ne=$[G];ne===void 0&&(ne=R.clone(),$[G]=ne,I.addEventListener("dispose",C)),R=ne}if(R.visible=I.visible,R.wireframe=I.wireframe,N===Hs?R.side=I.shadowSide!==null?I.shadowSide:I.side:R.side=I.shadowSide!==null?I.shadowSide:h[I.side],R.alphaMap=I.alphaMap,R.alphaTest=I.alphaToCoverage===!0?.5:I.alphaTest,R.map=I.map,R.clipShadows=I.clipShadows,R.clippingPlanes=I.clippingPlanes,R.clipIntersection=I.clipIntersection,R.displacementMap=I.displacementMap,R.displacementScale=I.displacementScale,R.displacementBias=I.displacementBias,R.wireframeLinewidth=I.wireframeLinewidth,R.linewidth=I.linewidth,D.isPointLight===!0&&R.isMeshDistanceMaterial===!0){const j=t.properties.get(R);j.light=D}return R}function E(A,I,D,N,R){if(A.visible===!1)return;if(A.layers.test(I.layers)&&(A.isMesh||A.isLine||A.isPoints)&&(A.castShadow||A.receiveShadow&&R===Hs)&&(!A.frustumCulled||r.intersectsObject(A))){A.modelViewMatrix.multiplyMatrices(D.matrixWorldInverse,A.matrixWorld);const G=e.update(A),$=A.material;if(Array.isArray($)){const ne=G.groups;for(let J=0,re=ne.length;J<re;J++){const k=ne[J],W=$[k.materialIndex];if(W&&W.visible){const q=b(A,W,N,R);A.onBeforeShadow(t,A,I,D,G,q,k),t.renderBufferDirect(D,null,G,q,A,k),A.onAfterShadow(t,A,I,D,G,q,k)}}}else if($.visible){const ne=b(A,$,N,R);A.onBeforeShadow(t,A,I,D,G,ne,null),t.renderBufferDirect(D,null,G,ne,A,null),A.onAfterShadow(t,A,I,D,G,ne,null)}}const j=A.children;for(let G=0,$=j.length;G<$;G++)E(j[G],I,D,N,R)}function C(A){A.target.removeEventListener("dispose",C);for(const D in c){const N=c[D],R=A.target.uuid;R in N&&(N[R].dispose(),delete N[R])}}}const fae={[J0]:ex,[tx]:ix,[nx]:sx,[fu]:rx,[ex]:J0,[ix]:tx,[sx]:nx,[rx]:fu};function hae(t,e){function n(){let Y=!1;const Me=new dn;let Ce=null;const We=new dn(0,0,0,0);return{setMask:function(De){Ce!==De&&!Y&&(t.colorMask(De,De,De,De),Ce=De)},setLocked:function(De){Y=De},setClear:function(De,Pe,Je,wt,ln){ln===!0&&(De*=wt,Pe*=wt,Je*=wt),Me.set(De,Pe,Je,wt),We.equals(Me)===!1&&(t.clearColor(De,Pe,Je,wt),We.copy(Me))},reset:function(){Y=!1,Ce=null,We.set(-1,0,0,0)}}}function r(){let Y=!1,Me=!1,Ce=null,We=null,De=null;return{setReversed:function(Pe){if(Me!==Pe){const Je=e.get("EXT_clip_control");Pe?Je.clipControlEXT(Je.LOWER_LEFT_EXT,Je.ZERO_TO_ONE_EXT):Je.clipControlEXT(Je.LOWER_LEFT_EXT,Je.NEGATIVE_ONE_TO_ONE_EXT),Me=Pe;const wt=De;De=null,this.setClear(wt)}},getReversed:function(){return Me},setTest:function(Pe){Pe?me(t.DEPTH_TEST):ke(t.DEPTH_TEST)},setMask:function(Pe){Ce!==Pe&&!Y&&(t.depthMask(Pe),Ce=Pe)},setFunc:function(Pe){if(Me&&(Pe=fae[Pe]),We!==Pe){switch(Pe){case J0:t.depthFunc(t.NEVER);break;case ex:t.depthFunc(t.ALWAYS);break;case tx:t.depthFunc(t.LESS);break;case fu:t.depthFunc(t.LEQUAL);break;case nx:t.depthFunc(t.EQUAL);break;case rx:t.depthFunc(t.GEQUAL);break;case ix:t.depthFunc(t.GREATER);break;case sx:t.depthFunc(t.NOTEQUAL);break;default:t.depthFunc(t.LEQUAL)}We=Pe}},setLocked:function(Pe){Y=Pe},setClear:function(Pe){De!==Pe&&(Me&&(Pe=1-Pe),t.clearDepth(Pe),De=Pe)},reset:function(){Y=!1,Ce=null,We=null,De=null,Me=!1}}}function i(){let Y=!1,Me=null,Ce=null,We=null,De=null,Pe=null,Je=null,wt=null,ln=null;return{setTest:function(Xt){Y||(Xt?me(t.STENCIL_TEST):ke(t.STENCIL_TEST))},setMask:function(Xt){Me!==Xt&&!Y&&(t.stencilMask(Xt),Me=Xt)},setFunc:function(Xt,sr,Fr){(Ce!==Xt||We!==sr||De!==Fr)&&(t.stencilFunc(Xt,sr,Fr),Ce=Xt,We=sr,De=Fr)},setOp:function(Xt,sr,Fr){(Pe!==Xt||Je!==sr||wt!==Fr)&&(t.stencilOp(Xt,sr,Fr),Pe=Xt,Je=sr,wt=Fr)},setLocked:function(Xt){Y=Xt},setClear:function(Xt){ln!==Xt&&(t.clearStencil(Xt),ln=Xt)},reset:function(){Y=!1,Me=null,Ce=null,We=null,De=null,Pe=null,Je=null,wt=null,ln=null}}}const s=new n,o=new r,a=new i,l=new WeakMap,c=new WeakMap;let d={},h={},p=new WeakMap,m=[],v=null,x=!1,y=null,g=null,w=null,b=null,E=null,C=null,A=null,I=new lt(0,0,0),D=0,N=!1,R=null,F=null,j=null,G=null,$=null;const ne=t.getParameter(t.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let J=!1,re=0;const k=t.getParameter(t.VERSION);k.indexOf("WebGL")!==-1?(re=parseFloat(/^WebGL (\d)/.exec(k)[1]),J=re>=1):k.indexOf("OpenGL ES")!==-1&&(re=parseFloat(/^OpenGL ES (\d)/.exec(k)[1]),J=re>=2);let W=null,q={};const ee=t.getParameter(t.SCISSOR_BOX),de=t.getParameter(t.VIEWPORT),Ae=new dn().fromArray(ee),ae=new dn().fromArray(de);function be(Y,Me,Ce,We){const De=new Uint8Array(4),Pe=t.createTexture();t.bindTexture(Y,Pe),t.texParameteri(Y,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(Y,t.TEXTURE_MAG_FILTER,t.NEAREST);for(let Je=0;Je<Ce;Je++)Y===t.TEXTURE_3D||Y===t.TEXTURE_2D_ARRAY?t.texImage3D(Me,0,t.RGBA,1,1,We,0,t.RGBA,t.UNSIGNED_BYTE,De):t.texImage2D(Me+Je,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,De);return Pe}const Ee={};Ee[t.TEXTURE_2D]=be(t.TEXTURE_2D,t.TEXTURE_2D,1),Ee[t.TEXTURE_CUBE_MAP]=be(t.TEXTURE_CUBE_MAP,t.TEXTURE_CUBE_MAP_POSITIVE_X,6),Ee[t.TEXTURE_2D_ARRAY]=be(t.TEXTURE_2D_ARRAY,t.TEXTURE_2D_ARRAY,1,1),Ee[t.TEXTURE_3D]=be(t.TEXTURE_3D,t.TEXTURE_3D,1,1),s.setClear(0,0,0,1),o.setClear(1),a.setClear(0),me(t.DEPTH_TEST),o.setFunc(fu),Re(!1),Ue(PE),me(t.CULL_FACE),V(ma);function me(Y){d[Y]!==!0&&(t.enable(Y),d[Y]=!0)}function ke(Y){d[Y]!==!1&&(t.disable(Y),d[Y]=!1)}function tt(Y,Me){return h[Y]!==Me?(t.bindFramebuffer(Y,Me),h[Y]=Me,Y===t.DRAW_FRAMEBUFFER&&(h[t.FRAMEBUFFER]=Me),Y===t.FRAMEBUFFER&&(h[t.DRAW_FRAMEBUFFER]=Me),!0):!1}function Fe(Y,Me){let Ce=m,We=!1;if(Y){Ce=p.get(Me),Ce===void 0&&(Ce=[],p.set(Me,Ce));const De=Y.textures;if(Ce.length!==De.length||Ce[0]!==t.COLOR_ATTACHMENT0){for(let Pe=0,Je=De.length;Pe<Je;Pe++)Ce[Pe]=t.COLOR_ATTACHMENT0+Pe;Ce.length=De.length,We=!0}}else Ce[0]!==t.BACK&&(Ce[0]=t.BACK,We=!0);We&&t.drawBuffers(Ce)}function nt(Y){return v!==Y?(t.useProgram(Y),v=Y,!0):!1}const qe={[dl]:t.FUNC_ADD,[Yz]:t.FUNC_SUBTRACT,[qz]:t.FUNC_REVERSE_SUBTRACT};qe[Zz]=t.MIN,qe[Kz]=t.MAX;const Ye={[Qz]:t.ZERO,[Jz]:t.ONE,[e4]:t.SRC_COLOR,[K0]:t.SRC_ALPHA,[o4]:t.SRC_ALPHA_SATURATE,[i4]:t.DST_COLOR,[n4]:t.DST_ALPHA,[t4]:t.ONE_MINUS_SRC_COLOR,[Q0]:t.ONE_MINUS_SRC_ALPHA,[s4]:t.ONE_MINUS_DST_COLOR,[r4]:t.ONE_MINUS_DST_ALPHA,[a4]:t.CONSTANT_COLOR,[l4]:t.ONE_MINUS_CONSTANT_COLOR,[c4]:t.CONSTANT_ALPHA,[u4]:t.ONE_MINUS_CONSTANT_ALPHA};function V(Y,Me,Ce,We,De,Pe,Je,wt,ln,Xt){if(Y===ma){x===!0&&(ke(t.BLEND),x=!1);return}if(x===!1&&(me(t.BLEND),x=!0),Y!==$z){if(Y!==y||Xt!==N){if((g!==dl||E!==dl)&&(t.blendEquation(t.FUNC_ADD),g=dl,E=dl),Xt)switch(Y){case tu:t.blendFuncSeparate(t.ONE,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case RE:t.blendFunc(t.ONE,t.ONE);break;case IE:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case NE:t.blendFuncSeparate(t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA,t.ZERO,t.ONE);break;default:console.error("THREE.WebGLState: Invalid blending: ",Y);break}else switch(Y){case tu:t.blendFuncSeparate(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case RE:t.blendFuncSeparate(t.SRC_ALPHA,t.ONE,t.ONE,t.ONE);break;case IE:console.error("THREE.WebGLState: SubtractiveBlending requires material.premultipliedAlpha = true");break;case NE:console.error("THREE.WebGLState: MultiplyBlending requires material.premultipliedAlpha = true");break;default:console.error("THREE.WebGLState: Invalid blending: ",Y);break}w=null,b=null,C=null,A=null,I.set(0,0,0),D=0,y=Y,N=Xt}return}De=De||Me,Pe=Pe||Ce,Je=Je||We,(Me!==g||De!==E)&&(t.blendEquationSeparate(qe[Me],qe[De]),g=Me,E=De),(Ce!==w||We!==b||Pe!==C||Je!==A)&&(t.blendFuncSeparate(Ye[Ce],Ye[We],Ye[Pe],Ye[Je]),w=Ce,b=We,C=Pe,A=Je),(wt.equals(I)===!1||ln!==D)&&(t.blendColor(wt.r,wt.g,wt.b,ln),I.copy(wt),D=ln),y=Y,N=!1}function Oe(Y,Me){Y.side===So?ke(t.CULL_FACE):me(t.CULL_FACE);let Ce=Y.side===gi;Me&&(Ce=!Ce),Re(Ce),Y.blending===tu&&Y.transparent===!1?V(ma):V(Y.blending,Y.blendEquation,Y.blendSrc,Y.blendDst,Y.blendEquationAlpha,Y.blendSrcAlpha,Y.blendDstAlpha,Y.blendColor,Y.blendAlpha,Y.premultipliedAlpha),o.setFunc(Y.depthFunc),o.setTest(Y.depthTest),o.setMask(Y.depthWrite),s.setMask(Y.colorWrite);const We=Y.stencilWrite;a.setTest(We),We&&(a.setMask(Y.stencilWriteMask),a.setFunc(Y.stencilFunc,Y.stencilRef,Y.stencilFuncMask),a.setOp(Y.stencilFail,Y.stencilZFail,Y.stencilZPass)),Z(Y.polygonOffset,Y.polygonOffsetFactor,Y.polygonOffsetUnits),Y.alphaToCoverage===!0?me(t.SAMPLE_ALPHA_TO_COVERAGE):ke(t.SAMPLE_ALPHA_TO_COVERAGE)}function Re(Y){R!==Y&&(Y?t.frontFace(t.CW):t.frontFace(t.CCW),R=Y)}function Ue(Y){Y!==Wz?(me(t.CULL_FACE),Y!==F&&(Y===PE?t.cullFace(t.BACK):Y===Gz?t.cullFace(t.FRONT):t.cullFace(t.FRONT_AND_BACK))):ke(t.CULL_FACE),F=Y}function B(Y){Y!==j&&(J&&t.lineWidth(Y),j=Y)}function Z(Y,Me,Ce){Y?(me(t.POLYGON_OFFSET_FILL),(G!==Me||$!==Ce)&&(t.polygonOffset(Me,Ce),G=Me,$=Ce)):ke(t.POLYGON_OFFSET_FILL)}function Q(Y){Y?me(t.SCISSOR_TEST):ke(t.SCISSOR_TEST)}function ge(Y){Y===void 0&&(Y=t.TEXTURE0+ne-1),W!==Y&&(t.activeTexture(Y),W=Y)}function Se(Y,Me,Ce){Ce===void 0&&(W===null?Ce=t.TEXTURE0+ne-1:Ce=W);let We=q[Ce];We===void 0&&(We={type:void 0,texture:void 0},q[Ce]=We),(We.type!==Y||We.texture!==Me)&&(W!==Ce&&(t.activeTexture(Ce),W=Ce),t.bindTexture(Y,Me||Ee[Y]),We.type=Y,We.texture=Me)}function U(){const Y=q[W];Y!==void 0&&Y.type!==void 0&&(t.bindTexture(Y.type,null),Y.type=void 0,Y.texture=void 0)}function O(){try{t.compressedTexImage2D(...arguments)}catch(Y){console.error("THREE.WebGLState:",Y)}}function te(){try{t.compressedTexImage3D(...arguments)}catch(Y){console.error("THREE.WebGLState:",Y)}}function ue(){try{t.texSubImage2D(...arguments)}catch(Y){console.error("THREE.WebGLState:",Y)}}function ye(){try{t.texSubImage3D(...arguments)}catch(Y){console.error("THREE.WebGLState:",Y)}}function ve(){try{t.compressedTexSubImage2D(...arguments)}catch(Y){console.error("THREE.WebGLState:",Y)}}function rt(){try{t.compressedTexSubImage3D(...arguments)}catch(Y){console.error("THREE.WebGLState:",Y)}}function He(){try{t.texStorage2D(...arguments)}catch(Y){console.error("THREE.WebGLState:",Y)}}function it(){try{t.texStorage3D(...arguments)}catch(Y){console.error("THREE.WebGLState:",Y)}}function ct(){try{t.texImage2D(...arguments)}catch(Y){console.error("THREE.WebGLState:",Y)}}function Ie(){try{t.texImage3D(...arguments)}catch(Y){console.error("THREE.WebGLState:",Y)}}function Qe(Y){Ae.equals(Y)===!1&&(t.scissor(Y.x,Y.y,Y.z,Y.w),Ae.copy(Y))}function gt(Y){ae.equals(Y)===!1&&(t.viewport(Y.x,Y.y,Y.z,Y.w),ae.copy(Y))}function K(Y,Me){let Ce=c.get(Me);Ce===void 0&&(Ce=new WeakMap,c.set(Me,Ce));let We=Ce.get(Y);We===void 0&&(We=t.getUniformBlockIndex(Me,Y.name),Ce.set(Y,We))}function ce(Y,Me){const We=c.get(Me).get(Y);l.get(Me)!==We&&(t.uniformBlockBinding(Me,We,Y.__bindingPointIndex),l.set(Me,We))}function _e(){t.disable(t.BLEND),t.disable(t.CULL_FACE),t.disable(t.DEPTH_TEST),t.disable(t.POLYGON_OFFSET_FILL),t.disable(t.SCISSOR_TEST),t.disable(t.STENCIL_TEST),t.disable(t.SAMPLE_ALPHA_TO_COVERAGE),t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ONE,t.ZERO),t.blendFuncSeparate(t.ONE,t.ZERO,t.ONE,t.ZERO),t.blendColor(0,0,0,0),t.colorMask(!0,!0,!0,!0),t.clearColor(0,0,0,0),t.depthMask(!0),t.depthFunc(t.LESS),o.setReversed(!1),t.clearDepth(1),t.stencilMask(4294967295),t.stencilFunc(t.ALWAYS,0,4294967295),t.stencilOp(t.KEEP,t.KEEP,t.KEEP),t.clearStencil(0),t.cullFace(t.BACK),t.frontFace(t.CCW),t.polygonOffset(0,0),t.activeTexture(t.TEXTURE0),t.bindFramebuffer(t.FRAMEBUFFER,null),t.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),t.bindFramebuffer(t.READ_FRAMEBUFFER,null),t.useProgram(null),t.lineWidth(1),t.scissor(0,0,t.canvas.width,t.canvas.height),t.viewport(0,0,t.canvas.width,t.canvas.height),d={},W=null,q={},h={},p=new WeakMap,m=[],v=null,x=!1,y=null,g=null,w=null,b=null,E=null,C=null,A=null,I=new lt(0,0,0),D=0,N=!1,R=null,F=null,j=null,G=null,$=null,Ae.set(0,0,t.canvas.width,t.canvas.height),ae.set(0,0,t.canvas.width,t.canvas.height),s.reset(),o.reset(),a.reset()}return{buffers:{color:s,depth:o,stencil:a},enable:me,disable:ke,bindFramebuffer:tt,drawBuffers:Fe,useProgram:nt,setBlending:V,setMaterial:Oe,setFlipSided:Re,setCullFace:Ue,setLineWidth:B,setPolygonOffset:Z,setScissorTest:Q,activeTexture:ge,bindTexture:Se,unbindTexture:U,compressedTexImage2D:O,compressedTexImage3D:te,texImage2D:ct,texImage3D:Ie,updateUBOMapping:K,uniformBlockBinding:ce,texStorage2D:He,texStorage3D:it,texSubImage2D:ue,texSubImage3D:ye,compressedTexSubImage2D:ve,compressedTexSubImage3D:rt,scissor:Qe,viewport:gt,reset:_e}}function pae(t,e,n,r,i,s,o){const a=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,l=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),c=new Te,d=new WeakMap;let h;const p=new WeakMap;let m=!1;try{m=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function v(U,O){return m?new OffscreenCanvas(U,O):ym("canvas")}function x(U,O,te){let ue=1;const ye=Se(U);if((ye.width>te||ye.height>te)&&(ue=te/Math.max(ye.width,ye.height)),ue<1)if(typeof HTMLImageElement<"u"&&U instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&U instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&U instanceof ImageBitmap||typeof VideoFrame<"u"&&U instanceof VideoFrame){const ve=Math.floor(ue*ye.width),rt=Math.floor(ue*ye.height);h===void 0&&(h=v(ve,rt));const He=O?v(ve,rt):h;return He.width=ve,He.height=rt,He.getContext("2d").drawImage(U,0,0,ve,rt),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+ye.width+"x"+ye.height+") to ("+ve+"x"+rt+")."),He}else return"data"in U&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+ye.width+"x"+ye.height+")."),U;return U}function y(U){return U.generateMipmaps}function g(U){t.generateMipmap(U)}function w(U){return U.isWebGLCubeRenderTarget?t.TEXTURE_CUBE_MAP:U.isWebGL3DRenderTarget?t.TEXTURE_3D:U.isWebGLArrayRenderTarget||U.isCompressedArrayTexture?t.TEXTURE_2D_ARRAY:t.TEXTURE_2D}function b(U,O,te,ue,ye=!1){if(U!==null){if(t[U]!==void 0)return t[U];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+U+"'")}let ve=O;if(O===t.RED&&(te===t.FLOAT&&(ve=t.R32F),te===t.HALF_FLOAT&&(ve=t.R16F),te===t.UNSIGNED_BYTE&&(ve=t.R8)),O===t.RED_INTEGER&&(te===t.UNSIGNED_BYTE&&(ve=t.R8UI),te===t.UNSIGNED_SHORT&&(ve=t.R16UI),te===t.UNSIGNED_INT&&(ve=t.R32UI),te===t.BYTE&&(ve=t.R8I),te===t.SHORT&&(ve=t.R16I),te===t.INT&&(ve=t.R32I)),O===t.RG&&(te===t.FLOAT&&(ve=t.RG32F),te===t.HALF_FLOAT&&(ve=t.RG16F),te===t.UNSIGNED_BYTE&&(ve=t.RG8)),O===t.RG_INTEGER&&(te===t.UNSIGNED_BYTE&&(ve=t.RG8UI),te===t.UNSIGNED_SHORT&&(ve=t.RG16UI),te===t.UNSIGNED_INT&&(ve=t.RG32UI),te===t.BYTE&&(ve=t.RG8I),te===t.SHORT&&(ve=t.RG16I),te===t.INT&&(ve=t.RG32I)),O===t.RGB_INTEGER&&(te===t.UNSIGNED_BYTE&&(ve=t.RGB8UI),te===t.UNSIGNED_SHORT&&(ve=t.RGB16UI),te===t.UNSIGNED_INT&&(ve=t.RGB32UI),te===t.BYTE&&(ve=t.RGB8I),te===t.SHORT&&(ve=t.RGB16I),te===t.INT&&(ve=t.RGB32I)),O===t.RGBA_INTEGER&&(te===t.UNSIGNED_BYTE&&(ve=t.RGBA8UI),te===t.UNSIGNED_SHORT&&(ve=t.RGBA16UI),te===t.UNSIGNED_INT&&(ve=t.RGBA32UI),te===t.BYTE&&(ve=t.RGBA8I),te===t.SHORT&&(ve=t.RGBA16I),te===t.INT&&(ve=t.RGBA32I)),O===t.RGB&&te===t.UNSIGNED_INT_5_9_9_9_REV&&(ve=t.RGB9_E5),O===t.RGBA){const rt=ye?mm:cn.getTransfer(ue);te===t.FLOAT&&(ve=t.RGBA32F),te===t.HALF_FLOAT&&(ve=t.RGBA16F),te===t.UNSIGNED_BYTE&&(ve=rt===Sn?t.SRGB8_ALPHA8:t.RGBA8),te===t.UNSIGNED_SHORT_4_4_4_4&&(ve=t.RGBA4),te===t.UNSIGNED_SHORT_5_5_5_1&&(ve=t.RGB5_A1)}return(ve===t.R16F||ve===t.R32F||ve===t.RG16F||ve===t.RG32F||ve===t.RGBA16F||ve===t.RGBA32F)&&e.get("EXT_color_buffer_float"),ve}function E(U,O){let te;return U?O===null||O===Aa||O===Ef?te=t.DEPTH24_STENCIL8:O===ki?te=t.DEPTH32F_STENCIL8:O===Mf&&(te=t.DEPTH24_STENCIL8,console.warn("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):O===null||O===Aa||O===Ef?te=t.DEPTH_COMPONENT24:O===ki?te=t.DEPTH_COMPONENT32F:O===Mf&&(te=t.DEPTH_COMPONENT16),te}function C(U,O){return y(U)===!0||U.isFramebufferTexture&&U.minFilter!==Dr&&U.minFilter!==yr?Math.log2(Math.max(O.width,O.height))+1:U.mipmaps!==void 0&&U.mipmaps.length>0?U.mipmaps.length:U.isCompressedTexture&&Array.isArray(U.image)?O.mipmaps.length:1}function A(U){const O=U.target;O.removeEventListener("dispose",A),D(O),O.isVideoTexture&&d.delete(O)}function I(U){const O=U.target;O.removeEventListener("dispose",I),R(O)}function D(U){const O=r.get(U);if(O.__webglInit===void 0)return;const te=U.source,ue=p.get(te);if(ue){const ye=ue[O.__cacheKey];ye.usedTimes--,ye.usedTimes===0&&N(U),Object.keys(ue).length===0&&p.delete(te)}r.remove(U)}function N(U){const O=r.get(U);t.deleteTexture(O.__webglTexture);const te=U.source,ue=p.get(te);delete ue[O.__cacheKey],o.memory.textures--}function R(U){const O=r.get(U);if(U.depthTexture&&(U.depthTexture.dispose(),r.remove(U.depthTexture)),U.isWebGLCubeRenderTarget)for(let ue=0;ue<6;ue++){if(Array.isArray(O.__webglFramebuffer[ue]))for(let ye=0;ye<O.__webglFramebuffer[ue].length;ye++)t.deleteFramebuffer(O.__webglFramebuffer[ue][ye]);else t.deleteFramebuffer(O.__webglFramebuffer[ue]);O.__webglDepthbuffer&&t.deleteRenderbuffer(O.__webglDepthbuffer[ue])}else{if(Array.isArray(O.__webglFramebuffer))for(let ue=0;ue<O.__webglFramebuffer.length;ue++)t.deleteFramebuffer(O.__webglFramebuffer[ue]);else t.deleteFramebuffer(O.__webglFramebuffer);if(O.__webglDepthbuffer&&t.deleteRenderbuffer(O.__webglDepthbuffer),O.__webglMultisampledFramebuffer&&t.deleteFramebuffer(O.__webglMultisampledFramebuffer),O.__webglColorRenderbuffer)for(let ue=0;ue<O.__webglColorRenderbuffer.length;ue++)O.__webglColorRenderbuffer[ue]&&t.deleteRenderbuffer(O.__webglColorRenderbuffer[ue]);O.__webglDepthRenderbuffer&&t.deleteRenderbuffer(O.__webglDepthRenderbuffer)}const te=U.textures;for(let ue=0,ye=te.length;ue<ye;ue++){const ve=r.get(te[ue]);ve.__webglTexture&&(t.deleteTexture(ve.__webglTexture),o.memory.textures--),r.remove(te[ue])}r.remove(U)}let F=0;function j(){F=0}function G(){const U=F;return U>=i.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+U+" texture units while this GPU supports only "+i.maxTextures),F+=1,U}function $(U){const O=[];return O.push(U.wrapS),O.push(U.wrapT),O.push(U.wrapR||0),O.push(U.magFilter),O.push(U.minFilter),O.push(U.anisotropy),O.push(U.internalFormat),O.push(U.format),O.push(U.type),O.push(U.generateMipmaps),O.push(U.premultiplyAlpha),O.push(U.flipY),O.push(U.unpackAlignment),O.push(U.colorSpace),O.join()}function ne(U,O){const te=r.get(U);if(U.isVideoTexture&&Q(U),U.isRenderTargetTexture===!1&&U.version>0&&te.__version!==U.version){const ue=U.image;if(ue===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(ue.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{Ee(te,U,O);return}}n.bindTexture(t.TEXTURE_2D,te.__webglTexture,t.TEXTURE0+O)}function J(U,O){const te=r.get(U);if(U.version>0&&te.__version!==U.version){Ee(te,U,O);return}n.bindTexture(t.TEXTURE_2D_ARRAY,te.__webglTexture,t.TEXTURE0+O)}function re(U,O){const te=r.get(U);if(U.version>0&&te.__version!==U.version){Ee(te,U,O);return}n.bindTexture(t.TEXTURE_3D,te.__webglTexture,t.TEXTURE0+O)}function k(U,O){const te=r.get(U);if(U.version>0&&te.__version!==U.version){me(te,U,O);return}n.bindTexture(t.TEXTURE_CUBE_MAP,te.__webglTexture,t.TEXTURE0+O)}const W={[dm]:t.REPEAT,[Ms]:t.CLAMP_TO_EDGE,[fm]:t.MIRRORED_REPEAT},q={[Dr]:t.NEAREST,[cA]:t.NEAREST_MIPMAP_NEAREST,[Fd]:t.NEAREST_MIPMAP_LINEAR,[yr]:t.LINEAR,[xp]:t.LINEAR_MIPMAP_NEAREST,[Mo]:t.LINEAR_MIPMAP_LINEAR},ee={[T4]:t.NEVER,[N4]:t.ALWAYS,[C4]:t.LESS,[yA]:t.LEQUAL,[A4]:t.EQUAL,[I4]:t.GEQUAL,[P4]:t.GREATER,[R4]:t.NOTEQUAL};function de(U,O){if(O.type===ki&&e.has("OES_texture_float_linear")===!1&&(O.magFilter===yr||O.magFilter===xp||O.magFilter===Fd||O.magFilter===Mo||O.minFilter===yr||O.minFilter===xp||O.minFilter===Fd||O.minFilter===Mo)&&console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),t.texParameteri(U,t.TEXTURE_WRAP_S,W[O.wrapS]),t.texParameteri(U,t.TEXTURE_WRAP_T,W[O.wrapT]),(U===t.TEXTURE_3D||U===t.TEXTURE_2D_ARRAY)&&t.texParameteri(U,t.TEXTURE_WRAP_R,W[O.wrapR]),t.texParameteri(U,t.TEXTURE_MAG_FILTER,q[O.magFilter]),t.texParameteri(U,t.TEXTURE_MIN_FILTER,q[O.minFilter]),O.compareFunction&&(t.texParameteri(U,t.TEXTURE_COMPARE_MODE,t.COMPARE_REF_TO_TEXTURE),t.texParameteri(U,t.TEXTURE_COMPARE_FUNC,ee[O.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){if(O.magFilter===Dr||O.minFilter!==Fd&&O.minFilter!==Mo||O.type===ki&&e.has("OES_texture_float_linear")===!1)return;if(O.anisotropy>1||r.get(O).__currentAnisotropy){const te=e.get("EXT_texture_filter_anisotropic");t.texParameterf(U,te.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(O.anisotropy,i.getMaxAnisotropy())),r.get(O).__currentAnisotropy=O.anisotropy}}}function Ae(U,O){let te=!1;U.__webglInit===void 0&&(U.__webglInit=!0,O.addEventListener("dispose",A));const ue=O.source;let ye=p.get(ue);ye===void 0&&(ye={},p.set(ue,ye));const ve=$(O);if(ve!==U.__cacheKey){ye[ve]===void 0&&(ye[ve]={texture:t.createTexture(),usedTimes:0},o.memory.textures++,te=!0),ye[ve].usedTimes++;const rt=ye[U.__cacheKey];rt!==void 0&&(ye[U.__cacheKey].usedTimes--,rt.usedTimes===0&&N(O)),U.__cacheKey=ve,U.__webglTexture=ye[ve].texture}return te}function ae(U,O,te){return Math.floor(Math.floor(U/te)/O)}function be(U,O,te,ue){const ve=U.updateRanges;if(ve.length===0)n.texSubImage2D(t.TEXTURE_2D,0,0,0,O.width,O.height,te,ue,O.data);else{ve.sort((Ie,Qe)=>Ie.start-Qe.start);let rt=0;for(let Ie=1;Ie<ve.length;Ie++){const Qe=ve[rt],gt=ve[Ie],K=Qe.start+Qe.count,ce=ae(gt.start,O.width,4),_e=ae(Qe.start,O.width,4);gt.start<=K+1&&ce===_e&&ae(gt.start+gt.count-1,O.width,4)===ce?Qe.count=Math.max(Qe.count,gt.start+gt.count-Qe.start):(++rt,ve[rt]=gt)}ve.length=rt+1;const He=t.getParameter(t.UNPACK_ROW_LENGTH),it=t.getParameter(t.UNPACK_SKIP_PIXELS),ct=t.getParameter(t.UNPACK_SKIP_ROWS);t.pixelStorei(t.UNPACK_ROW_LENGTH,O.width);for(let Ie=0,Qe=ve.length;Ie<Qe;Ie++){const gt=ve[Ie],K=Math.floor(gt.start/4),ce=Math.ceil(gt.count/4),_e=K%O.width,Y=Math.floor(K/O.width),Me=ce,Ce=1;t.pixelStorei(t.UNPACK_SKIP_PIXELS,_e),t.pixelStorei(t.UNPACK_SKIP_ROWS,Y),n.texSubImage2D(t.TEXTURE_2D,0,_e,Y,Me,Ce,te,ue,O.data)}U.clearUpdateRanges(),t.pixelStorei(t.UNPACK_ROW_LENGTH,He),t.pixelStorei(t.UNPACK_SKIP_PIXELS,it),t.pixelStorei(t.UNPACK_SKIP_ROWS,ct)}}function Ee(U,O,te){let ue=t.TEXTURE_2D;(O.isDataArrayTexture||O.isCompressedArrayTexture)&&(ue=t.TEXTURE_2D_ARRAY),O.isData3DTexture&&(ue=t.TEXTURE_3D);const ye=Ae(U,O),ve=O.source;n.bindTexture(ue,U.__webglTexture,t.TEXTURE0+te);const rt=r.get(ve);if(ve.version!==rt.__version||ye===!0){n.activeTexture(t.TEXTURE0+te);const He=cn.getPrimaries(cn.workingColorSpace),it=O.colorSpace===la?null:cn.getPrimaries(O.colorSpace),ct=O.colorSpace===la||He===it?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,O.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,O.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,O.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,ct);let Ie=x(O.image,!1,i.maxTextureSize);Ie=ge(O,Ie);const Qe=s.convert(O.format,O.colorSpace),gt=s.convert(O.type);let K=b(O.internalFormat,Qe,gt,O.colorSpace,O.isVideoTexture);de(ue,O);let ce;const _e=O.mipmaps,Y=O.isVideoTexture!==!0,Me=rt.__version===void 0||ye===!0,Ce=ve.dataReady,We=C(O,Ie);if(O.isDepthTexture)K=E(O.format===Cf,O.type),Me&&(Y?n.texStorage2D(t.TEXTURE_2D,1,K,Ie.width,Ie.height):n.texImage2D(t.TEXTURE_2D,0,K,Ie.width,Ie.height,0,Qe,gt,null));else if(O.isDataTexture)if(_e.length>0){Y&&Me&&n.texStorage2D(t.TEXTURE_2D,We,K,_e[0].width,_e[0].height);for(let De=0,Pe=_e.length;De<Pe;De++)ce=_e[De],Y?Ce&&n.texSubImage2D(t.TEXTURE_2D,De,0,0,ce.width,ce.height,Qe,gt,ce.data):n.texImage2D(t.TEXTURE_2D,De,K,ce.width,ce.height,0,Qe,gt,ce.data);O.generateMipmaps=!1}else Y?(Me&&n.texStorage2D(t.TEXTURE_2D,We,K,Ie.width,Ie.height),Ce&&be(O,Ie,Qe,gt)):n.texImage2D(t.TEXTURE_2D,0,K,Ie.width,Ie.height,0,Qe,gt,Ie.data);else if(O.isCompressedTexture)if(O.isCompressedArrayTexture){Y&&Me&&n.texStorage3D(t.TEXTURE_2D_ARRAY,We,K,_e[0].width,_e[0].height,Ie.depth);for(let De=0,Pe=_e.length;De<Pe;De++)if(ce=_e[De],O.format!==Qr)if(Qe!==null)if(Y){if(Ce)if(O.layerUpdates.size>0){const Je=HE(ce.width,ce.height,O.format,O.type);for(const wt of O.layerUpdates){const ln=ce.data.subarray(wt*Je/ce.data.BYTES_PER_ELEMENT,(wt+1)*Je/ce.data.BYTES_PER_ELEMENT);n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,De,0,0,wt,ce.width,ce.height,1,Qe,ln)}O.clearLayerUpdates()}else n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,De,0,0,0,ce.width,ce.height,Ie.depth,Qe,ce.data)}else n.compressedTexImage3D(t.TEXTURE_2D_ARRAY,De,K,ce.width,ce.height,Ie.depth,0,ce.data,0,0);else console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else Y?Ce&&n.texSubImage3D(t.TEXTURE_2D_ARRAY,De,0,0,0,ce.width,ce.height,Ie.depth,Qe,gt,ce.data):n.texImage3D(t.TEXTURE_2D_ARRAY,De,K,ce.width,ce.height,Ie.depth,0,Qe,gt,ce.data)}else{Y&&Me&&n.texStorage2D(t.TEXTURE_2D,We,K,_e[0].width,_e[0].height);for(let De=0,Pe=_e.length;De<Pe;De++)ce=_e[De],O.format!==Qr?Qe!==null?Y?Ce&&n.compressedTexSubImage2D(t.TEXTURE_2D,De,0,0,ce.width,ce.height,Qe,ce.data):n.compressedTexImage2D(t.TEXTURE_2D,De,K,ce.width,ce.height,0,ce.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Y?Ce&&n.texSubImage2D(t.TEXTURE_2D,De,0,0,ce.width,ce.height,Qe,gt,ce.data):n.texImage2D(t.TEXTURE_2D,De,K,ce.width,ce.height,0,Qe,gt,ce.data)}else if(O.isDataArrayTexture)if(Y){if(Me&&n.texStorage3D(t.TEXTURE_2D_ARRAY,We,K,Ie.width,Ie.height,Ie.depth),Ce)if(O.layerUpdates.size>0){const De=HE(Ie.width,Ie.height,O.format,O.type);for(const Pe of O.layerUpdates){const Je=Ie.data.subarray(Pe*De/Ie.data.BYTES_PER_ELEMENT,(Pe+1)*De/Ie.data.BYTES_PER_ELEMENT);n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,Pe,Ie.width,Ie.height,1,Qe,gt,Je)}O.clearLayerUpdates()}else n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,0,Ie.width,Ie.height,Ie.depth,Qe,gt,Ie.data)}else n.texImage3D(t.TEXTURE_2D_ARRAY,0,K,Ie.width,Ie.height,Ie.depth,0,Qe,gt,Ie.data);else if(O.isData3DTexture)Y?(Me&&n.texStorage3D(t.TEXTURE_3D,We,K,Ie.width,Ie.height,Ie.depth),Ce&&n.texSubImage3D(t.TEXTURE_3D,0,0,0,0,Ie.width,Ie.height,Ie.depth,Qe,gt,Ie.data)):n.texImage3D(t.TEXTURE_3D,0,K,Ie.width,Ie.height,Ie.depth,0,Qe,gt,Ie.data);else if(O.isFramebufferTexture){if(Me)if(Y)n.texStorage2D(t.TEXTURE_2D,We,K,Ie.width,Ie.height);else{let De=Ie.width,Pe=Ie.height;for(let Je=0;Je<We;Je++)n.texImage2D(t.TEXTURE_2D,Je,K,De,Pe,0,Qe,gt,null),De>>=1,Pe>>=1}}else if(_e.length>0){if(Y&&Me){const De=Se(_e[0]);n.texStorage2D(t.TEXTURE_2D,We,K,De.width,De.height)}for(let De=0,Pe=_e.length;De<Pe;De++)ce=_e[De],Y?Ce&&n.texSubImage2D(t.TEXTURE_2D,De,0,0,Qe,gt,ce):n.texImage2D(t.TEXTURE_2D,De,K,Qe,gt,ce);O.generateMipmaps=!1}else if(Y){if(Me){const De=Se(Ie);n.texStorage2D(t.TEXTURE_2D,We,K,De.width,De.height)}Ce&&n.texSubImage2D(t.TEXTURE_2D,0,0,0,Qe,gt,Ie)}else n.texImage2D(t.TEXTURE_2D,0,K,Qe,gt,Ie);y(O)&&g(ue),rt.__version=ve.version,O.onUpdate&&O.onUpdate(O)}U.__version=O.version}function me(U,O,te){if(O.image.length!==6)return;const ue=Ae(U,O),ye=O.source;n.bindTexture(t.TEXTURE_CUBE_MAP,U.__webglTexture,t.TEXTURE0+te);const ve=r.get(ye);if(ye.version!==ve.__version||ue===!0){n.activeTexture(t.TEXTURE0+te);const rt=cn.getPrimaries(cn.workingColorSpace),He=O.colorSpace===la?null:cn.getPrimaries(O.colorSpace),it=O.colorSpace===la||rt===He?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,O.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,O.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,O.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,it);const ct=O.isCompressedTexture||O.image[0].isCompressedTexture,Ie=O.image[0]&&O.image[0].isDataTexture,Qe=[];for(let Pe=0;Pe<6;Pe++)!ct&&!Ie?Qe[Pe]=x(O.image[Pe],!0,i.maxCubemapSize):Qe[Pe]=Ie?O.image[Pe].image:O.image[Pe],Qe[Pe]=ge(O,Qe[Pe]);const gt=Qe[0],K=s.convert(O.format,O.colorSpace),ce=s.convert(O.type),_e=b(O.internalFormat,K,ce,O.colorSpace),Y=O.isVideoTexture!==!0,Me=ve.__version===void 0||ue===!0,Ce=ye.dataReady;let We=C(O,gt);de(t.TEXTURE_CUBE_MAP,O);let De;if(ct){Y&&Me&&n.texStorage2D(t.TEXTURE_CUBE_MAP,We,_e,gt.width,gt.height);for(let Pe=0;Pe<6;Pe++){De=Qe[Pe].mipmaps;for(let Je=0;Je<De.length;Je++){const wt=De[Je];O.format!==Qr?K!==null?Y?Ce&&n.compressedTexSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Pe,Je,0,0,wt.width,wt.height,K,wt.data):n.compressedTexImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Pe,Je,_e,wt.width,wt.height,0,wt.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Y?Ce&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Pe,Je,0,0,wt.width,wt.height,K,ce,wt.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Pe,Je,_e,wt.width,wt.height,0,K,ce,wt.data)}}}else{if(De=O.mipmaps,Y&&Me){De.length>0&&We++;const Pe=Se(Qe[0]);n.texStorage2D(t.TEXTURE_CUBE_MAP,We,_e,Pe.width,Pe.height)}for(let Pe=0;Pe<6;Pe++)if(Ie){Y?Ce&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Pe,0,0,0,Qe[Pe].width,Qe[Pe].height,K,ce,Qe[Pe].data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Pe,0,_e,Qe[Pe].width,Qe[Pe].height,0,K,ce,Qe[Pe].data);for(let Je=0;Je<De.length;Je++){const ln=De[Je].image[Pe].image;Y?Ce&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Pe,Je+1,0,0,ln.width,ln.height,K,ce,ln.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Pe,Je+1,_e,ln.width,ln.height,0,K,ce,ln.data)}}else{Y?Ce&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Pe,0,0,0,K,ce,Qe[Pe]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Pe,0,_e,K,ce,Qe[Pe]);for(let Je=0;Je<De.length;Je++){const wt=De[Je];Y?Ce&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Pe,Je+1,0,0,K,ce,wt.image[Pe]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Pe,Je+1,_e,K,ce,wt.image[Pe])}}}y(O)&&g(t.TEXTURE_CUBE_MAP),ve.__version=ye.version,O.onUpdate&&O.onUpdate(O)}U.__version=O.version}function ke(U,O,te,ue,ye,ve){const rt=s.convert(te.format,te.colorSpace),He=s.convert(te.type),it=b(te.internalFormat,rt,He,te.colorSpace),ct=r.get(O),Ie=r.get(te);if(Ie.__renderTarget=O,!ct.__hasExternalTextures){const Qe=Math.max(1,O.width>>ve),gt=Math.max(1,O.height>>ve);ye===t.TEXTURE_3D||ye===t.TEXTURE_2D_ARRAY?n.texImage3D(ye,ve,it,Qe,gt,O.depth,0,rt,He,null):n.texImage2D(ye,ve,it,Qe,gt,0,rt,He,null)}n.bindFramebuffer(t.FRAMEBUFFER,U),Z(O)?a.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,ue,ye,Ie.__webglTexture,0,B(O)):(ye===t.TEXTURE_2D||ye>=t.TEXTURE_CUBE_MAP_POSITIVE_X&&ye<=t.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&t.framebufferTexture2D(t.FRAMEBUFFER,ue,ye,Ie.__webglTexture,ve),n.bindFramebuffer(t.FRAMEBUFFER,null)}function tt(U,O,te){if(t.bindRenderbuffer(t.RENDERBUFFER,U),O.depthBuffer){const ue=O.depthTexture,ye=ue&&ue.isDepthTexture?ue.type:null,ve=E(O.stencilBuffer,ye),rt=O.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,He=B(O);Z(O)?a.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,He,ve,O.width,O.height):te?t.renderbufferStorageMultisample(t.RENDERBUFFER,He,ve,O.width,O.height):t.renderbufferStorage(t.RENDERBUFFER,ve,O.width,O.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,rt,t.RENDERBUFFER,U)}else{const ue=O.textures;for(let ye=0;ye<ue.length;ye++){const ve=ue[ye],rt=s.convert(ve.format,ve.colorSpace),He=s.convert(ve.type),it=b(ve.internalFormat,rt,He,ve.colorSpace),ct=B(O);te&&Z(O)===!1?t.renderbufferStorageMultisample(t.RENDERBUFFER,ct,it,O.width,O.height):Z(O)?a.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,ct,it,O.width,O.height):t.renderbufferStorage(t.RENDERBUFFER,it,O.width,O.height)}}t.bindRenderbuffer(t.RENDERBUFFER,null)}function Fe(U,O){if(O&&O.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(t.FRAMEBUFFER,U),!(O.depthTexture&&O.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");const ue=r.get(O.depthTexture);ue.__renderTarget=O,(!ue.__webglTexture||O.depthTexture.image.width!==O.width||O.depthTexture.image.height!==O.height)&&(O.depthTexture.image.width=O.width,O.depthTexture.image.height=O.height,O.depthTexture.needsUpdate=!0),ne(O.depthTexture,0);const ye=ue.__webglTexture,ve=B(O);if(O.depthTexture.format===Tf)Z(O)?a.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,ye,0,ve):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,ye,0);else if(O.depthTexture.format===Cf)Z(O)?a.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,ye,0,ve):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,ye,0);else throw new Error("Unknown depthTexture format")}function nt(U){const O=r.get(U),te=U.isWebGLCubeRenderTarget===!0;if(O.__boundDepthTexture!==U.depthTexture){const ue=U.depthTexture;if(O.__depthDisposeCallback&&O.__depthDisposeCallback(),ue){const ye=()=>{delete O.__boundDepthTexture,delete O.__depthDisposeCallback,ue.removeEventListener("dispose",ye)};ue.addEventListener("dispose",ye),O.__depthDisposeCallback=ye}O.__boundDepthTexture=ue}if(U.depthTexture&&!O.__autoAllocateDepthBuffer){if(te)throw new Error("target.depthTexture not supported in Cube render targets");const ue=U.texture.mipmaps;ue&&ue.length>0?Fe(O.__webglFramebuffer[0],U):Fe(O.__webglFramebuffer,U)}else if(te){O.__webglDepthbuffer=[];for(let ue=0;ue<6;ue++)if(n.bindFramebuffer(t.FRAMEBUFFER,O.__webglFramebuffer[ue]),O.__webglDepthbuffer[ue]===void 0)O.__webglDepthbuffer[ue]=t.createRenderbuffer(),tt(O.__webglDepthbuffer[ue],U,!1);else{const ye=U.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,ve=O.__webglDepthbuffer[ue];t.bindRenderbuffer(t.RENDERBUFFER,ve),t.framebufferRenderbuffer(t.FRAMEBUFFER,ye,t.RENDERBUFFER,ve)}}else{const ue=U.texture.mipmaps;if(ue&&ue.length>0?n.bindFramebuffer(t.FRAMEBUFFER,O.__webglFramebuffer[0]):n.bindFramebuffer(t.FRAMEBUFFER,O.__webglFramebuffer),O.__webglDepthbuffer===void 0)O.__webglDepthbuffer=t.createRenderbuffer(),tt(O.__webglDepthbuffer,U,!1);else{const ye=U.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,ve=O.__webglDepthbuffer;t.bindRenderbuffer(t.RENDERBUFFER,ve),t.framebufferRenderbuffer(t.FRAMEBUFFER,ye,t.RENDERBUFFER,ve)}}n.bindFramebuffer(t.FRAMEBUFFER,null)}function qe(U,O,te){const ue=r.get(U);O!==void 0&&ke(ue.__webglFramebuffer,U,U.texture,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,0),te!==void 0&&nt(U)}function Ye(U){const O=U.texture,te=r.get(U),ue=r.get(O);U.addEventListener("dispose",I);const ye=U.textures,ve=U.isWebGLCubeRenderTarget===!0,rt=ye.length>1;if(rt||(ue.__webglTexture===void 0&&(ue.__webglTexture=t.createTexture()),ue.__version=O.version,o.memory.textures++),ve){te.__webglFramebuffer=[];for(let He=0;He<6;He++)if(O.mipmaps&&O.mipmaps.length>0){te.__webglFramebuffer[He]=[];for(let it=0;it<O.mipmaps.length;it++)te.__webglFramebuffer[He][it]=t.createFramebuffer()}else te.__webglFramebuffer[He]=t.createFramebuffer()}else{if(O.mipmaps&&O.mipmaps.length>0){te.__webglFramebuffer=[];for(let He=0;He<O.mipmaps.length;He++)te.__webglFramebuffer[He]=t.createFramebuffer()}else te.__webglFramebuffer=t.createFramebuffer();if(rt)for(let He=0,it=ye.length;He<it;He++){const ct=r.get(ye[He]);ct.__webglTexture===void 0&&(ct.__webglTexture=t.createTexture(),o.memory.textures++)}if(U.samples>0&&Z(U)===!1){te.__webglMultisampledFramebuffer=t.createFramebuffer(),te.__webglColorRenderbuffer=[],n.bindFramebuffer(t.FRAMEBUFFER,te.__webglMultisampledFramebuffer);for(let He=0;He<ye.length;He++){const it=ye[He];te.__webglColorRenderbuffer[He]=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,te.__webglColorRenderbuffer[He]);const ct=s.convert(it.format,it.colorSpace),Ie=s.convert(it.type),Qe=b(it.internalFormat,ct,Ie,it.colorSpace,U.isXRRenderTarget===!0),gt=B(U);t.renderbufferStorageMultisample(t.RENDERBUFFER,gt,Qe,U.width,U.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+He,t.RENDERBUFFER,te.__webglColorRenderbuffer[He])}t.bindRenderbuffer(t.RENDERBUFFER,null),U.depthBuffer&&(te.__webglDepthRenderbuffer=t.createRenderbuffer(),tt(te.__webglDepthRenderbuffer,U,!0)),n.bindFramebuffer(t.FRAMEBUFFER,null)}}if(ve){n.bindTexture(t.TEXTURE_CUBE_MAP,ue.__webglTexture),de(t.TEXTURE_CUBE_MAP,O);for(let He=0;He<6;He++)if(O.mipmaps&&O.mipmaps.length>0)for(let it=0;it<O.mipmaps.length;it++)ke(te.__webglFramebuffer[He][it],U,O,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+He,it);else ke(te.__webglFramebuffer[He],U,O,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+He,0);y(O)&&g(t.TEXTURE_CUBE_MAP),n.unbindTexture()}else if(rt){for(let He=0,it=ye.length;He<it;He++){const ct=ye[He],Ie=r.get(ct);n.bindTexture(t.TEXTURE_2D,Ie.__webglTexture),de(t.TEXTURE_2D,ct),ke(te.__webglFramebuffer,U,ct,t.COLOR_ATTACHMENT0+He,t.TEXTURE_2D,0),y(ct)&&g(t.TEXTURE_2D)}n.unbindTexture()}else{let He=t.TEXTURE_2D;if((U.isWebGL3DRenderTarget||U.isWebGLArrayRenderTarget)&&(He=U.isWebGL3DRenderTarget?t.TEXTURE_3D:t.TEXTURE_2D_ARRAY),n.bindTexture(He,ue.__webglTexture),de(He,O),O.mipmaps&&O.mipmaps.length>0)for(let it=0;it<O.mipmaps.length;it++)ke(te.__webglFramebuffer[it],U,O,t.COLOR_ATTACHMENT0,He,it);else ke(te.__webglFramebuffer,U,O,t.COLOR_ATTACHMENT0,He,0);y(O)&&g(He),n.unbindTexture()}U.depthBuffer&&nt(U)}function V(U){const O=U.textures;for(let te=0,ue=O.length;te<ue;te++){const ye=O[te];if(y(ye)){const ve=w(U),rt=r.get(ye).__webglTexture;n.bindTexture(ve,rt),g(ve),n.unbindTexture()}}}const Oe=[],Re=[];function Ue(U){if(U.samples>0){if(Z(U)===!1){const O=U.textures,te=U.width,ue=U.height;let ye=t.COLOR_BUFFER_BIT;const ve=U.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,rt=r.get(U),He=O.length>1;if(He)for(let ct=0;ct<O.length;ct++)n.bindFramebuffer(t.FRAMEBUFFER,rt.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+ct,t.RENDERBUFFER,null),n.bindFramebuffer(t.FRAMEBUFFER,rt.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+ct,t.TEXTURE_2D,null,0);n.bindFramebuffer(t.READ_FRAMEBUFFER,rt.__webglMultisampledFramebuffer);const it=U.texture.mipmaps;it&&it.length>0?n.bindFramebuffer(t.DRAW_FRAMEBUFFER,rt.__webglFramebuffer[0]):n.bindFramebuffer(t.DRAW_FRAMEBUFFER,rt.__webglFramebuffer);for(let ct=0;ct<O.length;ct++){if(U.resolveDepthBuffer&&(U.depthBuffer&&(ye|=t.DEPTH_BUFFER_BIT),U.stencilBuffer&&U.resolveStencilBuffer&&(ye|=t.STENCIL_BUFFER_BIT)),He){t.framebufferRenderbuffer(t.READ_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.RENDERBUFFER,rt.__webglColorRenderbuffer[ct]);const Ie=r.get(O[ct]).__webglTexture;t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,Ie,0)}t.blitFramebuffer(0,0,te,ue,0,0,te,ue,ye,t.NEAREST),l===!0&&(Oe.length=0,Re.length=0,Oe.push(t.COLOR_ATTACHMENT0+ct),U.depthBuffer&&U.resolveDepthBuffer===!1&&(Oe.push(ve),Re.push(ve),t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,Re)),t.invalidateFramebuffer(t.READ_FRAMEBUFFER,Oe))}if(n.bindFramebuffer(t.READ_FRAMEBUFFER,null),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),He)for(let ct=0;ct<O.length;ct++){n.bindFramebuffer(t.FRAMEBUFFER,rt.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+ct,t.RENDERBUFFER,rt.__webglColorRenderbuffer[ct]);const Ie=r.get(O[ct]).__webglTexture;n.bindFramebuffer(t.FRAMEBUFFER,rt.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+ct,t.TEXTURE_2D,Ie,0)}n.bindFramebuffer(t.DRAW_FRAMEBUFFER,rt.__webglMultisampledFramebuffer)}else if(U.depthBuffer&&U.resolveDepthBuffer===!1&&l){const O=U.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT;t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,[O])}}}function B(U){return Math.min(i.maxSamples,U.samples)}function Z(U){const O=r.get(U);return U.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&O.__useRenderToTexture!==!1}function Q(U){const O=o.render.frame;d.get(U)!==O&&(d.set(U,O),U.update())}function ge(U,O){const te=U.colorSpace,ue=U.format,ye=U.type;return U.isCompressedTexture===!0||U.isVideoTexture===!0||te!==hu&&te!==la&&(cn.getTransfer(te)===Sn?(ue!==Qr||ye!==Is)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",te)),O}function Se(U){return typeof HTMLImageElement<"u"&&U instanceof HTMLImageElement?(c.width=U.naturalWidth||U.width,c.height=U.naturalHeight||U.height):typeof VideoFrame<"u"&&U instanceof VideoFrame?(c.width=U.displayWidth,c.height=U.displayHeight):(c.width=U.width,c.height=U.height),c}this.allocateTextureUnit=G,this.resetTextureUnits=j,this.setTexture2D=ne,this.setTexture2DArray=J,this.setTexture3D=re,this.setTextureCube=k,this.rebindTextures=qe,this.setupRenderTarget=Ye,this.updateRenderTargetMipmap=V,this.updateMultisampleRenderTarget=Ue,this.setupDepthRenderbuffer=nt,this.setupFrameBufferTexture=ke,this.useMultisampledRTT=Z}function HV(t,e){function n(r,i=la){let s;const o=cn.getTransfer(i);if(r===Is)return t.UNSIGNED_BYTE;if(r===H_)return t.UNSIGNED_SHORT_4_4_4_4;if(r===W_)return t.UNSIGNED_SHORT_5_5_5_1;if(r===fA)return t.UNSIGNED_INT_5_9_9_9_REV;if(r===uA)return t.BYTE;if(r===dA)return t.SHORT;if(r===Mf)return t.UNSIGNED_SHORT;if(r===j_)return t.INT;if(r===Aa)return t.UNSIGNED_INT;if(r===ki)return t.FLOAT;if(r===Yf)return t.HALF_FLOAT;if(r===hA)return t.ALPHA;if(r===pA)return t.RGB;if(r===Qr)return t.RGBA;if(r===Tf)return t.DEPTH_COMPONENT;if(r===Cf)return t.DEPTH_STENCIL;if(r===G_)return t.RED;if(r===Gm)return t.RED_INTEGER;if(r===mA)return t.RG;if(r===X_)return t.RG_INTEGER;if(r===$_)return t.RGBA_INTEGER;if(r===_p||r===wp||r===Sp||r===bp)if(o===Sn)if(s=e.get("WEBGL_compressed_texture_s3tc_srgb"),s!==null){if(r===_p)return s.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(r===wp)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(r===Sp)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(r===bp)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(s=e.get("WEBGL_compressed_texture_s3tc"),s!==null){if(r===_p)return s.COMPRESSED_RGB_S3TC_DXT1_EXT;if(r===wp)return s.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(r===Sp)return s.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(r===bp)return s.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(r===ox||r===ax||r===lx||r===cx)if(s=e.get("WEBGL_compressed_texture_pvrtc"),s!==null){if(r===ox)return s.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(r===ax)return s.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(r===lx)return s.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(r===cx)return s.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(r===ux||r===dx||r===fx)if(s=e.get("WEBGL_compressed_texture_etc"),s!==null){if(r===ux||r===dx)return o===Sn?s.COMPRESSED_SRGB8_ETC2:s.COMPRESSED_RGB8_ETC2;if(r===fx)return o===Sn?s.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:s.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(r===hx||r===px||r===mx||r===gx||r===vx||r===yx||r===xx||r===_x||r===wx||r===Sx||r===bx||r===Mx||r===Ex||r===Tx)if(s=e.get("WEBGL_compressed_texture_astc"),s!==null){if(r===hx)return o===Sn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:s.COMPRESSED_RGBA_ASTC_4x4_KHR;if(r===px)return o===Sn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:s.COMPRESSED_RGBA_ASTC_5x4_KHR;if(r===mx)return o===Sn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:s.COMPRESSED_RGBA_ASTC_5x5_KHR;if(r===gx)return o===Sn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:s.COMPRESSED_RGBA_ASTC_6x5_KHR;if(r===vx)return o===Sn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:s.COMPRESSED_RGBA_ASTC_6x6_KHR;if(r===yx)return o===Sn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:s.COMPRESSED_RGBA_ASTC_8x5_KHR;if(r===xx)return o===Sn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:s.COMPRESSED_RGBA_ASTC_8x6_KHR;if(r===_x)return o===Sn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:s.COMPRESSED_RGBA_ASTC_8x8_KHR;if(r===wx)return o===Sn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:s.COMPRESSED_RGBA_ASTC_10x5_KHR;if(r===Sx)return o===Sn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:s.COMPRESSED_RGBA_ASTC_10x6_KHR;if(r===bx)return o===Sn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:s.COMPRESSED_RGBA_ASTC_10x8_KHR;if(r===Mx)return o===Sn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:s.COMPRESSED_RGBA_ASTC_10x10_KHR;if(r===Ex)return o===Sn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:s.COMPRESSED_RGBA_ASTC_12x10_KHR;if(r===Tx)return o===Sn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:s.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(r===Mp||r===Cx||r===Ax)if(s=e.get("EXT_texture_compression_bptc"),s!==null){if(r===Mp)return o===Sn?s.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:s.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(r===Cx)return s.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(r===Ax)return s.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(r===gA||r===Px||r===Rx||r===Ix)if(s=e.get("EXT_texture_compression_rgtc"),s!==null){if(r===Mp)return s.COMPRESSED_RED_RGTC1_EXT;if(r===Px)return s.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(r===Rx)return s.COMPRESSED_RED_GREEN_RGTC2_EXT;if(r===Ix)return s.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return r===Ef?t.UNSIGNED_INT_24_8:t[r]!==void 0?t[r]:null}return{convert:n}}const mae=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,gae=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class vae{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,n,r){if(this.texture===null){const i=new Qn,s=e.properties.get(i);s.__webglTexture=n.texture,(n.depthNear!==r.depthNear||n.depthFar!==r.depthFar)&&(this.depthNear=n.depthNear,this.depthFar=n.depthFar),this.texture=i}}getMesh(e){if(this.texture!==null&&this.mesh===null){const n=e.cameras[0].viewport,r=new to({vertexShader:mae,fragmentShader:gae,uniforms:{depthColor:{value:this.texture},depthWidth:{value:n.z},depthHeight:{value:n.w}}});this.mesh=new dr(new Zf(20,20),r)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class yae extends Bo{constructor(e,n){super();const r=this;let i=null,s=1,o=null,a="local-floor",l=1,c=null,d=null,h=null,p=null,m=null,v=null;const x=new vae,y=n.getContextAttributes();let g=null,w=null;const b=[],E=[],C=new Te;let A=null;const I=new rr;I.viewport=new dn;const D=new rr;D.viewport=new dn;const N=[I,D],R=new NV;let F=null,j=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(ae){let be=b[ae];return be===void 0&&(be=new o0,b[ae]=be),be.getTargetRaySpace()},this.getControllerGrip=function(ae){let be=b[ae];return be===void 0&&(be=new o0,b[ae]=be),be.getGripSpace()},this.getHand=function(ae){let be=b[ae];return be===void 0&&(be=new o0,b[ae]=be),be.getHandSpace()};function G(ae){const be=E.indexOf(ae.inputSource);if(be===-1)return;const Ee=b[be];Ee!==void 0&&(Ee.update(ae.inputSource,ae.frame,c||o),Ee.dispatchEvent({type:ae.type,data:ae.inputSource}))}function $(){i.removeEventListener("select",G),i.removeEventListener("selectstart",G),i.removeEventListener("selectend",G),i.removeEventListener("squeeze",G),i.removeEventListener("squeezestart",G),i.removeEventListener("squeezeend",G),i.removeEventListener("end",$),i.removeEventListener("inputsourceschange",ne);for(let ae=0;ae<b.length;ae++){const be=E[ae];be!==null&&(E[ae]=null,b[ae].disconnect(be))}F=null,j=null,x.reset(),e.setRenderTarget(g),m=null,p=null,h=null,i=null,w=null,Ae.stop(),r.isPresenting=!1,e.setPixelRatio(A),e.setSize(C.width,C.height,!1),r.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(ae){s=ae,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(ae){a=ae,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return c||o},this.setReferenceSpace=function(ae){c=ae},this.getBaseLayer=function(){return p!==null?p:m},this.getBinding=function(){return h},this.getFrame=function(){return v},this.getSession=function(){return i},this.setSession=async function(ae){if(i=ae,i!==null){if(g=e.getRenderTarget(),i.addEventListener("select",G),i.addEventListener("selectstart",G),i.addEventListener("selectend",G),i.addEventListener("squeeze",G),i.addEventListener("squeezestart",G),i.addEventListener("squeezeend",G),i.addEventListener("end",$),i.addEventListener("inputsourceschange",ne),y.xrCompatible!==!0&&await n.makeXRCompatible(),A=e.getPixelRatio(),e.getSize(C),typeof XRWebGLBinding<"u"&&"createProjectionLayer"in XRWebGLBinding.prototype){let Ee=null,me=null,ke=null;y.depth&&(ke=y.stencil?n.DEPTH24_STENCIL8:n.DEPTH_COMPONENT24,Ee=y.stencil?Cf:Tf,me=y.stencil?Ef:Aa);const tt={colorFormat:n.RGBA8,depthFormat:ke,scaleFactor:s};h=new XRWebGLBinding(i,n),p=h.createProjectionLayer(tt),i.updateRenderState({layers:[p]}),e.setPixelRatio(1),e.setSize(p.textureWidth,p.textureHeight,!1),w=new Oo(p.textureWidth,p.textureHeight,{format:Qr,type:Is,depthTexture:new CA(p.textureWidth,p.textureHeight,me,void 0,void 0,void 0,void 0,void 0,void 0,Ee),stencilBuffer:y.stencil,colorSpace:e.outputColorSpace,samples:y.antialias?4:0,resolveDepthBuffer:p.ignoreDepthValues===!1,resolveStencilBuffer:p.ignoreDepthValues===!1})}else{const Ee={antialias:y.antialias,alpha:!0,depth:y.depth,stencil:y.stencil,framebufferScaleFactor:s};m=new XRWebGLLayer(i,n,Ee),i.updateRenderState({baseLayer:m}),e.setPixelRatio(1),e.setSize(m.framebufferWidth,m.framebufferHeight,!1),w=new Oo(m.framebufferWidth,m.framebufferHeight,{format:Qr,type:Is,colorSpace:e.outputColorSpace,stencilBuffer:y.stencil,resolveDepthBuffer:m.ignoreDepthValues===!1,resolveStencilBuffer:m.ignoreDepthValues===!1})}w.isXRRenderTarget=!0,this.setFoveation(l),c=null,o=await i.requestReferenceSpace(a),Ae.setContext(i),Ae.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(i!==null)return i.environmentBlendMode},this.getDepthTexture=function(){return x.getDepthTexture()};function ne(ae){for(let be=0;be<ae.removed.length;be++){const Ee=ae.removed[be],me=E.indexOf(Ee);me>=0&&(E[me]=null,b[me].disconnect(Ee))}for(let be=0;be<ae.added.length;be++){const Ee=ae.added[be];let me=E.indexOf(Ee);if(me===-1){for(let tt=0;tt<b.length;tt++)if(tt>=E.length){E.push(Ee),me=tt;break}else if(E[tt]===null){E[tt]=Ee,me=tt;break}if(me===-1)break}const ke=b[me];ke&&ke.connect(Ee)}}const J=new H,re=new H;function k(ae,be,Ee){J.setFromMatrixPosition(be.matrixWorld),re.setFromMatrixPosition(Ee.matrixWorld);const me=J.distanceTo(re),ke=be.projectionMatrix.elements,tt=Ee.projectionMatrix.elements,Fe=ke[14]/(ke[10]-1),nt=ke[14]/(ke[10]+1),qe=(ke[9]+1)/ke[5],Ye=(ke[9]-1)/ke[5],V=(ke[8]-1)/ke[0],Oe=(tt[8]+1)/tt[0],Re=Fe*V,Ue=Fe*Oe,B=me/(-V+Oe),Z=B*-V;if(be.matrixWorld.decompose(ae.position,ae.quaternion,ae.scale),ae.translateX(Z),ae.translateZ(B),ae.matrixWorld.compose(ae.position,ae.quaternion,ae.scale),ae.matrixWorldInverse.copy(ae.matrixWorld).invert(),ke[10]===-1)ae.projectionMatrix.copy(be.projectionMatrix),ae.projectionMatrixInverse.copy(be.projectionMatrixInverse);else{const Q=Fe+B,ge=nt+B,Se=Re-Z,U=Ue+(me-Z),O=qe*nt/ge*Q,te=Ye*nt/ge*Q;ae.projectionMatrix.makePerspective(Se,U,O,te,Q,ge),ae.projectionMatrixInverse.copy(ae.projectionMatrix).invert()}}function W(ae,be){be===null?ae.matrixWorld.copy(ae.matrix):ae.matrixWorld.multiplyMatrices(be.matrixWorld,ae.matrix),ae.matrixWorldInverse.copy(ae.matrixWorld).invert()}this.updateCamera=function(ae){if(i===null)return;let be=ae.near,Ee=ae.far;x.texture!==null&&(x.depthNear>0&&(be=x.depthNear),x.depthFar>0&&(Ee=x.depthFar)),R.near=D.near=I.near=be,R.far=D.far=I.far=Ee,(F!==R.near||j!==R.far)&&(i.updateRenderState({depthNear:R.near,depthFar:R.far}),F=R.near,j=R.far),I.layers.mask=ae.layers.mask|2,D.layers.mask=ae.layers.mask|4,R.layers.mask=I.layers.mask|D.layers.mask;const me=ae.parent,ke=R.cameras;W(R,me);for(let tt=0;tt<ke.length;tt++)W(ke[tt],me);ke.length===2?k(R,I,D):R.projectionMatrix.copy(I.projectionMatrix),q(ae,R,me)};function q(ae,be,Ee){Ee===null?ae.matrix.copy(be.matrixWorld):(ae.matrix.copy(Ee.matrixWorld),ae.matrix.invert(),ae.matrix.multiply(be.matrixWorld)),ae.matrix.decompose(ae.position,ae.quaternion,ae.scale),ae.updateMatrixWorld(!0),ae.projectionMatrix.copy(be.projectionMatrix),ae.projectionMatrixInverse.copy(be.projectionMatrixInverse),ae.isPerspectiveCamera&&(ae.fov=Af*2*Math.atan(1/ae.projectionMatrix.elements[5]),ae.zoom=1)}this.getCamera=function(){return R},this.getFoveation=function(){if(!(p===null&&m===null))return l},this.setFoveation=function(ae){l=ae,p!==null&&(p.fixedFoveation=ae),m!==null&&m.fixedFoveation!==void 0&&(m.fixedFoveation=ae)},this.hasDepthSensing=function(){return x.texture!==null},this.getDepthSensingMesh=function(){return x.getMesh(R)};let ee=null;function de(ae,be){if(d=be.getViewerPose(c||o),v=be,d!==null){const Ee=d.views;m!==null&&(e.setRenderTargetFramebuffer(w,m.framebuffer),e.setRenderTarget(w));let me=!1;Ee.length!==R.cameras.length&&(R.cameras.length=0,me=!0);for(let Fe=0;Fe<Ee.length;Fe++){const nt=Ee[Fe];let qe=null;if(m!==null)qe=m.getViewport(nt);else{const V=h.getViewSubImage(p,nt);qe=V.viewport,Fe===0&&(e.setRenderTargetTextures(w,V.colorTexture,V.depthStencilTexture),e.setRenderTarget(w))}let Ye=N[Fe];Ye===void 0&&(Ye=new rr,Ye.layers.enable(Fe),Ye.viewport=new dn,N[Fe]=Ye),Ye.matrix.fromArray(nt.transform.matrix),Ye.matrix.decompose(Ye.position,Ye.quaternion,Ye.scale),Ye.projectionMatrix.fromArray(nt.projectionMatrix),Ye.projectionMatrixInverse.copy(Ye.projectionMatrix).invert(),Ye.viewport.set(qe.x,qe.y,qe.width,qe.height),Fe===0&&(R.matrix.copy(Ye.matrix),R.matrix.decompose(R.position,R.quaternion,R.scale)),me===!0&&R.cameras.push(Ye)}const ke=i.enabledFeatures;if(ke&&ke.includes("depth-sensing")&&i.depthUsage=="gpu-optimized"&&h){const Fe=h.getDepthInformation(Ee[0]);Fe&&Fe.isValid&&Fe.texture&&x.init(e,Fe,i.renderState)}}for(let Ee=0;Ee<b.length;Ee++){const me=E[Ee],ke=b[Ee];me!==null&&ke!==void 0&&ke.update(me,be,c||o)}ee&&ee(ae,be),be.detectedPlanes&&r.dispatchEvent({type:"planesdetected",data:be}),v=null}const Ae=new UV;Ae.setAnimationLoop(de),this.setAnimationLoop=function(ae){ee=ae},this.dispose=function(){}}}const Tc=new is,xae=new Tt;function _ae(t,e){function n(y,g){y.matrixAutoUpdate===!0&&y.updateMatrix(),g.value.copy(y.matrix)}function r(y,g){g.color.getRGB(y.fogColor.value,F4(t)),g.isFog?(y.fogNear.value=g.near,y.fogFar.value=g.far):g.isFogExp2&&(y.fogDensity.value=g.density)}function i(y,g,w,b,E){g.isMeshBasicMaterial||g.isMeshLambertMaterial?s(y,g):g.isMeshToonMaterial?(s(y,g),h(y,g)):g.isMeshPhongMaterial?(s(y,g),d(y,g)):g.isMeshStandardMaterial?(s(y,g),p(y,g),g.isMeshPhysicalMaterial&&m(y,g,E)):g.isMeshMatcapMaterial?(s(y,g),v(y,g)):g.isMeshDepthMaterial?s(y,g):g.isMeshDistanceMaterial?(s(y,g),x(y,g)):g.isMeshNormalMaterial?s(y,g):g.isLineBasicMaterial?(o(y,g),g.isLineDashedMaterial&&a(y,g)):g.isPointsMaterial?l(y,g,w,b):g.isSpriteMaterial?c(y,g):g.isShadowMaterial?(y.color.value.copy(g.color),y.opacity.value=g.opacity):g.isShaderMaterial&&(g.uniformsNeedUpdate=!1)}function s(y,g){y.opacity.value=g.opacity,g.color&&y.diffuse.value.copy(g.color),g.emissive&&y.emissive.value.copy(g.emissive).multiplyScalar(g.emissiveIntensity),g.map&&(y.map.value=g.map,n(g.map,y.mapTransform)),g.alphaMap&&(y.alphaMap.value=g.alphaMap,n(g.alphaMap,y.alphaMapTransform)),g.bumpMap&&(y.bumpMap.value=g.bumpMap,n(g.bumpMap,y.bumpMapTransform),y.bumpScale.value=g.bumpScale,g.side===gi&&(y.bumpScale.value*=-1)),g.normalMap&&(y.normalMap.value=g.normalMap,n(g.normalMap,y.normalMapTransform),y.normalScale.value.copy(g.normalScale),g.side===gi&&y.normalScale.value.negate()),g.displacementMap&&(y.displacementMap.value=g.displacementMap,n(g.displacementMap,y.displacementMapTransform),y.displacementScale.value=g.displacementScale,y.displacementBias.value=g.displacementBias),g.emissiveMap&&(y.emissiveMap.value=g.emissiveMap,n(g.emissiveMap,y.emissiveMapTransform)),g.specularMap&&(y.specularMap.value=g.specularMap,n(g.specularMap,y.specularMapTransform)),g.alphaTest>0&&(y.alphaTest.value=g.alphaTest);const w=e.get(g),b=w.envMap,E=w.envMapRotation;b&&(y.envMap.value=b,Tc.copy(E),Tc.x*=-1,Tc.y*=-1,Tc.z*=-1,b.isCubeTexture&&b.isRenderTargetTexture===!1&&(Tc.y*=-1,Tc.z*=-1),y.envMapRotation.value.setFromMatrix4(xae.makeRotationFromEuler(Tc)),y.flipEnvMap.value=b.isCubeTexture&&b.isRenderTargetTexture===!1?-1:1,y.reflectivity.value=g.reflectivity,y.ior.value=g.ior,y.refractionRatio.value=g.refractionRatio),g.lightMap&&(y.lightMap.value=g.lightMap,y.lightMapIntensity.value=g.lightMapIntensity,n(g.lightMap,y.lightMapTransform)),g.aoMap&&(y.aoMap.value=g.aoMap,y.aoMapIntensity.value=g.aoMapIntensity,n(g.aoMap,y.aoMapTransform))}function o(y,g){y.diffuse.value.copy(g.color),y.opacity.value=g.opacity,g.map&&(y.map.value=g.map,n(g.map,y.mapTransform))}function a(y,g){y.dashSize.value=g.dashSize,y.totalSize.value=g.dashSize+g.gapSize,y.scale.value=g.scale}function l(y,g,w,b){y.diffuse.value.copy(g.color),y.opacity.value=g.opacity,y.size.value=g.size*w,y.scale.value=b*.5,g.map&&(y.map.value=g.map,n(g.map,y.uvTransform)),g.alphaMap&&(y.alphaMap.value=g.alphaMap,n(g.alphaMap,y.alphaMapTransform)),g.alphaTest>0&&(y.alphaTest.value=g.alphaTest)}function c(y,g){y.diffuse.value.copy(g.color),y.opacity.value=g.opacity,y.rotation.value=g.rotation,g.map&&(y.map.value=g.map,n(g.map,y.mapTransform)),g.alphaMap&&(y.alphaMap.value=g.alphaMap,n(g.alphaMap,y.alphaMapTransform)),g.alphaTest>0&&(y.alphaTest.value=g.alphaTest)}function d(y,g){y.specular.value.copy(g.specular),y.shininess.value=Math.max(g.shininess,1e-4)}function h(y,g){g.gradientMap&&(y.gradientMap.value=g.gradientMap)}function p(y,g){y.metalness.value=g.metalness,g.metalnessMap&&(y.metalnessMap.value=g.metalnessMap,n(g.metalnessMap,y.metalnessMapTransform)),y.roughness.value=g.roughness,g.roughnessMap&&(y.roughnessMap.value=g.roughnessMap,n(g.roughnessMap,y.roughnessMapTransform)),g.envMap&&(y.envMapIntensity.value=g.envMapIntensity)}function m(y,g,w){y.ior.value=g.ior,g.sheen>0&&(y.sheenColor.value.copy(g.sheenColor).multiplyScalar(g.sheen),y.sheenRoughness.value=g.sheenRoughness,g.sheenColorMap&&(y.sheenColorMap.value=g.sheenColorMap,n(g.sheenColorMap,y.sheenColorMapTransform)),g.sheenRoughnessMap&&(y.sheenRoughnessMap.value=g.sheenRoughnessMap,n(g.sheenRoughnessMap,y.sheenRoughnessMapTransform))),g.clearcoat>0&&(y.clearcoat.value=g.clearcoat,y.clearcoatRoughness.value=g.clearcoatRoughness,g.clearcoatMap&&(y.clearcoatMap.value=g.clearcoatMap,n(g.clearcoatMap,y.clearcoatMapTransform)),g.clearcoatRoughnessMap&&(y.clearcoatRoughnessMap.value=g.clearcoatRoughnessMap,n(g.clearcoatRoughnessMap,y.clearcoatRoughnessMapTransform)),g.clearcoatNormalMap&&(y.clearcoatNormalMap.value=g.clearcoatNormalMap,n(g.clearcoatNormalMap,y.clearcoatNormalMapTransform),y.clearcoatNormalScale.value.copy(g.clearcoatNormalScale),g.side===gi&&y.clearcoatNormalScale.value.negate())),g.dispersion>0&&(y.dispersion.value=g.dispersion),g.iridescence>0&&(y.iridescence.value=g.iridescence,y.iridescenceIOR.value=g.iridescenceIOR,y.iridescenceThicknessMinimum.value=g.iridescenceThicknessRange[0],y.iridescenceThicknessMaximum.value=g.iridescenceThicknessRange[1],g.iridescenceMap&&(y.iridescenceMap.value=g.iridescenceMap,n(g.iridescenceMap,y.iridescenceMapTransform)),g.iridescenceThicknessMap&&(y.iridescenceThicknessMap.value=g.iridescenceThicknessMap,n(g.iridescenceThicknessMap,y.iridescenceThicknessMapTransform))),g.transmission>0&&(y.transmission.value=g.transmission,y.transmissionSamplerMap.value=w.texture,y.transmissionSamplerSize.value.set(w.width,w.height),g.transmissionMap&&(y.transmissionMap.value=g.transmissionMap,n(g.transmissionMap,y.transmissionMapTransform)),y.thickness.value=g.thickness,g.thicknessMap&&(y.thicknessMap.value=g.thicknessMap,n(g.thicknessMap,y.thicknessMapTransform)),y.attenuationDistance.value=g.attenuationDistance,y.attenuationColor.value.copy(g.attenuationColor)),g.anisotropy>0&&(y.anisotropyVector.value.set(g.anisotropy*Math.cos(g.anisotropyRotation),g.anisotropy*Math.sin(g.anisotropyRotation)),g.anisotropyMap&&(y.anisotropyMap.value=g.anisotropyMap,n(g.anisotropyMap,y.anisotropyMapTransform))),y.specularIntensity.value=g.specularIntensity,y.specularColor.value.copy(g.specularColor),g.specularColorMap&&(y.specularColorMap.value=g.specularColorMap,n(g.specularColorMap,y.specularColorMapTransform)),g.specularIntensityMap&&(y.specularIntensityMap.value=g.specularIntensityMap,n(g.specularIntensityMap,y.specularIntensityMapTransform))}function v(y,g){g.matcap&&(y.matcap.value=g.matcap)}function x(y,g){const w=e.get(g).light;y.referencePosition.value.setFromMatrixPosition(w.matrixWorld),y.nearDistance.value=w.shadow.camera.near,y.farDistance.value=w.shadow.camera.far}return{refreshFogUniforms:r,refreshMaterialUniforms:i}}function wae(t,e,n,r){let i={},s={},o=[];const a=t.getParameter(t.MAX_UNIFORM_BUFFER_BINDINGS);function l(w,b){const E=b.program;r.uniformBlockBinding(w,E)}function c(w,b){let E=i[w.id];E===void 0&&(v(w),E=d(w),i[w.id]=E,w.addEventListener("dispose",y));const C=b.program;r.updateUBOMapping(w,C);const A=e.render.frame;s[w.id]!==A&&(p(w),s[w.id]=A)}function d(w){const b=h();w.__bindingPointIndex=b;const E=t.createBuffer(),C=w.__size,A=w.usage;return t.bindBuffer(t.UNIFORM_BUFFER,E),t.bufferData(t.UNIFORM_BUFFER,C,A),t.bindBuffer(t.UNIFORM_BUFFER,null),t.bindBufferBase(t.UNIFORM_BUFFER,b,E),E}function h(){for(let w=0;w<a;w++)if(o.indexOf(w)===-1)return o.push(w),w;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function p(w){const b=i[w.id],E=w.uniforms,C=w.__cache;t.bindBuffer(t.UNIFORM_BUFFER,b);for(let A=0,I=E.length;A<I;A++){const D=Array.isArray(E[A])?E[A]:[E[A]];for(let N=0,R=D.length;N<R;N++){const F=D[N];if(m(F,A,N,C)===!0){const j=F.__offset,G=Array.isArray(F.value)?F.value:[F.value];let $=0;for(let ne=0;ne<G.length;ne++){const J=G[ne],re=x(J);typeof J=="number"||typeof J=="boolean"?(F.__data[0]=J,t.bufferSubData(t.UNIFORM_BUFFER,j+$,F.__data)):J.isMatrix3?(F.__data[0]=J.elements[0],F.__data[1]=J.elements[1],F.__data[2]=J.elements[2],F.__data[3]=0,F.__data[4]=J.elements[3],F.__data[5]=J.elements[4],F.__data[6]=J.elements[5],F.__data[7]=0,F.__data[8]=J.elements[6],F.__data[9]=J.elements[7],F.__data[10]=J.elements[8],F.__data[11]=0):(J.toArray(F.__data,$),$+=re.storage/Float32Array.BYTES_PER_ELEMENT)}t.bufferSubData(t.UNIFORM_BUFFER,j,F.__data)}}}t.bindBuffer(t.UNIFORM_BUFFER,null)}function m(w,b,E,C){const A=w.value,I=b+"_"+E;if(C[I]===void 0)return typeof A=="number"||typeof A=="boolean"?C[I]=A:C[I]=A.clone(),!0;{const D=C[I];if(typeof A=="number"||typeof A=="boolean"){if(D!==A)return C[I]=A,!0}else if(D.equals(A)===!1)return D.copy(A),!0}return!1}function v(w){const b=w.uniforms;let E=0;const C=16;for(let I=0,D=b.length;I<D;I++){const N=Array.isArray(b[I])?b[I]:[b[I]];for(let R=0,F=N.length;R<F;R++){const j=N[R],G=Array.isArray(j.value)?j.value:[j.value];for(let $=0,ne=G.length;$<ne;$++){const J=G[$],re=x(J),k=E%C,W=k%re.boundary,q=k+W;E+=W,q!==0&&C-q<re.storage&&(E+=C-q),j.__data=new Float32Array(re.storage/Float32Array.BYTES_PER_ELEMENT),j.__offset=E,E+=re.storage}}}const A=E%C;return A>0&&(E+=C-A),w.__size=E,w.__cache={},this}function x(w){const b={boundary:0,storage:0};return typeof w=="number"||typeof w=="boolean"?(b.boundary=4,b.storage=4):w.isVector2?(b.boundary=8,b.storage=8):w.isVector3||w.isColor?(b.boundary=16,b.storage=12):w.isVector4?(b.boundary=16,b.storage=16):w.isMatrix3?(b.boundary=48,b.storage=48):w.isMatrix4?(b.boundary=64,b.storage=64):w.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",w),b}function y(w){const b=w.target;b.removeEventListener("dispose",y);const E=o.indexOf(b.__bindingPointIndex);o.splice(E,1),t.deleteBuffer(i[b.id]),delete i[b.id],delete s[b.id]}function g(){for(const w in i)t.deleteBuffer(i[w]);o=[],i={},s={}}return{bind:l,update:c,dispose:g}}class WV{constructor(e={}){const{canvas:n=D4(),context:r=null,depth:i=!0,stencil:s=!1,alpha:o=!1,antialias:a=!1,premultipliedAlpha:l=!0,preserveDrawingBuffer:c=!1,powerPreference:d="default",failIfMajorPerformanceCaveat:h=!1,reverseDepthBuffer:p=!1}=e;this.isWebGLRenderer=!0;let m;if(r!==null){if(typeof WebGLRenderingContext<"u"&&r instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");m=r.getContextAttributes().alpha}else m=o;const v=new Uint32Array(4),x=new Int32Array(4);let y=null,g=null;const w=[],b=[];this.domElement=n,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.toneMapping=No,this.toneMappingExposure=1,this.transmissionResolutionScale=1;const E=this;let C=!1;this._outputColorSpace=Ri;let A=0,I=0,D=null,N=-1,R=null;const F=new dn,j=new dn;let G=null;const $=new lt(0);let ne=0,J=n.width,re=n.height,k=1,W=null,q=null;const ee=new dn(0,0,J,re),de=new dn(0,0,J,re);let Ae=!1;const ae=new qf;let be=!1,Ee=!1;const me=new Tt,ke=new Tt,tt=new H,Fe=new dn,nt={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let qe=!1;function Ye(){return D===null?k:1}let V=r;function Oe(z,le){return n.getContext(z,le)}try{const z={alpha:!0,depth:i,stencil:s,antialias:a,premultipliedAlpha:l,preserveDrawingBuffer:c,powerPreference:d,failIfMajorPerformanceCaveat:h};if("setAttribute"in n&&n.setAttribute("data-engine",`three.js r${B_}`),n.addEventListener("webglcontextlost",We,!1),n.addEventListener("webglcontextrestored",De,!1),n.addEventListener("webglcontextcreationerror",Pe,!1),V===null){const le="webgl2";if(V=Oe(le,z),V===null)throw Oe(le)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(z){throw console.error("THREE.WebGLRenderer: "+z.message),z}let Re,Ue,B,Z,Q,ge,Se,U,O,te,ue,ye,ve,rt,He,it,ct,Ie,Qe,gt,K,ce,_e,Y;function Me(){Re=new Lse(V),Re.init(),ce=new HV(V,Re),Ue=new Tse(V,Re,e,ce),B=new hae(V,Re),Ue.reverseDepthBuffer&&p&&B.buffers.depth.setReversed(!0),Z=new Ose(V),Q=new eae,ge=new pae(V,Re,B,Q,Ue,ce,Z),Se=new Ase(E),U=new Nse(E),O=new jne(V),_e=new Mse(V,O),te=new Dse(V,O,Z,_e),ue=new Use(V,te,O,Z),Qe=new Fse(V,Ue,ge),it=new Cse(Q),ye=new Joe(E,Se,U,Re,Ue,_e,it),ve=new _ae(E,Q),rt=new nae,He=new lae(Re),Ie=new bse(E,Se,U,B,ue,m,l),ct=new dae(E,ue,Ue),Y=new wae(V,Z,Ue,B),gt=new Ese(V,Re,Z),K=new kse(V,Re,Z),Z.programs=ye.programs,E.capabilities=Ue,E.extensions=Re,E.properties=Q,E.renderLists=rt,E.shadowMap=ct,E.state=B,E.info=Z}Me();const Ce=new yae(E,V);this.xr=Ce,this.getContext=function(){return V},this.getContextAttributes=function(){return V.getContextAttributes()},this.forceContextLoss=function(){const z=Re.get("WEBGL_lose_context");z&&z.loseContext()},this.forceContextRestore=function(){const z=Re.get("WEBGL_lose_context");z&&z.restoreContext()},this.getPixelRatio=function(){return k},this.setPixelRatio=function(z){z!==void 0&&(k=z,this.setSize(J,re,!1))},this.getSize=function(z){return z.set(J,re)},this.setSize=function(z,le,he=!0){if(Ce.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}J=z,re=le,n.width=Math.floor(z*k),n.height=Math.floor(le*k),he===!0&&(n.style.width=z+"px",n.style.height=le+"px"),this.setViewport(0,0,z,le)},this.getDrawingBufferSize=function(z){return z.set(J*k,re*k).floor()},this.setDrawingBufferSize=function(z,le,he){J=z,re=le,k=he,n.width=Math.floor(z*he),n.height=Math.floor(le*he),this.setViewport(0,0,z,le)},this.getCurrentViewport=function(z){return z.copy(F)},this.getViewport=function(z){return z.copy(ee)},this.setViewport=function(z,le,he,pe){z.isVector4?ee.set(z.x,z.y,z.z,z.w):ee.set(z,le,he,pe),B.viewport(F.copy(ee).multiplyScalar(k).round())},this.getScissor=function(z){return z.copy(de)},this.setScissor=function(z,le,he,pe){z.isVector4?de.set(z.x,z.y,z.z,z.w):de.set(z,le,he,pe),B.scissor(j.copy(de).multiplyScalar(k).round())},this.getScissorTest=function(){return Ae},this.setScissorTest=function(z){B.setScissorTest(Ae=z)},this.setOpaqueSort=function(z){W=z},this.setTransparentSort=function(z){q=z},this.getClearColor=function(z){return z.copy(Ie.getClearColor())},this.setClearColor=function(){Ie.setClearColor(...arguments)},this.getClearAlpha=function(){return Ie.getClearAlpha()},this.setClearAlpha=function(){Ie.setClearAlpha(...arguments)},this.clear=function(z=!0,le=!0,he=!0){let pe=0;if(z){let oe=!1;if(D!==null){const Be=D.texture.format;oe=Be===$_||Be===X_||Be===Gm}if(oe){const Be=D.texture.type,Ze=Be===Is||Be===Aa||Be===Mf||Be===Ef||Be===H_||Be===W_,pt=Ie.getClearColor(),at=Ie.getClearAlpha(),bt=pt.r,St=pt.g,Xe=pt.b;Ze?(v[0]=bt,v[1]=St,v[2]=Xe,v[3]=at,V.clearBufferuiv(V.COLOR,0,v)):(x[0]=bt,x[1]=St,x[2]=Xe,x[3]=at,V.clearBufferiv(V.COLOR,0,x))}else pe|=V.COLOR_BUFFER_BIT}le&&(pe|=V.DEPTH_BUFFER_BIT),he&&(pe|=V.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),V.clear(pe)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){n.removeEventListener("webglcontextlost",We,!1),n.removeEventListener("webglcontextrestored",De,!1),n.removeEventListener("webglcontextcreationerror",Pe,!1),Ie.dispose(),rt.dispose(),He.dispose(),Q.dispose(),Se.dispose(),U.dispose(),ue.dispose(),_e.dispose(),Y.dispose(),ye.dispose(),Ce.dispose(),Ce.removeEventListener("sessionstart",fg),Ce.removeEventListener("sessionend",hg),io.stop()};function We(z){z.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),C=!0}function De(){console.log("THREE.WebGLRenderer: Context Restored."),C=!1;const z=Z.autoReset,le=ct.enabled,he=ct.autoUpdate,pe=ct.needsUpdate,oe=ct.type;Me(),Z.autoReset=z,ct.enabled=le,ct.autoUpdate=he,ct.needsUpdate=pe,ct.type=oe}function Pe(z){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",z.statusMessage)}function Je(z){const le=z.target;le.removeEventListener("dispose",Je),wt(le)}function wt(z){ln(z),Q.remove(z)}function ln(z){const le=Q.get(z).programs;le!==void 0&&(le.forEach(function(he){ye.releaseProgram(he)}),z.isShaderMaterial&&ye.releaseShaderCache(z))}this.renderBufferDirect=function(z,le,he,pe,oe,Be){le===null&&(le=nt);const Ze=oe.isMesh&&oe.matrixWorld.determinant()<0,pt=Lw(z,le,he,pe,oe);B.setMaterial(pe,Ze);let at=he.index,bt=1;if(pe.wireframe===!0){if(at=te.getWireframeAttribute(he),at===void 0)return;bt=2}const St=he.drawRange,Xe=he.attributes.position;let mt=St.start*bt,qt=(St.start+St.count)*bt;Be!==null&&(mt=Math.max(mt,Be.start*bt),qt=Math.min(qt,(Be.start+Be.count)*bt)),at!==null?(mt=Math.max(mt,0),qt=Math.min(qt,at.count)):Xe!=null&&(mt=Math.max(mt,0),qt=Math.min(qt,Xe.count));const Wt=qt-mt;if(Wt<0||Wt===1/0)return;_e.setup(oe,pe,pt,he,at);let Vt,on=gt;if(at!==null&&(Vt=O.get(at),on=K,on.setIndex(Vt)),oe.isMesh)pe.wireframe===!0?(B.setLineWidth(pe.wireframeLinewidth*Ye()),on.setMode(V.LINES)):on.setMode(V.TRIANGLES);else if(oe.isLine){let vt=pe.linewidth;vt===void 0&&(vt=1),B.setLineWidth(vt*Ye()),oe.isLineSegments?on.setMode(V.LINES):oe.isLineLoop?on.setMode(V.LINE_LOOP):on.setMode(V.LINE_STRIP)}else oe.isPoints?on.setMode(V.POINTS):oe.isSprite&&on.setMode(V.TRIANGLES);if(oe.isBatchedMesh)if(oe._multiDrawInstances!==null)Qd("THREE.WebGLRenderer: renderMultiDrawInstances has been deprecated and will be removed in r184. Append to renderMultiDraw arguments and use indirection."),on.renderMultiDrawInstances(oe._multiDrawStarts,oe._multiDrawCounts,oe._multiDrawCount,oe._multiDrawInstances);else if(Re.get("WEBGL_multi_draw"))on.renderMultiDraw(oe._multiDrawStarts,oe._multiDrawCounts,oe._multiDrawCount);else{const vt=oe._multiDrawStarts,$t=oe._multiDrawCounts,Zt=oe._multiDrawCount,Ur=at?O.get(at).bytesPerElement:1,jo=Q.get(pe).currentProgram.getUniforms();for(let wr=0;wr<Zt;wr++)jo.setValue(V,"_gl_DrawID",wr),on.render(vt[wr]/Ur,$t[wr])}else if(oe.isInstancedMesh)on.renderInstances(mt,Wt,oe.count);else if(he.isInstancedBufferGeometry){const vt=he._maxInstanceCount!==void 0?he._maxInstanceCount:1/0,$t=Math.min(he.instanceCount,vt);on.renderInstances(mt,Wt,$t)}else on.render(mt,Wt)};function Xt(z,le,he){z.transparent===!0&&z.side===So&&z.forceSinglePass===!1?(z.side=gi,z.needsUpdate=!0,Iu(z,le,he),z.side=Ta,z.needsUpdate=!0,Iu(z,le,he),z.side=So):Iu(z,le,he)}this.compile=function(z,le,he=null){he===null&&(he=z),g=He.get(he),g.init(le),b.push(g),he.traverseVisible(function(oe){oe.isLight&&oe.layers.test(le.layers)&&(g.pushLight(oe),oe.castShadow&&g.pushShadow(oe))}),z!==he&&z.traverseVisible(function(oe){oe.isLight&&oe.layers.test(le.layers)&&(g.pushLight(oe),oe.castShadow&&g.pushShadow(oe))}),g.setupLights();const pe=new Set;return z.traverse(function(oe){if(!(oe.isMesh||oe.isPoints||oe.isLine||oe.isSprite))return;const Be=oe.material;if(Be)if(Array.isArray(Be))for(let Ze=0;Ze<Be.length;Ze++){const pt=Be[Ze];Xt(pt,he,oe),pe.add(pt)}else Xt(Be,he,oe),pe.add(Be)}),g=b.pop(),pe},this.compileAsync=function(z,le,he=null){const pe=this.compile(z,le,he);return new Promise(oe=>{function Be(){if(pe.forEach(function(Ze){Q.get(Ze).currentProgram.isReady()&&pe.delete(Ze)}),pe.size===0){oe(z);return}setTimeout(Be,10)}Re.get("KHR_parallel_shader_compile")!==null?Be():setTimeout(Be,10)})};let sr=null;function Fr(z){sr&&sr(z)}function fg(){io.stop()}function hg(){io.start()}const io=new UV;io.setAnimationLoop(Fr),typeof self<"u"&&io.setContext(self),this.setAnimationLoop=function(z){sr=z,Ce.setAnimationLoop(z),z===null?io.stop():io.start()},Ce.addEventListener("sessionstart",fg),Ce.addEventListener("sessionend",hg),this.render=function(z,le){if(le!==void 0&&le.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(C===!0)return;if(z.matrixWorldAutoUpdate===!0&&z.updateMatrixWorld(),le.parent===null&&le.matrixWorldAutoUpdate===!0&&le.updateMatrixWorld(),Ce.enabled===!0&&Ce.isPresenting===!0&&(Ce.cameraAutoUpdate===!0&&Ce.updateCamera(le),le=Ce.getCamera()),z.isScene===!0&&z.onBeforeRender(E,z,le,D),g=He.get(z,b.length),g.init(le),b.push(g),ke.multiplyMatrices(le.projectionMatrix,le.matrixWorldInverse),ae.setFromProjectionMatrix(ke),Ee=this.localClippingEnabled,be=it.init(this.clippingPlanes,Ee),y=rt.get(z,w.length),y.init(),w.push(y),Ce.enabled===!0&&Ce.isPresenting===!0){const Be=E.xr.getDepthSensingMesh();Be!==null&&nc(Be,le,-1/0,E.sortObjects)}nc(z,le,0,E.sortObjects),y.finish(),E.sortObjects===!0&&y.sort(W,q),qe=Ce.enabled===!1||Ce.isPresenting===!1||Ce.hasDepthSensing()===!1,qe&&Ie.addToRenderList(y,z),this.info.render.frame++,be===!0&&it.beginShadows();const he=g.state.shadowsArray;ct.render(he,z,le),be===!0&&it.endShadows(),this.info.autoReset===!0&&this.info.reset();const pe=y.opaque,oe=y.transmissive;if(g.setupLights(),le.isArrayCamera){const Be=le.cameras;if(oe.length>0)for(let Ze=0,pt=Be.length;Ze<pt;Ze++){const at=Be[Ze];La(pe,oe,z,at)}qe&&Ie.render(z);for(let Ze=0,pt=Be.length;Ze<pt;Ze++){const at=Be[Ze];pg(y,z,at,at.viewport)}}else oe.length>0&&La(pe,oe,z,le),qe&&Ie.render(z),pg(y,z,le);D!==null&&I===0&&(ge.updateMultisampleRenderTarget(D),ge.updateRenderTargetMipmap(D)),z.isScene===!0&&z.onAfterRender(E,z,le),_e.resetDefaultState(),N=-1,R=null,b.pop(),b.length>0?(g=b[b.length-1],be===!0&&it.setGlobalState(E.clippingPlanes,g.state.camera)):g=null,w.pop(),w.length>0?y=w[w.length-1]:y=null};function nc(z,le,he,pe){if(z.visible===!1)return;if(z.layers.test(le.layers)){if(z.isGroup)he=z.renderOrder;else if(z.isLOD)z.autoUpdate===!0&&z.update(le);else if(z.isLight)g.pushLight(z),z.castShadow&&g.pushShadow(z);else if(z.isSprite){if(!z.frustumCulled||ae.intersectsSprite(z)){pe&&Fe.setFromMatrixPosition(z.matrixWorld).applyMatrix4(ke);const Ze=ue.update(z),pt=z.material;pt.visible&&y.push(z,Ze,pt,he,Fe.z,null)}}else if((z.isMesh||z.isLine||z.isPoints)&&(!z.frustumCulled||ae.intersectsObject(z))){const Ze=ue.update(z),pt=z.material;if(pe&&(z.boundingSphere!==void 0?(z.boundingSphere===null&&z.computeBoundingSphere(),Fe.copy(z.boundingSphere.center)):(Ze.boundingSphere===null&&Ze.computeBoundingSphere(),Fe.copy(Ze.boundingSphere.center)),Fe.applyMatrix4(z.matrixWorld).applyMatrix4(ke)),Array.isArray(pt)){const at=Ze.groups;for(let bt=0,St=at.length;bt<St;bt++){const Xe=at[bt],mt=pt[Xe.materialIndex];mt&&mt.visible&&y.push(z,Ze,mt,he,Fe.z,Xe)}}else pt.visible&&y.push(z,Ze,pt,he,Fe.z,null)}}const Be=z.children;for(let Ze=0,pt=Be.length;Ze<pt;Ze++)nc(Be[Ze],le,he,pe)}function pg(z,le,he,pe){const oe=z.opaque,Be=z.transmissive,Ze=z.transparent;g.setupLightsView(he),be===!0&&it.setGlobalState(E.clippingPlanes,he),pe&&B.viewport(F.copy(pe)),oe.length>0&&Ru(oe,le,he),Be.length>0&&Ru(Be,le,he),Ze.length>0&&Ru(Ze,le,he),B.buffers.depth.setTest(!0),B.buffers.depth.setMask(!0),B.buffers.color.setMask(!0),B.setPolygonOffset(!1)}function La(z,le,he,pe){if((he.isScene===!0?he.overrideMaterial:null)!==null)return;g.state.transmissionRenderTarget[pe.id]===void 0&&(g.state.transmissionRenderTarget[pe.id]=new Oo(1,1,{generateMipmaps:!0,type:Re.has("EXT_color_buffer_half_float")||Re.has("EXT_color_buffer_float")?Yf:Is,minFilter:Mo,samples:4,stencilBuffer:s,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:cn.workingColorSpace}));const Be=g.state.transmissionRenderTarget[pe.id],Ze=pe.viewport||F;Be.setSize(Ze.z*E.transmissionResolutionScale,Ze.w*E.transmissionResolutionScale);const pt=E.getRenderTarget(),at=E.getActiveCubeFace(),bt=E.getActiveMipmapLevel();E.setRenderTarget(Be),E.getClearColor($),ne=E.getClearAlpha(),ne<1&&E.setClearColor(16777215,.5),E.clear(),qe&&Ie.render(he);const St=E.toneMapping;E.toneMapping=No;const Xe=pe.viewport;if(pe.viewport!==void 0&&(pe.viewport=void 0),g.setupLightsView(pe),be===!0&&it.setGlobalState(E.clippingPlanes,pe),Ru(z,he,pe),ge.updateMultisampleRenderTarget(Be),ge.updateRenderTargetMipmap(Be),Re.has("WEBGL_multisampled_render_to_texture")===!1){let mt=!1;for(let qt=0,Wt=le.length;qt<Wt;qt++){const Vt=le[qt],on=Vt.object,vt=Vt.geometry,$t=Vt.material,Zt=Vt.group;if($t.side===So&&on.layers.test(pe.layers)){const Ur=$t.side;$t.side=gi,$t.needsUpdate=!0,mg(on,he,pe,vt,$t,Zt),$t.side=Ur,$t.needsUpdate=!0,mt=!0}}mt===!0&&(ge.updateMultisampleRenderTarget(Be),ge.updateRenderTargetMipmap(Be))}E.setRenderTarget(pt,at,bt),E.setClearColor($,ne),Xe!==void 0&&(pe.viewport=Xe),E.toneMapping=St}function Ru(z,le,he){const pe=le.isScene===!0?le.overrideMaterial:null;for(let oe=0,Be=z.length;oe<Be;oe++){const Ze=z[oe],pt=Ze.object,at=Ze.geometry,bt=Ze.group;let St=Ze.material;St.allowOverride===!0&&pe!==null&&(St=pe),pt.layers.test(he.layers)&&mg(pt,le,he,at,St,bt)}}function mg(z,le,he,pe,oe,Be){z.onBeforeRender(E,le,he,pe,oe,Be),z.modelViewMatrix.multiplyMatrices(he.matrixWorldInverse,z.matrixWorld),z.normalMatrix.getNormalMatrix(z.modelViewMatrix),oe.onBeforeRender(E,le,he,pe,z,Be),oe.transparent===!0&&oe.side===So&&oe.forceSinglePass===!1?(oe.side=gi,oe.needsUpdate=!0,E.renderBufferDirect(he,le,pe,oe,z,Be),oe.side=Ta,oe.needsUpdate=!0,E.renderBufferDirect(he,le,pe,oe,z,Be),oe.side=So):E.renderBufferDirect(he,le,pe,oe,z,Be),z.onAfterRender(E,le,he,pe,oe,Be)}function Iu(z,le,he){le.isScene!==!0&&(le=nt);const pe=Q.get(z),oe=g.state.lights,Be=g.state.shadowsArray,Ze=oe.state.version,pt=ye.getParameters(z,oe.state,Be,le,he),at=ye.getProgramCacheKey(pt);let bt=pe.programs;pe.environment=z.isMeshStandardMaterial?le.environment:null,pe.fog=le.fog,pe.envMap=(z.isMeshStandardMaterial?U:Se).get(z.envMap||pe.environment),pe.envMapRotation=pe.environment!==null&&z.envMap===null?le.environmentRotation:z.envMapRotation,bt===void 0&&(z.addEventListener("dispose",Je),bt=new Map,pe.programs=bt);let St=bt.get(at);if(St!==void 0){if(pe.currentProgram===St&&pe.lightsStateVersion===Ze)return vg(z,pt),St}else pt.uniforms=ye.getUniforms(z),z.onBeforeCompile(pt,E),St=ye.acquireProgram(pt,at),bt.set(at,St),pe.uniforms=pt.uniforms;const Xe=pe.uniforms;return(!z.isShaderMaterial&&!z.isRawShaderMaterial||z.clipping===!0)&&(Xe.clippingPlanes=it.uniform),vg(z,pt),pe.needsLights=yg(z),pe.lightsStateVersion=Ze,pe.needsLights&&(Xe.ambientLightColor.value=oe.state.ambient,Xe.lightProbe.value=oe.state.probe,Xe.directionalLights.value=oe.state.directional,Xe.directionalLightShadows.value=oe.state.directionalShadow,Xe.spotLights.value=oe.state.spot,Xe.spotLightShadows.value=oe.state.spotShadow,Xe.rectAreaLights.value=oe.state.rectArea,Xe.ltc_1.value=oe.state.rectAreaLTC1,Xe.ltc_2.value=oe.state.rectAreaLTC2,Xe.pointLights.value=oe.state.point,Xe.pointLightShadows.value=oe.state.pointShadow,Xe.hemisphereLights.value=oe.state.hemi,Xe.directionalShadowMap.value=oe.state.directionalShadowMap,Xe.directionalShadowMatrix.value=oe.state.directionalShadowMatrix,Xe.spotShadowMap.value=oe.state.spotShadowMap,Xe.spotLightMatrix.value=oe.state.spotLightMatrix,Xe.spotLightMap.value=oe.state.spotLightMap,Xe.pointShadowMap.value=oe.state.pointShadowMap,Xe.pointShadowMatrix.value=oe.state.pointShadowMatrix),pe.currentProgram=St,pe.uniformsList=null,St}function gg(z){if(z.uniformsList===null){const le=z.currentProgram.getUniforms();z.uniformsList=a0.seqWithValue(le.seq,z.uniforms)}return z.uniformsList}function vg(z,le){const he=Q.get(z);he.outputColorSpace=le.outputColorSpace,he.batching=le.batching,he.batchingColor=le.batchingColor,he.instancing=le.instancing,he.instancingColor=le.instancingColor,he.instancingMorph=le.instancingMorph,he.skinning=le.skinning,he.morphTargets=le.morphTargets,he.morphNormals=le.morphNormals,he.morphColors=le.morphColors,he.morphTargetsCount=le.morphTargetsCount,he.numClippingPlanes=le.numClippingPlanes,he.numIntersection=le.numClipIntersection,he.vertexAlphas=le.vertexAlphas,he.vertexTangents=le.vertexTangents,he.toneMapping=le.toneMapping}function Lw(z,le,he,pe,oe){le.isScene!==!0&&(le=nt),ge.resetTextureUnits();const Be=le.fog,Ze=pe.isMeshStandardMaterial?le.environment:null,pt=D===null?E.outputColorSpace:D.isXRRenderTarget===!0?D.texture.colorSpace:hu,at=(pe.isMeshStandardMaterial?U:Se).get(pe.envMap||Ze),bt=pe.vertexColors===!0&&!!he.attributes.color&&he.attributes.color.itemSize===4,St=!!he.attributes.tangent&&(!!pe.normalMap||pe.anisotropy>0),Xe=!!he.morphAttributes.position,mt=!!he.morphAttributes.normal,qt=!!he.morphAttributes.color;let Wt=No;pe.toneMapped&&(D===null||D.isXRRenderTarget===!0)&&(Wt=E.toneMapping);const Vt=he.morphAttributes.position||he.morphAttributes.normal||he.morphAttributes.color,on=Vt!==void 0?Vt.length:0,vt=Q.get(pe),$t=g.state.lights;if(be===!0&&(Ee===!0||z!==R)){const Ar=z===R&&pe.id===N;it.setState(pe,z,Ar)}let Zt=!1;pe.version===vt.__version?(vt.needsLights&&vt.lightsStateVersion!==$t.state.version||vt.outputColorSpace!==pt||oe.isBatchedMesh&&vt.batching===!1||!oe.isBatchedMesh&&vt.batching===!0||oe.isBatchedMesh&&vt.batchingColor===!0&&oe.colorTexture===null||oe.isBatchedMesh&&vt.batchingColor===!1&&oe.colorTexture!==null||oe.isInstancedMesh&&vt.instancing===!1||!oe.isInstancedMesh&&vt.instancing===!0||oe.isSkinnedMesh&&vt.skinning===!1||!oe.isSkinnedMesh&&vt.skinning===!0||oe.isInstancedMesh&&vt.instancingColor===!0&&oe.instanceColor===null||oe.isInstancedMesh&&vt.instancingColor===!1&&oe.instanceColor!==null||oe.isInstancedMesh&&vt.instancingMorph===!0&&oe.morphTexture===null||oe.isInstancedMesh&&vt.instancingMorph===!1&&oe.morphTexture!==null||vt.envMap!==at||pe.fog===!0&&vt.fog!==Be||vt.numClippingPlanes!==void 0&&(vt.numClippingPlanes!==it.numPlanes||vt.numIntersection!==it.numIntersection)||vt.vertexAlphas!==bt||vt.vertexTangents!==St||vt.morphTargets!==Xe||vt.morphNormals!==mt||vt.morphColors!==qt||vt.toneMapping!==Wt||vt.morphTargetsCount!==on)&&(Zt=!0):(Zt=!0,vt.__version=pe.version);let Ur=vt.currentProgram;Zt===!0&&(Ur=Iu(pe,le,oe));let jo=!1,wr=!1,Da=!1;const en=Ur.getUniforms(),wi=vt.uniforms;if(B.useProgram(Ur.program)&&(jo=!0,wr=!0,Da=!0),pe.id!==N&&(N=pe.id,wr=!0),jo||R!==z){B.buffers.depth.getReversed()?(me.copy(z.projectionMatrix),cee(me),uee(me),en.setValue(V,"projectionMatrix",me)):en.setValue(V,"projectionMatrix",z.projectionMatrix),en.setValue(V,"viewMatrix",z.matrixWorldInverse);const hr=en.map.cameraPosition;hr!==void 0&&hr.setValue(V,tt.setFromMatrixPosition(z.matrixWorld)),Ue.logarithmicDepthBuffer&&en.setValue(V,"logDepthBufFC",2/(Math.log(z.far+1)/Math.LN2)),(pe.isMeshPhongMaterial||pe.isMeshToonMaterial||pe.isMeshLambertMaterial||pe.isMeshBasicMaterial||pe.isMeshStandardMaterial||pe.isShaderMaterial)&&en.setValue(V,"isOrthographic",z.isOrthographicCamera===!0),R!==z&&(R=z,wr=!0,Da=!0)}if(oe.isSkinnedMesh){en.setOptional(V,oe,"bindMatrix"),en.setOptional(V,oe,"bindMatrixInverse");const Ar=oe.skeleton;Ar&&(Ar.boneTexture===null&&Ar.computeBoneTexture(),en.setValue(V,"boneTexture",Ar.boneTexture,ge))}oe.isBatchedMesh&&(en.setOptional(V,oe,"batchingTexture"),en.setValue(V,"batchingTexture",oe._matricesTexture,ge),en.setOptional(V,oe,"batchingIdTexture"),en.setValue(V,"batchingIdTexture",oe._indirectTexture,ge),en.setOptional(V,oe,"batchingColorTexture"),oe._colorsTexture!==null&&en.setValue(V,"batchingColorTexture",oe._colorsTexture,ge));const Si=he.morphAttributes;if((Si.position!==void 0||Si.normal!==void 0||Si.color!==void 0)&&Qe.update(oe,he,Ur),(wr||vt.receiveShadow!==oe.receiveShadow)&&(vt.receiveShadow=oe.receiveShadow,en.setValue(V,"receiveShadow",oe.receiveShadow)),pe.isMeshGouraudMaterial&&pe.envMap!==null&&(wi.envMap.value=at,wi.flipEnvMap.value=at.isCubeTexture&&at.isRenderTargetTexture===!1?-1:1),pe.isMeshStandardMaterial&&pe.envMap===null&&le.environment!==null&&(wi.envMapIntensity.value=le.environmentIntensity),wr&&(en.setValue(V,"toneMappingExposure",E.toneMappingExposure),vt.needsLights&&Dw(wi,Da),Be&&pe.fog===!0&&ve.refreshFogUniforms(wi,Be),ve.refreshMaterialUniforms(wi,pe,k,re,g.state.transmissionRenderTarget[z.id]),a0.upload(V,gg(vt),wi,ge)),pe.isShaderMaterial&&pe.uniformsNeedUpdate===!0&&(a0.upload(V,gg(vt),wi,ge),pe.uniformsNeedUpdate=!1),pe.isSpriteMaterial&&en.setValue(V,"center",oe.center),en.setValue(V,"modelViewMatrix",oe.modelViewMatrix),en.setValue(V,"normalMatrix",oe.normalMatrix),en.setValue(V,"modelMatrix",oe.matrixWorld),pe.isShaderMaterial||pe.isRawShaderMaterial){const Ar=pe.uniformsGroups;for(let hr=0,ka=Ar.length;hr<ka;hr++){const Vi=Ar[hr];Y.update(Vi,Ur),Y.bind(Vi,Ur)}}return Ur}function Dw(z,le){z.ambientLightColor.needsUpdate=le,z.lightProbe.needsUpdate=le,z.directionalLights.needsUpdate=le,z.directionalLightShadows.needsUpdate=le,z.pointLights.needsUpdate=le,z.pointLightShadows.needsUpdate=le,z.spotLights.needsUpdate=le,z.spotLightShadows.needsUpdate=le,z.rectAreaLights.needsUpdate=le,z.hemisphereLights.needsUpdate=le}function yg(z){return z.isMeshLambertMaterial||z.isMeshToonMaterial||z.isMeshPhongMaterial||z.isMeshStandardMaterial||z.isShadowMaterial||z.isShaderMaterial&&z.lights===!0}this.getActiveCubeFace=function(){return A},this.getActiveMipmapLevel=function(){return I},this.getRenderTarget=function(){return D},this.setRenderTargetTextures=function(z,le,he){const pe=Q.get(z);pe.__autoAllocateDepthBuffer=z.resolveDepthBuffer===!1,pe.__autoAllocateDepthBuffer===!1&&(pe.__useRenderToTexture=!1),Q.get(z.texture).__webglTexture=le,Q.get(z.depthTexture).__webglTexture=pe.__autoAllocateDepthBuffer?void 0:he,pe.__hasExternalTextures=!0},this.setRenderTargetFramebuffer=function(z,le){const he=Q.get(z);he.__webglFramebuffer=le,he.__useDefaultFramebuffer=le===void 0};const kw=V.createFramebuffer();this.setRenderTarget=function(z,le=0,he=0){D=z,A=le,I=he;let pe=!0,oe=null,Be=!1,Ze=!1;if(z){const at=Q.get(z);if(at.__useDefaultFramebuffer!==void 0)B.bindFramebuffer(V.FRAMEBUFFER,null),pe=!1;else if(at.__webglFramebuffer===void 0)ge.setupRenderTarget(z);else if(at.__hasExternalTextures)ge.rebindTextures(z,Q.get(z.texture).__webglTexture,Q.get(z.depthTexture).__webglTexture);else if(z.depthBuffer){const Xe=z.depthTexture;if(at.__boundDepthTexture!==Xe){if(Xe!==null&&Q.has(Xe)&&(z.width!==Xe.image.width||z.height!==Xe.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");ge.setupDepthRenderbuffer(z)}}const bt=z.texture;(bt.isData3DTexture||bt.isDataArrayTexture||bt.isCompressedArrayTexture)&&(Ze=!0);const St=Q.get(z).__webglFramebuffer;z.isWebGLCubeRenderTarget?(Array.isArray(St[le])?oe=St[le][he]:oe=St[le],Be=!0):z.samples>0&&ge.useMultisampledRTT(z)===!1?oe=Q.get(z).__webglMultisampledFramebuffer:Array.isArray(St)?oe=St[he]:oe=St,F.copy(z.viewport),j.copy(z.scissor),G=z.scissorTest}else F.copy(ee).multiplyScalar(k).floor(),j.copy(de).multiplyScalar(k).floor(),G=Ae;if(he!==0&&(oe=kw),B.bindFramebuffer(V.FRAMEBUFFER,oe)&&pe&&B.drawBuffers(z,oe),B.viewport(F),B.scissor(j),B.setScissorTest(G),Be){const at=Q.get(z.texture);V.framebufferTexture2D(V.FRAMEBUFFER,V.COLOR_ATTACHMENT0,V.TEXTURE_CUBE_MAP_POSITIVE_X+le,at.__webglTexture,he)}else if(Ze){const at=Q.get(z.texture),bt=le;V.framebufferTextureLayer(V.FRAMEBUFFER,V.COLOR_ATTACHMENT0,at.__webglTexture,he,bt)}else if(z!==null&&he!==0){const at=Q.get(z.texture);V.framebufferTexture2D(V.FRAMEBUFFER,V.COLOR_ATTACHMENT0,V.TEXTURE_2D,at.__webglTexture,he)}N=-1},this.readRenderTargetPixels=function(z,le,he,pe,oe,Be,Ze,pt=0){if(!(z&&z.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let at=Q.get(z).__webglFramebuffer;if(z.isWebGLCubeRenderTarget&&Ze!==void 0&&(at=at[Ze]),at){B.bindFramebuffer(V.FRAMEBUFFER,at);try{const bt=z.textures[pt],St=bt.format,Xe=bt.type;if(!Ue.textureFormatReadable(St)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!Ue.textureTypeReadable(Xe)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}le>=0&&le<=z.width-pe&&he>=0&&he<=z.height-oe&&(z.textures.length>1&&V.readBuffer(V.COLOR_ATTACHMENT0+pt),V.readPixels(le,he,pe,oe,ce.convert(St),ce.convert(Xe),Be))}finally{const bt=D!==null?Q.get(D).__webglFramebuffer:null;B.bindFramebuffer(V.FRAMEBUFFER,bt)}}},this.readRenderTargetPixelsAsync=async function(z,le,he,pe,oe,Be,Ze,pt=0){if(!(z&&z.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let at=Q.get(z).__webglFramebuffer;if(z.isWebGLCubeRenderTarget&&Ze!==void 0&&(at=at[Ze]),at)if(le>=0&&le<=z.width-pe&&he>=0&&he<=z.height-oe){B.bindFramebuffer(V.FRAMEBUFFER,at);const bt=z.textures[pt],St=bt.format,Xe=bt.type;if(!Ue.textureFormatReadable(St))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!Ue.textureTypeReadable(Xe))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");const mt=V.createBuffer();V.bindBuffer(V.PIXEL_PACK_BUFFER,mt),V.bufferData(V.PIXEL_PACK_BUFFER,Be.byteLength,V.STREAM_READ),z.textures.length>1&&V.readBuffer(V.COLOR_ATTACHMENT0+pt),V.readPixels(le,he,pe,oe,ce.convert(St),ce.convert(Xe),0);const qt=D!==null?Q.get(D).__webglFramebuffer:null;B.bindFramebuffer(V.FRAMEBUFFER,qt);const Wt=V.fenceSync(V.SYNC_GPU_COMMANDS_COMPLETE,0);return V.flush(),await lee(V,Wt,4),V.bindBuffer(V.PIXEL_PACK_BUFFER,mt),V.getBufferSubData(V.PIXEL_PACK_BUFFER,0,Be),V.deleteBuffer(mt),V.deleteSync(Wt),Be}else throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")},this.copyFramebufferToTexture=function(z,le=null,he=0){const pe=Math.pow(2,-he),oe=Math.floor(z.image.width*pe),Be=Math.floor(z.image.height*pe),Ze=le!==null?le.x:0,pt=le!==null?le.y:0;ge.setTexture2D(z,0),V.copyTexSubImage2D(V.TEXTURE_2D,he,0,0,Ze,pt,oe,Be),B.unbindTexture()};const Ow=V.createFramebuffer(),Fw=V.createFramebuffer();this.copyTextureToTexture=function(z,le,he=null,pe=null,oe=0,Be=null){Be===null&&(oe!==0?(Qd("WebGLRenderer: copyTextureToTexture function signature has changed to support src and dst mipmap levels."),Be=oe,oe=0):Be=0);let Ze,pt,at,bt,St,Xe,mt,qt,Wt;const Vt=z.isCompressedTexture?z.mipmaps[Be]:z.image;if(he!==null)Ze=he.max.x-he.min.x,pt=he.max.y-he.min.y,at=he.isBox3?he.max.z-he.min.z:1,bt=he.min.x,St=he.min.y,Xe=he.isBox3?he.min.z:0;else{const Si=Math.pow(2,-oe);Ze=Math.floor(Vt.width*Si),pt=Math.floor(Vt.height*Si),z.isDataArrayTexture?at=Vt.depth:z.isData3DTexture?at=Math.floor(Vt.depth*Si):at=1,bt=0,St=0,Xe=0}pe!==null?(mt=pe.x,qt=pe.y,Wt=pe.z):(mt=0,qt=0,Wt=0);const on=ce.convert(le.format),vt=ce.convert(le.type);let $t;le.isData3DTexture?(ge.setTexture3D(le,0),$t=V.TEXTURE_3D):le.isDataArrayTexture||le.isCompressedArrayTexture?(ge.setTexture2DArray(le,0),$t=V.TEXTURE_2D_ARRAY):(ge.setTexture2D(le,0),$t=V.TEXTURE_2D),V.pixelStorei(V.UNPACK_FLIP_Y_WEBGL,le.flipY),V.pixelStorei(V.UNPACK_PREMULTIPLY_ALPHA_WEBGL,le.premultiplyAlpha),V.pixelStorei(V.UNPACK_ALIGNMENT,le.unpackAlignment);const Zt=V.getParameter(V.UNPACK_ROW_LENGTH),Ur=V.getParameter(V.UNPACK_IMAGE_HEIGHT),jo=V.getParameter(V.UNPACK_SKIP_PIXELS),wr=V.getParameter(V.UNPACK_SKIP_ROWS),Da=V.getParameter(V.UNPACK_SKIP_IMAGES);V.pixelStorei(V.UNPACK_ROW_LENGTH,Vt.width),V.pixelStorei(V.UNPACK_IMAGE_HEIGHT,Vt.height),V.pixelStorei(V.UNPACK_SKIP_PIXELS,bt),V.pixelStorei(V.UNPACK_SKIP_ROWS,St),V.pixelStorei(V.UNPACK_SKIP_IMAGES,Xe);const en=z.isDataArrayTexture||z.isData3DTexture,wi=le.isDataArrayTexture||le.isData3DTexture;if(z.isDepthTexture){const Si=Q.get(z),Ar=Q.get(le),hr=Q.get(Si.__renderTarget),ka=Q.get(Ar.__renderTarget);B.bindFramebuffer(V.READ_FRAMEBUFFER,hr.__webglFramebuffer),B.bindFramebuffer(V.DRAW_FRAMEBUFFER,ka.__webglFramebuffer);for(let Vi=0;Vi<at;Vi++)en&&(V.framebufferTextureLayer(V.READ_FRAMEBUFFER,V.COLOR_ATTACHMENT0,Q.get(z).__webglTexture,oe,Xe+Vi),V.framebufferTextureLayer(V.DRAW_FRAMEBUFFER,V.COLOR_ATTACHMENT0,Q.get(le).__webglTexture,Be,Wt+Vi)),V.blitFramebuffer(bt,St,Ze,pt,mt,qt,Ze,pt,V.DEPTH_BUFFER_BIT,V.NEAREST);B.bindFramebuffer(V.READ_FRAMEBUFFER,null),B.bindFramebuffer(V.DRAW_FRAMEBUFFER,null)}else if(oe!==0||z.isRenderTargetTexture||Q.has(z)){const Si=Q.get(z),Ar=Q.get(le);B.bindFramebuffer(V.READ_FRAMEBUFFER,Ow),B.bindFramebuffer(V.DRAW_FRAMEBUFFER,Fw);for(let hr=0;hr<at;hr++)en?V.framebufferTextureLayer(V.READ_FRAMEBUFFER,V.COLOR_ATTACHMENT0,Si.__webglTexture,oe,Xe+hr):V.framebufferTexture2D(V.READ_FRAMEBUFFER,V.COLOR_ATTACHMENT0,V.TEXTURE_2D,Si.__webglTexture,oe),wi?V.framebufferTextureLayer(V.DRAW_FRAMEBUFFER,V.COLOR_ATTACHMENT0,Ar.__webglTexture,Be,Wt+hr):V.framebufferTexture2D(V.DRAW_FRAMEBUFFER,V.COLOR_ATTACHMENT0,V.TEXTURE_2D,Ar.__webglTexture,Be),oe!==0?V.blitFramebuffer(bt,St,Ze,pt,mt,qt,Ze,pt,V.COLOR_BUFFER_BIT,V.NEAREST):wi?V.copyTexSubImage3D($t,Be,mt,qt,Wt+hr,bt,St,Ze,pt):V.copyTexSubImage2D($t,Be,mt,qt,bt,St,Ze,pt);B.bindFramebuffer(V.READ_FRAMEBUFFER,null),B.bindFramebuffer(V.DRAW_FRAMEBUFFER,null)}else wi?z.isDataTexture||z.isData3DTexture?V.texSubImage3D($t,Be,mt,qt,Wt,Ze,pt,at,on,vt,Vt.data):le.isCompressedArrayTexture?V.compressedTexSubImage3D($t,Be,mt,qt,Wt,Ze,pt,at,on,Vt.data):V.texSubImage3D($t,Be,mt,qt,Wt,Ze,pt,at,on,vt,Vt):z.isDataTexture?V.texSubImage2D(V.TEXTURE_2D,Be,mt,qt,Ze,pt,on,vt,Vt.data):z.isCompressedTexture?V.compressedTexSubImage2D(V.TEXTURE_2D,Be,mt,qt,Vt.width,Vt.height,on,Vt.data):V.texSubImage2D(V.TEXTURE_2D,Be,mt,qt,Ze,pt,on,vt,Vt);V.pixelStorei(V.UNPACK_ROW_LENGTH,Zt),V.pixelStorei(V.UNPACK_IMAGE_HEIGHT,Ur),V.pixelStorei(V.UNPACK_SKIP_PIXELS,jo),V.pixelStorei(V.UNPACK_SKIP_ROWS,wr),V.pixelStorei(V.UNPACK_SKIP_IMAGES,Da),Be===0&&le.generateMipmaps&&V.generateMipmap($t),B.unbindTexture()},this.copyTextureToTexture3D=function(z,le,he=null,pe=null,oe=0){return Qd('WebGLRenderer: copyTextureToTexture3D function has been deprecated. Use "copyTextureToTexture" instead.'),this.copyTextureToTexture(z,le,he,pe,oe)},this.initRenderTarget=function(z){Q.get(z).__webglFramebuffer===void 0&&ge.setupRenderTarget(z)},this.initTexture=function(z){z.isCubeTexture?ge.setTextureCube(z,0):z.isData3DTexture?ge.setTexture3D(z,0):z.isDataArrayTexture||z.isCompressedArrayTexture?ge.setTexture2DArray(z,0):ge.setTexture2D(z,0),B.unbindTexture()},this.resetState=function(){A=0,I=0,D=null,B.reset(),_e.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return Es}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const n=this.getContext();n.drawingBufferColorSpace=cn._getDrawingBufferColorSpace(e),n.unpackColorSpace=cn._getUnpackColorSpace()}}const Sae=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:lA,AddEquation:dl,AddOperation:f4,AdditiveAnimationBlendMode:vA,AdditiveBlending:RE,AgXToneMapping:v4,AlphaFormat:hA,AlwaysCompare:N4,AlwaysDepth:ex,AlwaysStencilFunc:DE,AmbientLight:TV,AnimationAction:kV,AnimationClip:Mm,AnimationLoader:Fte,AnimationMixer:fne,AnimationObjectGroup:une,AnimationUtils:Lte,ArcCurve:K4,ArrayCamera:NV,ArrowHelper:Lne,AttachedBindMode:LE,Audio:LV,AudioAnalyser:ene,AudioContext:jA,AudioListener:Kte,AudioLoader:Yte,AxesHelper:Dne,BackSide:gi,BasicDepthPacking:b4,BasicShadowMap:Xz,BatchedMesh:X4,Bone:EA,BooleanKeyframeTrack:Cu,Box2:xne,Box3:ei,Box3Helper:Ine,BoxGeometry:Tu,BoxHelper:Rne,BufferAttribute:Mn,BufferGeometry:Ft,BufferGeometryLoader:IV,ByteType:uA,Cache:Eo,Camera:Xm,CameraHelper:Pne,CanvasTexture:nte,CapsuleGeometry:rw,CatmullRomCurve3:Q4,CineonToneMapping:m4,CircleGeometry:iw,ClampToEdgeWrapping:Ms,Clock:HA,Color:lt,ColorKeyframeTrack:BA,ColorManagement:cn,CompressedArrayTexture:ete,CompressedCubeTexture:tte,CompressedTexture:nw,CompressedTextureLoader:Ute,ConeGeometry:qm,ConstantAlphaFactor:c4,ConstantColorFactor:a4,Controls:One,CubeCamera:B4,CubeReflectionMapping:Ca,CubeRefractionMapping:jl,CubeTexture:$m,CubeTextureLoader:Bte,CubeUVReflectionMapping:$f,CubicBezierCurve:PA,CubicBezierCurve3:J4,CubicInterpolant:yV,CullFaceBack:PE,CullFaceFront:Gz,CullFaceFrontBack:aJ,CullFaceNone:Wz,Curve:no,CurvePath:tV,CustomBlending:$z,CustomToneMapping:g4,CylinderGeometry:Ym,Cylindrical:yne,Data3DTexture:Z_,DataArrayTexture:q_,DataTexture:Lo,DataTextureLoader:zte,DataUtils:Eee,DecrementStencilOp:wJ,DecrementWrapStencilOp:bJ,DefaultLoadingManager:wV,DepthFormat:Tf,DepthStencilFormat:Cf,DepthTexture:CA,DetachedBindMode:x4,DirectionalLight:EV,DirectionalLightHelper:Ane,DiscreteInterpolant:xV,DodecahedronGeometry:sw,DoubleSide:So,DstAlphaFactor:n4,DstColorFactor:i4,DynamicCopyUsage:UJ,DynamicDrawUsage:NJ,DynamicReadUsage:kJ,EdgesGeometry:Z4,EllipseCurve:ow,EqualCompare:A4,EqualDepth:nx,EqualStencilFunc:CJ,EquirectangularReflectionMapping:cm,EquirectangularRefractionMapping:um,Euler:is,EventDispatcher:Bo,ExtrudeGeometry:aw,FileLoader:Pa,Float16BufferAttribute:Nee,Float32BufferAttribute:ht,FloatType:ki,Fog:Q_,FogExp2:K_,FramebufferTexture:Jee,FrontSide:Ta,Frustum:qf,FrustumArray:tw,GLBufferAttribute:vne,GLSL1:zJ,GLSL3:kE,GreaterCompare:P4,GreaterDepth:ix,GreaterEqualCompare:I4,GreaterEqualDepth:rx,GreaterEqualStencilFunc:IJ,GreaterStencilFunc:PJ,GridHelper:Tne,Group:Bd,HalfFloatType:Yf,HemisphereLight:SV,HemisphereLightHelper:Ene,IcosahedronGeometry:lw,ImageBitmapLoader:$te,ImageLoader:Em,ImageUtils:k4,IncrementStencilOp:_J,IncrementWrapStencilOp:SJ,InstancedBufferAttribute:Rf,InstancedBufferGeometry:RV,InstancedInterleavedBuffer:gne,InstancedMesh:G4,Int16BufferAttribute:Ree,Int32BufferAttribute:Iee,Int8BufferAttribute:Cee,IntType:j_,InterleavedBuffer:J_,InterleavedBufferAttribute:pu,Interpolant:Qm,InterpolateDiscrete:hm,InterpolateLinear:Nx,InterpolateSmooth:s0,InterpolationSamplingMode:HJ,InterpolationSamplingType:jJ,InvertStencilOp:MJ,KeepStencilOp:Dc,KeyframeTrack:Ns,LOD:H4,LatheGeometry:cw,Layers:ru,LessCompare:C4,LessDepth:tx,LessEqualCompare:yA,LessEqualDepth:fu,LessEqualStencilFunc:AJ,LessStencilFunc:TJ,Light:Jl,LightProbe:PV,Line:Hl,Line3:_ne,LineBasicMaterial:_i,LineCurve:RA,LineCurve3:eV,LineDashedMaterial:mV,LineLoop:$4,LineSegments:zo,LinearFilter:yr,LinearInterpolant:UA,LinearMipMapLinearFilter:dJ,LinearMipMapNearestFilter:uJ,LinearMipmapLinearFilter:Mo,LinearMipmapNearestFilter:xp,LinearSRGBColorSpace:hu,LinearToneMapping:h4,LinearTransfer:mm,Loader:zi,LoaderUtils:zE,LoadingManager:zA,LoopOnce:_4,LoopPingPong:S4,LoopRepeat:w4,MOUSE:Nc,Material:ri,MaterialLoader:gw,MathUtils:oee,Matrix2:$A,Matrix3:Dt,Matrix4:Tt,MaxEquation:Kz,Mesh:dr,MeshBasicMaterial:Kl,MeshDepthMaterial:kA,MeshDistanceMaterial:OA,MeshLambertMaterial:hV,MeshMatcapMaterial:pV,MeshNormalMaterial:fV,MeshPhongMaterial:uV,MeshPhysicalMaterial:cV,MeshStandardMaterial:DA,MeshToonMaterial:dV,MinEquation:Zz,MirroredRepeatWrapping:fm,MixOperation:d4,MultiplyBlending:NE,MultiplyOperation:Wm,NearestFilter:Dr,NearestMipMapLinearFilter:cJ,NearestMipMapNearestFilter:lJ,NearestMipmapLinearFilter:Fd,NearestMipmapNearestFilter:cA,NeutralToneMapping:y4,NeverCompare:T4,NeverDepth:J0,NeverStencilFunc:EJ,NoBlending:ma,NoColorSpace:la,NoToneMapping:No,NormalAnimationBlendMode:Y_,NormalBlending:tu,NotEqualCompare:R4,NotEqualDepth:sx,NotEqualStencilFunc:RJ,NumberKeyframeTrack:Sm,Object3D:pn,ObjectLoader:Gte,ObjectSpaceNormalMap:E4,OctahedronGeometry:Zm,OneFactor:Jz,OneMinusConstantAlphaFactor:u4,OneMinusConstantColorFactor:l4,OneMinusDstAlphaFactor:r4,OneMinusDstColorFactor:s4,OneMinusSrcAlphaFactor:Q0,OneMinusSrcColorFactor:t4,OrthographicCamera:Nl,PCFShadowMap:z_,PCFSoftShadowMap:yp,PMREMGenerator:WE,Path:Ox,PerspectiveCamera:rr,Plane:aa,PlaneGeometry:Zf,PlaneHelper:Nne,PointLight:MV,PointLightHelper:bne,Points:Y4,PointsMaterial:TA,PolarGridHelper:Cne,PolyhedronGeometry:Ql,PositionalAudio:Jte,PropertyBinding:un,PropertyMixer:DV,QuadraticBezierCurve:IA,QuadraticBezierCurve3:NA,Quaternion:Jr,QuaternionKeyframeTrack:Jm,QuaternionLinearInterpolant:_V,RED_GREEN_RGTC2_Format:Rx,RED_RGTC1_Format:gA,REVISION:B_,RGBADepthPacking:M4,RGBAFormat:Qr,RGBAIntegerFormat:$_,RGBA_ASTC_10x10_Format:Mx,RGBA_ASTC_10x5_Format:wx,RGBA_ASTC_10x6_Format:Sx,RGBA_ASTC_10x8_Format:bx,RGBA_ASTC_12x10_Format:Ex,RGBA_ASTC_12x12_Format:Tx,RGBA_ASTC_4x4_Format:hx,RGBA_ASTC_5x4_Format:px,RGBA_ASTC_5x5_Format:mx,RGBA_ASTC_6x5_Format:gx,RGBA_ASTC_6x6_Format:vx,RGBA_ASTC_8x5_Format:yx,RGBA_ASTC_8x6_Format:xx,RGBA_ASTC_8x8_Format:_x,RGBA_BPTC_Format:Mp,RGBA_ETC2_EAC_Format:fx,RGBA_PVRTC_2BPPV1_Format:cx,RGBA_PVRTC_4BPPV1_Format:lx,RGBA_S3TC_DXT1_Format:wp,RGBA_S3TC_DXT3_Format:Sp,RGBA_S3TC_DXT5_Format:bp,RGBDepthPacking:gJ,RGBFormat:pA,RGBIntegerFormat:fJ,RGB_BPTC_SIGNED_Format:Cx,RGB_BPTC_UNSIGNED_Format:Ax,RGB_ETC1_Format:ux,RGB_ETC2_Format:dx,RGB_PVRTC_2BPPV1_Format:ax,RGB_PVRTC_4BPPV1_Format:ox,RGB_S3TC_DXT1_Format:_p,RGDepthPacking:vJ,RGFormat:mA,RGIntegerFormat:X_,RawShaderMaterial:lV,Ray:Eu,Raycaster:OV,RectAreaLight:CV,RedFormat:G_,RedIntegerFormat:Gm,ReinhardToneMapping:p4,RenderTarget:_A,RenderTarget3D:hne,RepeatWrapping:dm,ReplaceStencilOp:xJ,ReverseSubtractEquation:qz,RingGeometry:uw,SIGNED_RED_GREEN_RGTC2_Format:Ix,SIGNED_RED_RGTC1_Format:Px,SRGBColorSpace:Ri,SRGBTransfer:Sn,Scene:bA,ShaderChunk:Bt,ShaderLib:$s,ShaderMaterial:to,ShadowMaterial:aV,Shape:iu,ShapeGeometry:dw,ShapePath:kne,ShapeUtils:qs,ShortType:dA,Skeleton:ew,SkeletonHelper:Sne,SkinnedMesh:W4,Source:Sl,Sphere:kr,SphereGeometry:Km,Spherical:jE,SphericalHarmonics3:AV,SplineCurve:LA,SpotLight:bV,SpotLightHelper:wne,Sprite:j4,SpriteMaterial:MA,SrcAlphaFactor:K0,SrcAlphaSaturateFactor:o4,SrcColorFactor:e4,StaticCopyUsage:FJ,StaticDrawUsage:gm,StaticReadUsage:DJ,StereoCamera:qte,StreamCopyUsage:BJ,StreamDrawUsage:LJ,StreamReadUsage:OJ,StringKeyframeTrack:Au,SubtractEquation:Yz,SubtractiveBlending:IE,TOUCH:Lc,TangentSpaceNormalMap:Zl,TetrahedronGeometry:fw,Texture:Qn,TextureLoader:Vte,TextureUtils:Vne,TimestampQuery:VJ,TorusGeometry:hw,TorusKnotGeometry:pw,Triangle:Ni,TriangleFanDrawMode:mJ,TriangleStripDrawMode:pJ,TrianglesDrawMode:hJ,TubeGeometry:mw,UVMapping:V_,Uint16BufferAttribute:wA,Uint32BufferAttribute:SA,Uint8BufferAttribute:Aee,Uint8ClampedBufferAttribute:Pee,Uniform:XA,UniformsGroup:mne,UniformsLib:Ke,UniformsUtils:U4,UnsignedByteType:Is,UnsignedInt248Type:Ef,UnsignedInt5999Type:fA,UnsignedIntType:Aa,UnsignedShort4444Type:H_,UnsignedShort5551Type:W_,UnsignedShortType:Mf,VSMShadowMap:Hs,Vector2:Te,Vector3:H,Vector4:dn,VectorKeyframeTrack:bm,VideoFrameTexture:Qee,VideoTexture:q4,WebGL3DRenderTarget:mee,WebGLArrayRenderTarget:pee,WebGLCoordinateSystem:Es,WebGLCubeRenderTarget:z4,WebGLRenderTarget:Oo,WebGLRenderer:WV,WebGLUtils:HV,WebGPUCoordinateSystem:vm,WebXRController:o0,WireframeGeometry:oV,WrapAroundEnding:pm,ZeroCurvatureEnding:Hc,ZeroFactor:Qz,ZeroSlopeEnding:Wc,ZeroStencilOp:yJ,createCanvasElement:D4},Symbol.toStringTag,{value:"Module"}));var GV={exports:{}},Pu={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */Pu.ConcurrentRoot=1;Pu.ContinuousEventPriority=4;Pu.DefaultEventPriority=16;Pu.DiscreteEventPriority=1;Pu.IdleEventPriority=536870912;Pu.LegacyRoot=0;GV.exports=Pu;var Vd=GV.exports;function bae(t){let e;const n=new Set,r=(c,d)=>{const h=typeof c=="function"?c(e):c;if(h!==e){const p=e;e=d?h:Object.assign({},e,h),n.forEach(m=>m(e,p))}},i=()=>e,s=(c,d=i,h=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let p=d(e);function m(){const v=d(e);if(!h(p,v)){const x=p;c(p=v,x)}}return n.add(m),()=>n.delete(m)},l={setState:r,getState:i,subscribe:(c,d,h)=>d||h?s(c,d,h):(n.add(c),()=>n.delete(c)),destroy:()=>n.clear()};return e=t(r,i,l),l}const Mae=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),VD=Mae?P.useEffect:P.useLayoutEffect;function Eae(t){const e=typeof t=="function"?bae(t):t,n=(r=e.getState,i=Object.is)=>{const[,s]=P.useReducer(y=>y+1,0),o=e.getState(),a=P.useRef(o),l=P.useRef(r),c=P.useRef(i),d=P.useRef(!1),h=P.useRef();h.current===void 0&&(h.current=r(o));let p,m=!1;(a.current!==o||l.current!==r||c.current!==i||d.current)&&(p=r(o),m=!i(h.current,p)),VD(()=>{m&&(h.current=p),a.current=o,l.current=r,c.current=i,d.current=!1});const v=P.useRef(o);VD(()=>{const y=()=>{try{const w=e.getState(),b=l.current(w);c.current(h.current,b)||(a.current=w,h.current=b,s())}catch{d.current=!0,s()}},g=e.subscribe(y);return e.getState()!==v.current&&y(),g},[]);const x=m?p:h.current;return P.useDebugValue(x),x};return Object.assign(n,e),n[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const r=[n,e];return{next(){const i=r.length<=0;return{value:r.shift(),done:i}}}},n}var XV={exports:{}},Tb={exports:{}},Cb={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jD;function Tae(){return jD||(jD=1,function(t){function e(k,W){var q=k.length;k.push(W);e:for(;0<q;){var ee=q-1>>>1,de=k[ee];if(0<i(de,W))k[ee]=W,k[q]=de,q=ee;else break e}}function n(k){return k.length===0?null:k[0]}function r(k){if(k.length===0)return null;var W=k[0],q=k.pop();if(q!==W){k[0]=q;e:for(var ee=0,de=k.length,Ae=de>>>1;ee<Ae;){var ae=2*(ee+1)-1,be=k[ae],Ee=ae+1,me=k[Ee];if(0>i(be,q))Ee<de&&0>i(me,be)?(k[ee]=me,k[Ee]=q,ee=Ee):(k[ee]=be,k[ae]=q,ee=ae);else if(Ee<de&&0>i(me,q))k[ee]=me,k[Ee]=q,ee=Ee;else break e}}return W}function i(k,W){var q=k.sortIndex-W.sortIndex;return q!==0?q:k.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],d=1,h=null,p=3,m=!1,v=!1,x=!1,y=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(k){for(var W=n(c);W!==null;){if(W.callback===null)r(c);else if(W.startTime<=k)r(c),W.sortIndex=W.expirationTime,e(l,W);else break;W=n(c)}}function E(k){if(x=!1,b(k),!v)if(n(l)!==null)v=!0,J(C);else{var W=n(c);W!==null&&re(E,W.startTime-k)}}function C(k,W){v=!1,x&&(x=!1,g(D),D=-1),m=!0;var q=p;try{for(b(W),h=n(l);h!==null&&(!(h.expirationTime>W)||k&&!F());){var ee=h.callback;if(typeof ee=="function"){h.callback=null,p=h.priorityLevel;var de=ee(h.expirationTime<=W);W=t.unstable_now(),typeof de=="function"?h.callback=de:h===n(l)&&r(l),b(W)}else r(l);h=n(l)}if(h!==null)var Ae=!0;else{var ae=n(c);ae!==null&&re(E,ae.startTime-W),Ae=!1}return Ae}finally{h=null,p=q,m=!1}}var A=!1,I=null,D=-1,N=5,R=-1;function F(){return!(t.unstable_now()-R<N)}function j(){if(I!==null){var k=t.unstable_now();R=k;var W=!0;try{W=I(!0,k)}finally{W?G():(A=!1,I=null)}}else A=!1}var G;if(typeof w=="function")G=function(){w(j)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,ne=$.port2;$.port1.onmessage=j,G=function(){ne.postMessage(null)}}else G=function(){y(j,0)};function J(k){I=k,A||(A=!0,G())}function re(k,W){D=y(function(){k(t.unstable_now())},W)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(k){k.callback=null},t.unstable_continueExecution=function(){v||m||(v=!0,J(C))},t.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<k?Math.floor(1e3/k):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(k){switch(p){case 1:case 2:case 3:var W=3;break;default:W=p}var q=p;p=W;try{return k()}finally{p=q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(k,W){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var q=p;p=k;try{return W()}finally{p=q}},t.unstable_scheduleCallback=function(k,W,q){var ee=t.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?ee+q:ee):q=ee,k){case 1:var de=-1;break;case 2:de=250;break;case 5:de=1073741823;break;case 4:de=1e4;break;default:de=5e3}return de=q+de,k={id:d++,callback:W,priorityLevel:k,startTime:q,expirationTime:de,sortIndex:-1},q>ee?(k.sortIndex=q,e(c,k),n(l)===null&&k===n(c)&&(x?(g(D),D=-1):x=!0,re(E,q-ee))):(k.sortIndex=de,e(l,k),v||m||(v=!0,J(C))),k},t.unstable_shouldYield=F,t.unstable_wrapCallback=function(k){var W=p;return function(){var q=p;p=W;try{return k.apply(this,arguments)}finally{p=q}}}}(Cb)),Cb}var HD;function Cae(){return HD||(HD=1,Tb.exports=Tae()),Tb.exports}/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Aae=function(e){var n={},r=P,i=Cae(),s=Object.assign;function o(u){for(var f="https://reactjs.org/docs/error-decoder.html?invariant="+u,_=1;_<arguments.length;_++)f+="&args[]="+encodeURIComponent(arguments[_]);return"Minified React error #"+u+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,l=Symbol.for("react.element"),c=Symbol.for("react.portal"),d=Symbol.for("react.fragment"),h=Symbol.for("react.strict_mode"),p=Symbol.for("react.profiler"),m=Symbol.for("react.provider"),v=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),g=Symbol.for("react.suspense_list"),w=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),E=Symbol.for("react.offscreen"),C=Symbol.iterator;function A(u){return u===null||typeof u!="object"?null:(u=C&&u[C]||u["@@iterator"],typeof u=="function"?u:null)}function I(u){if(u==null)return null;if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u;switch(u){case d:return"Fragment";case c:return"Portal";case p:return"Profiler";case h:return"StrictMode";case y:return"Suspense";case g:return"SuspenseList"}if(typeof u=="object")switch(u.$$typeof){case v:return(u.displayName||"Context")+".Consumer";case m:return(u._context.displayName||"Context")+".Provider";case x:var f=u.render;return u=u.displayName,u||(u=f.displayName||f.name||"",u=u!==""?"ForwardRef("+u+")":"ForwardRef"),u;case w:return f=u.displayName||null,f!==null?f:I(u.type)||"Memo";case b:f=u._payload,u=u._init;try{return I(u(f))}catch{}}return null}function D(u){var f=u.type;switch(u.tag){case 24:return"Cache";case 9:return(f.displayName||"Context")+".Consumer";case 10:return(f._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return u=f.render,u=u.displayName||u.name||"",f.displayName||(u!==""?"ForwardRef("+u+")":"ForwardRef");case 7:return"Fragment";case 5:return f;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return I(f);case 8:return f===h?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof f=="function")return f.displayName||f.name||null;if(typeof f=="string")return f}return null}function N(u){var f=u,_=u;if(u.alternate)for(;f.return;)f=f.return;else{u=f;do f=u,f.flags&4098&&(_=f.return),u=f.return;while(u)}return f.tag===3?_:null}function R(u){if(N(u)!==u)throw Error(o(188))}function F(u){var f=u.alternate;if(!f){if(f=N(u),f===null)throw Error(o(188));return f!==u?null:u}for(var _=u,M=f;;){var T=_.return;if(T===null)break;var L=T.alternate;if(L===null){if(M=T.return,M!==null){_=M;continue}break}if(T.child===L.child){for(L=T.child;L;){if(L===_)return R(T),u;if(L===M)return R(T),f;L=L.sibling}throw Error(o(188))}if(_.return!==M.return)_=T,M=L;else{for(var X=!1,ie=T.child;ie;){if(ie===_){X=!0,_=T,M=L;break}if(ie===M){X=!0,M=T,_=L;break}ie=ie.sibling}if(!X){for(ie=L.child;ie;){if(ie===_){X=!0,_=L,M=T;break}if(ie===M){X=!0,M=L,_=T;break}ie=ie.sibling}if(!X)throw Error(o(189))}}if(_.alternate!==M)throw Error(o(190))}if(_.tag!==3)throw Error(o(188));return _.stateNode.current===_?u:f}function j(u){return u=F(u),u!==null?G(u):null}function G(u){if(u.tag===5||u.tag===6)return u;for(u=u.child;u!==null;){var f=G(u);if(f!==null)return f;u=u.sibling}return null}function $(u){if(u.tag===5||u.tag===6)return u;for(u=u.child;u!==null;){if(u.tag!==4){var f=$(u);if(f!==null)return f}u=u.sibling}return null}var ne=Array.isArray,J=e.getPublicInstance,re=e.getRootHostContext,k=e.getChildHostContext,W=e.prepareForCommit,q=e.resetAfterCommit,ee=e.createInstance,de=e.appendInitialChild,Ae=e.finalizeInitialChildren,ae=e.prepareUpdate,be=e.shouldSetTextContent,Ee=e.createTextInstance,me=e.scheduleTimeout,ke=e.cancelTimeout,tt=e.noTimeout,Fe=e.isPrimaryRenderer,nt=e.supportsMutation,qe=e.supportsPersistence,Ye=e.supportsHydration,V=e.getInstanceFromNode,Oe=e.preparePortalMount,Re=e.getCurrentEventPriority,Ue=e.detachDeletedInstance,B=e.supportsMicrotasks,Z=e.scheduleMicrotask,Q=e.supportsTestSelectors,ge=e.findFiberRoot,Se=e.getBoundingRect,U=e.getTextContent,O=e.isHiddenSubtree,te=e.matchAccessibilityRole,ue=e.setFocusIfFocusable,ye=e.setupIntersectionObserver,ve=e.appendChild,rt=e.appendChildToContainer,He=e.commitTextUpdate,it=e.commitMount,ct=e.commitUpdate,Ie=e.insertBefore,Qe=e.insertInContainerBefore,gt=e.removeChild,K=e.removeChildFromContainer,ce=e.resetTextContent,_e=e.hideInstance,Y=e.hideTextInstance,Me=e.unhideInstance,Ce=e.unhideTextInstance,We=e.clearContainer,De=e.cloneInstance,Pe=e.createContainerChildSet,Je=e.appendChildToContainerChildSet,wt=e.finalizeContainerChildren,ln=e.replaceContainerChildren,Xt=e.cloneHiddenInstance,sr=e.cloneHiddenTextInstance,Fr=e.canHydrateInstance,fg=e.canHydrateTextInstance,hg=e.canHydrateSuspenseInstance,io=e.isSuspenseInstancePending,nc=e.isSuspenseInstanceFallback,pg=e.registerSuspenseInstanceRetry,La=e.getNextHydratableSibling,Ru=e.getFirstHydratableChild,mg=e.getFirstHydratableChildWithinContainer,Iu=e.getFirstHydratableChildWithinSuspenseInstance,gg=e.hydrateInstance,vg=e.hydrateTextInstance,Lw=e.hydrateSuspenseInstance,Dw=e.getNextHydratableInstanceAfterSuspenseInstance,yg=e.commitHydratedContainer,kw=e.commitHydratedSuspenseInstance,Ow=e.clearSuspenseBoundary,Fw=e.clearSuspenseBoundaryFromContainer,z=e.shouldDeleteUnhydratedTailInstances,le=e.didNotMatchHydratedContainerTextInstance,he=e.didNotMatchHydratedTextInstance,pe;function oe(u){if(pe===void 0)try{throw Error()}catch(_){var f=_.stack.trim().match(/\n( *(at )?)/);pe=f&&f[1]||""}return`
`+pe+u}var Be=!1;function Ze(u,f){if(!u||Be)return"";Be=!0;var _=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(f)if(f=function(){throw Error()},Object.defineProperty(f.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(f,[])}catch(je){var M=je}Reflect.construct(u,[],f)}else{try{f.call()}catch(je){M=je}u.call(f.prototype)}else{try{throw Error()}catch(je){M=je}u()}}catch(je){if(je&&M&&typeof je.stack=="string"){for(var T=je.stack.split(`
`),L=M.stack.split(`
`),X=T.length-1,ie=L.length-1;1<=X&&0<=ie&&T[X]!==L[ie];)ie--;for(;1<=X&&0<=ie;X--,ie--)if(T[X]!==L[ie]){if(X!==1||ie!==1)do if(X--,ie--,0>ie||T[X]!==L[ie]){var we=`
`+T[X].replace(" at new "," at ");return u.displayName&&we.includes("<anonymous>")&&(we=we.replace("<anonymous>",u.displayName)),we}while(1<=X&&0<=ie);break}}}finally{Be=!1,Error.prepareStackTrace=_}return(u=u?u.displayName||u.name:"")?oe(u):""}var pt=Object.prototype.hasOwnProperty,at=[],bt=-1;function St(u){return{current:u}}function Xe(u){0>bt||(u.current=at[bt],at[bt]=null,bt--)}function mt(u,f){bt++,at[bt]=u.current,u.current=f}var qt={},Wt=St(qt),Vt=St(!1),on=qt;function vt(u,f){var _=u.type.contextTypes;if(!_)return qt;var M=u.stateNode;if(M&&M.__reactInternalMemoizedUnmaskedChildContext===f)return M.__reactInternalMemoizedMaskedChildContext;var T={},L;for(L in _)T[L]=f[L];return M&&(u=u.stateNode,u.__reactInternalMemoizedUnmaskedChildContext=f,u.__reactInternalMemoizedMaskedChildContext=T),T}function $t(u){return u=u.childContextTypes,u!=null}function Zt(){Xe(Vt),Xe(Wt)}function Ur(u,f,_){if(Wt.current!==qt)throw Error(o(168));mt(Wt,f),mt(Vt,_)}function jo(u,f,_){var M=u.stateNode;if(f=f.childContextTypes,typeof M.getChildContext!="function")return _;M=M.getChildContext();for(var T in M)if(!(T in f))throw Error(o(108,D(u)||"Unknown",T));return s({},_,M)}function wr(u){return u=(u=u.stateNode)&&u.__reactInternalMemoizedMergedChildContext||qt,on=Wt.current,mt(Wt,u),mt(Vt,Vt.current),!0}function Da(u,f,_){var M=u.stateNode;if(!M)throw Error(o(169));_?(u=jo(u,f,on),M.__reactInternalMemoizedMergedChildContext=u,Xe(Vt),Xe(Wt),mt(Wt,u)):Xe(Vt),mt(Vt,_)}var en=Math.clz32?Math.clz32:Ar,wi=Math.log,Si=Math.LN2;function Ar(u){return u>>>=0,u===0?32:31-(wi(u)/Si|0)|0}var hr=64,ka=4194304;function Vi(u){switch(u&-u){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return u&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return u}}function xg(u,f){var _=u.pendingLanes;if(_===0)return 0;var M=0,T=u.suspendedLanes,L=u.pingedLanes,X=_&268435455;if(X!==0){var ie=X&~T;ie!==0?M=Vi(ie):(L&=X,L!==0&&(M=Vi(L)))}else X=_&~T,X!==0?M=Vi(X):L!==0&&(M=Vi(L));if(M===0)return 0;if(f!==0&&f!==M&&!(f&T)&&(T=M&-M,L=f&-f,T>=L||T===16&&(L&4194240)!==0))return f;if(M&4&&(M|=_&16),f=u.entangledLanes,f!==0)for(u=u.entanglements,f&=M;0<f;)_=31-en(f),T=1<<_,M|=u[_],f&=~T;return M}function DH(u,f){switch(u){case 1:case 2:case 4:return f+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function kH(u,f){for(var _=u.suspendedLanes,M=u.pingedLanes,T=u.expirationTimes,L=u.pendingLanes;0<L;){var X=31-en(L),ie=1<<X,we=T[X];we===-1?(!(ie&_)||ie&M)&&(T[X]=DH(ie,f)):we<=f&&(u.expiredLanes|=ie),L&=~ie}}function Uw(u){return u=u.pendingLanes&-1073741825,u!==0?u:u&1073741824?1073741824:0}function Bw(u){for(var f=[],_=0;31>_;_++)f.push(u);return f}function eh(u,f,_){u.pendingLanes|=f,f!==536870912&&(u.suspendedLanes=0,u.pingedLanes=0),u=u.eventTimes,f=31-en(f),u[f]=_}function OH(u,f){var _=u.pendingLanes&~f;u.pendingLanes=f,u.suspendedLanes=0,u.pingedLanes=0,u.expiredLanes&=f,u.mutableReadLanes&=f,u.entangledLanes&=f,f=u.entanglements;var M=u.eventTimes;for(u=u.expirationTimes;0<_;){var T=31-en(_),L=1<<T;f[T]=0,M[T]=-1,u[T]=-1,_&=~L}}function zw(u,f){var _=u.entangledLanes|=f;for(u=u.entanglements;_;){var M=31-en(_),T=1<<M;T&f|u[M]&f&&(u[M]|=f),_&=~T}}var gn=0;function CP(u){return u&=-u,1<u?4<u?u&268435455?16:536870912:4:1}var Vw=i.unstable_scheduleCallback,AP=i.unstable_cancelCallback,FH=i.unstable_shouldYield,UH=i.unstable_requestPaint,Sr=i.unstable_now,jw=i.unstable_ImmediatePriority,BH=i.unstable_UserBlockingPriority,Hw=i.unstable_NormalPriority,zH=i.unstable_IdlePriority,_g=null,so=null;function VH(u){if(so&&typeof so.onCommitFiberRoot=="function")try{so.onCommitFiberRoot(_g,u,void 0,(u.current.flags&128)===128)}catch{}}function jH(u,f){return u===f&&(u!==0||1/u===1/f)||u!==u&&f!==f}var oo=typeof Object.is=="function"?Object.is:jH,Ho=null,wg=!1,Ww=!1;function PP(u){Ho===null?Ho=[u]:Ho.push(u)}function HH(u){wg=!0,PP(u)}function ao(){if(!Ww&&Ho!==null){Ww=!0;var u=0,f=gn;try{var _=Ho;for(gn=1;u<_.length;u++){var M=_[u];do M=M(!0);while(M!==null)}Ho=null,wg=!1}catch(T){throw Ho!==null&&(Ho=Ho.slice(u+1)),Vw(jw,ao),T}finally{gn=f,Ww=!1}}return null}var WH=a.ReactCurrentBatchConfig;function Sg(u,f){if(oo(u,f))return!0;if(typeof u!="object"||u===null||typeof f!="object"||f===null)return!1;var _=Object.keys(u),M=Object.keys(f);if(_.length!==M.length)return!1;for(M=0;M<_.length;M++){var T=_[M];if(!pt.call(f,T)||!oo(u[T],f[T]))return!1}return!0}function GH(u){switch(u.tag){case 5:return oe(u.type);case 16:return oe("Lazy");case 13:return oe("Suspense");case 19:return oe("SuspenseList");case 0:case 2:case 15:return u=Ze(u.type,!1),u;case 11:return u=Ze(u.type.render,!1),u;case 1:return u=Ze(u.type,!0),u;default:return""}}function Ls(u,f){if(u&&u.defaultProps){f=s({},f),u=u.defaultProps;for(var _ in u)f[_]===void 0&&(f[_]=u[_]);return f}return f}var bg=St(null),Mg=null,Nu=null,Gw=null;function Xw(){Gw=Nu=Mg=null}function RP(u,f,_){Fe?(mt(bg,f._currentValue),f._currentValue=_):(mt(bg,f._currentValue2),f._currentValue2=_)}function $w(u){var f=bg.current;Xe(bg),Fe?u._currentValue=f:u._currentValue2=f}function Yw(u,f,_){for(;u!==null;){var M=u.alternate;if((u.childLanes&f)!==f?(u.childLanes|=f,M!==null&&(M.childLanes|=f)):M!==null&&(M.childLanes&f)!==f&&(M.childLanes|=f),u===_)break;u=u.return}}function Lu(u,f){Mg=u,Gw=Nu=null,u=u.dependencies,u!==null&&u.firstContext!==null&&(u.lanes&f&&(Wi=!0),u.firstContext=null)}function as(u){var f=Fe?u._currentValue:u._currentValue2;if(Gw!==u)if(u={context:u,memoizedValue:f,next:null},Nu===null){if(Mg===null)throw Error(o(308));Nu=u,Mg.dependencies={lanes:0,firstContext:u}}else Nu=Nu.next=u;return f}var lo=null,Oa=!1;function qw(u){u.updateQueue={baseState:u.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function IP(u,f){u=u.updateQueue,f.updateQueue===u&&(f.updateQueue={baseState:u.baseState,firstBaseUpdate:u.firstBaseUpdate,lastBaseUpdate:u.lastBaseUpdate,shared:u.shared,effects:u.effects})}function Wo(u,f){return{eventTime:u,lane:f,tag:0,payload:null,callback:null,next:null}}function Fa(u,f){var _=u.updateQueue;_!==null&&(_=_.shared,or!==null&&u.mode&1&&!(Gt&2)?(u=_.interleaved,u===null?(f.next=f,lo===null?lo=[_]:lo.push(_)):(f.next=u.next,u.next=f),_.interleaved=f):(u=_.pending,u===null?f.next=f:(f.next=u.next,u.next=f),_.pending=f))}function Eg(u,f,_){if(f=f.updateQueue,f!==null&&(f=f.shared,(_&4194240)!==0)){var M=f.lanes;M&=u.pendingLanes,_|=M,f.lanes=_,zw(u,_)}}function NP(u,f){var _=u.updateQueue,M=u.alternate;if(M!==null&&(M=M.updateQueue,_===M)){var T=null,L=null;if(_=_.firstBaseUpdate,_!==null){do{var X={eventTime:_.eventTime,lane:_.lane,tag:_.tag,payload:_.payload,callback:_.callback,next:null};L===null?T=L=X:L=L.next=X,_=_.next}while(_!==null);L===null?T=L=f:L=L.next=f}else T=L=f;_={baseState:M.baseState,firstBaseUpdate:T,lastBaseUpdate:L,shared:M.shared,effects:M.effects},u.updateQueue=_;return}u=_.lastBaseUpdate,u===null?_.firstBaseUpdate=f:u.next=f,_.lastBaseUpdate=f}function Tg(u,f,_,M){var T=u.updateQueue;Oa=!1;var L=T.firstBaseUpdate,X=T.lastBaseUpdate,ie=T.shared.pending;if(ie!==null){T.shared.pending=null;var we=ie,je=we.next;we.next=null,X===null?L=je:X.next=je,X=we;var ft=u.alternate;ft!==null&&(ft=ft.updateQueue,ie=ft.lastBaseUpdate,ie!==X&&(ie===null?ft.firstBaseUpdate=je:ie.next=je,ft.lastBaseUpdate=we))}if(L!==null){var Nt=T.baseState;X=0,ft=je=we=null,ie=L;do{var Mt=ie.lane,En=ie.eventTime;if((M&Mt)===Mt){ft!==null&&(ft=ft.next={eventTime:En,lane:0,tag:ie.tag,payload:ie.payload,callback:ie.callback,next:null});e:{var xt=u,jr=ie;switch(Mt=f,En=_,jr.tag){case 1:if(xt=jr.payload,typeof xt=="function"){Nt=xt.call(En,Nt,Mt);break e}Nt=xt;break e;case 3:xt.flags=xt.flags&-65537|128;case 0:if(xt=jr.payload,Mt=typeof xt=="function"?xt.call(En,Nt,Mt):xt,Mt==null)break e;Nt=s({},Nt,Mt);break e;case 2:Oa=!0}}ie.callback!==null&&ie.lane!==0&&(u.flags|=64,Mt=T.effects,Mt===null?T.effects=[ie]:Mt.push(ie))}else En={eventTime:En,lane:Mt,tag:ie.tag,payload:ie.payload,callback:ie.callback,next:null},ft===null?(je=ft=En,we=Nt):ft=ft.next=En,X|=Mt;if(ie=ie.next,ie===null){if(ie=T.shared.pending,ie===null)break;Mt=ie,ie=Mt.next,Mt.next=null,T.lastBaseUpdate=Mt,T.shared.pending=null}}while(!0);if(ft===null&&(we=Nt),T.baseState=we,T.firstBaseUpdate=je,T.lastBaseUpdate=ft,f=T.shared.interleaved,f!==null){T=f;do X|=T.lane,T=T.next;while(T!==f)}else L===null&&(T.shared.lanes=0);ju|=X,u.lanes=X,u.memoizedState=Nt}}function LP(u,f,_){if(u=f.effects,f.effects=null,u!==null)for(f=0;f<u.length;f++){var M=u[f],T=M.callback;if(T!==null){if(M.callback=null,M=_,typeof T!="function")throw Error(o(191,T));T.call(M)}}}var DP=new r.Component().refs;function Zw(u,f,_,M){f=u.memoizedState,_=_(M,f),_=_==null?f:s({},f,_),u.memoizedState=_,u.lanes===0&&(u.updateQueue.baseState=_)}var Cg={isMounted:function(u){return(u=u._reactInternals)?N(u)===u:!1},enqueueSetState:function(u,f,_){u=u._reactInternals;var M=si(),T=za(u),L=Wo(M,T);L.payload=f,_!=null&&(L.callback=_),Fa(u,L),f=fs(u,T,M),f!==null&&Eg(f,u,T)},enqueueReplaceState:function(u,f,_){u=u._reactInternals;var M=si(),T=za(u),L=Wo(M,T);L.tag=1,L.payload=f,_!=null&&(L.callback=_),Fa(u,L),f=fs(u,T,M),f!==null&&Eg(f,u,T)},enqueueForceUpdate:function(u,f){u=u._reactInternals;var _=si(),M=za(u),T=Wo(_,M);T.tag=2,f!=null&&(T.callback=f),Fa(u,T),f=fs(u,M,_),f!==null&&Eg(f,u,M)}};function kP(u,f,_,M,T,L,X){return u=u.stateNode,typeof u.shouldComponentUpdate=="function"?u.shouldComponentUpdate(M,L,X):f.prototype&&f.prototype.isPureReactComponent?!Sg(_,M)||!Sg(T,L):!0}function OP(u,f,_){var M=!1,T=qt,L=f.contextType;return typeof L=="object"&&L!==null?L=as(L):(T=$t(f)?on:Wt.current,M=f.contextTypes,L=(M=M!=null)?vt(u,T):qt),f=new f(_,L),u.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Cg,u.stateNode=f,f._reactInternals=u,M&&(u=u.stateNode,u.__reactInternalMemoizedUnmaskedChildContext=T,u.__reactInternalMemoizedMaskedChildContext=L),f}function FP(u,f,_,M){u=f.state,typeof f.componentWillReceiveProps=="function"&&f.componentWillReceiveProps(_,M),typeof f.UNSAFE_componentWillReceiveProps=="function"&&f.UNSAFE_componentWillReceiveProps(_,M),f.state!==u&&Cg.enqueueReplaceState(f,f.state,null)}function Kw(u,f,_,M){var T=u.stateNode;T.props=_,T.state=u.memoizedState,T.refs=DP,qw(u);var L=f.contextType;typeof L=="object"&&L!==null?T.context=as(L):(L=$t(f)?on:Wt.current,T.context=vt(u,L)),T.state=u.memoizedState,L=f.getDerivedStateFromProps,typeof L=="function"&&(Zw(u,f,L,_),T.state=u.memoizedState),typeof f.getDerivedStateFromProps=="function"||typeof T.getSnapshotBeforeUpdate=="function"||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(f=T.state,typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount(),f!==T.state&&Cg.enqueueReplaceState(T,T.state,null),Tg(u,_,T,M),T.state=u.memoizedState),typeof T.componentDidMount=="function"&&(u.flags|=4194308)}var Du=[],ku=0,Ag=null,Pg=0,ls=[],cs=0,rc=null,Go=1,Xo="";function ic(u,f){Du[ku++]=Pg,Du[ku++]=Ag,Ag=u,Pg=f}function UP(u,f,_){ls[cs++]=Go,ls[cs++]=Xo,ls[cs++]=rc,rc=u;var M=Go;u=Xo;var T=32-en(M)-1;M&=~(1<<T),_+=1;var L=32-en(f)+T;if(30<L){var X=T-T%5;L=(M&(1<<X)-1).toString(32),M>>=X,T-=X,Go=1<<32-en(f)+T|_<<T|M,Xo=L+u}else Go=1<<L|_<<T|M,Xo=u}function Qw(u){u.return!==null&&(ic(u,1),UP(u,1,0))}function Jw(u){for(;u===Ag;)Ag=Du[--ku],Du[ku]=null,Pg=Du[--ku],Du[ku]=null;for(;u===rc;)rc=ls[--cs],ls[cs]=null,Xo=ls[--cs],ls[cs]=null,Go=ls[--cs],ls[cs]=null}var ji=null,Hi=null,Nn=!1,th=!1,Ds=null;function BP(u,f){var _=hs(5,null,null,0);_.elementType="DELETED",_.stateNode=f,_.return=u,f=u.deletions,f===null?(u.deletions=[_],u.flags|=16):f.push(_)}function zP(u,f){switch(u.tag){case 5:return f=Fr(f,u.type,u.pendingProps),f!==null?(u.stateNode=f,ji=u,Hi=Ru(f),!0):!1;case 6:return f=fg(f,u.pendingProps),f!==null?(u.stateNode=f,ji=u,Hi=null,!0):!1;case 13:if(f=hg(f),f!==null){var _=rc!==null?{id:Go,overflow:Xo}:null;return u.memoizedState={dehydrated:f,treeContext:_,retryLane:1073741824},_=hs(18,null,null,0),_.stateNode=f,_.return=u,u.child=_,ji=u,Hi=null,!0}return!1;default:return!1}}function eS(u){return(u.mode&1)!==0&&(u.flags&128)===0}function tS(u){if(Nn){var f=Hi;if(f){var _=f;if(!zP(u,f)){if(eS(u))throw Error(o(418));f=La(_);var M=ji;f&&zP(u,f)?BP(M,_):(u.flags=u.flags&-4097|2,Nn=!1,ji=u)}}else{if(eS(u))throw Error(o(418));u.flags=u.flags&-4097|2,Nn=!1,ji=u}}}function VP(u){for(u=u.return;u!==null&&u.tag!==5&&u.tag!==3&&u.tag!==13;)u=u.return;ji=u}function nh(u){if(!Ye||u!==ji)return!1;if(!Nn)return VP(u),Nn=!0,!1;if(u.tag!==3&&(u.tag!==5||z(u.type)&&!be(u.type,u.memoizedProps))){var f=Hi;if(f){if(eS(u)){for(u=Hi;u;)u=La(u);throw Error(o(418))}for(;f;)BP(u,f),f=La(f)}}if(VP(u),u.tag===13){if(!Ye)throw Error(o(316));if(u=u.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(o(317));Hi=Dw(u)}else Hi=ji?La(u.stateNode):null;return!0}function Ou(){Ye&&(Hi=ji=null,th=Nn=!1)}function nS(u){Ds===null?Ds=[u]:Ds.push(u)}function rh(u,f,_){if(u=_.ref,u!==null&&typeof u!="function"&&typeof u!="object"){if(_._owner){if(_=_._owner,_){if(_.tag!==1)throw Error(o(309));var M=_.stateNode}if(!M)throw Error(o(147,u));var T=M,L=""+u;return f!==null&&f.ref!==null&&typeof f.ref=="function"&&f.ref._stringRef===L?f.ref:(f=function(X){var ie=T.refs;ie===DP&&(ie=T.refs={}),X===null?delete ie[L]:ie[L]=X},f._stringRef=L,f)}if(typeof u!="string")throw Error(o(284));if(!_._owner)throw Error(o(290,u))}return u}function Rg(u,f){throw u=Object.prototype.toString.call(f),Error(o(31,u==="[object Object]"?"object with keys {"+Object.keys(f).join(", ")+"}":u))}function jP(u){var f=u._init;return f(u._payload)}function HP(u){function f(fe,se){if(u){var xe=fe.deletions;xe===null?(fe.deletions=[se],fe.flags|=16):xe.push(se)}}function _(fe,se){if(!u)return null;for(;se!==null;)f(fe,se),se=se.sibling;return null}function M(fe,se){for(fe=new Map;se!==null;)se.key!==null?fe.set(se.key,se):fe.set(se.index,se),se=se.sibling;return fe}function T(fe,se){return fe=ja(fe,se),fe.index=0,fe.sibling=null,fe}function L(fe,se,xe){return fe.index=xe,u?(xe=fe.alternate,xe!==null?(xe=xe.index,xe<se?(fe.flags|=2,se):xe):(fe.flags|=2,se)):(fe.flags|=1048576,se)}function X(fe){return u&&fe.alternate===null&&(fe.flags|=2),fe}function ie(fe,se,xe,st){return se===null||se.tag!==6?(se=BS(xe,fe.mode,st),se.return=fe,se):(se=T(se,xe),se.return=fe,se)}function we(fe,se,xe,st){var yt=xe.type;return yt===d?ft(fe,se,xe.props.children,st,xe.key):se!==null&&(se.elementType===yt||typeof yt=="object"&&yt!==null&&yt.$$typeof===b&&jP(yt)===se.type)?(st=T(se,xe.props),st.ref=rh(fe,se,xe),st.return=fe,st):(st=av(xe.type,xe.key,xe.props,null,fe.mode,st),st.ref=rh(fe,se,xe),st.return=fe,st)}function je(fe,se,xe,st){return se===null||se.tag!==4||se.stateNode.containerInfo!==xe.containerInfo||se.stateNode.implementation!==xe.implementation?(se=zS(xe,fe.mode,st),se.return=fe,se):(se=T(se,xe.children||[]),se.return=fe,se)}function ft(fe,se,xe,st,yt){return se===null||se.tag!==7?(se=dc(xe,fe.mode,st,yt),se.return=fe,se):(se=T(se,xe),se.return=fe,se)}function Nt(fe,se,xe){if(typeof se=="string"&&se!==""||typeof se=="number")return se=BS(""+se,fe.mode,xe),se.return=fe,se;if(typeof se=="object"&&se!==null){switch(se.$$typeof){case l:return xe=av(se.type,se.key,se.props,null,fe.mode,xe),xe.ref=rh(fe,null,se),xe.return=fe,xe;case c:return se=zS(se,fe.mode,xe),se.return=fe,se;case b:var st=se._init;return Nt(fe,st(se._payload),xe)}if(ne(se)||A(se))return se=dc(se,fe.mode,xe,null),se.return=fe,se;Rg(fe,se)}return null}function Mt(fe,se,xe,st){var yt=se!==null?se.key:null;if(typeof xe=="string"&&xe!==""||typeof xe=="number")return yt!==null?null:ie(fe,se,""+xe,st);if(typeof xe=="object"&&xe!==null){switch(xe.$$typeof){case l:return xe.key===yt?we(fe,se,xe,st):null;case c:return xe.key===yt?je(fe,se,xe,st):null;case b:return yt=xe._init,Mt(fe,se,yt(xe._payload),st)}if(ne(xe)||A(xe))return yt!==null?null:ft(fe,se,xe,st,null);Rg(fe,xe)}return null}function En(fe,se,xe,st,yt){if(typeof st=="string"&&st!==""||typeof st=="number")return fe=fe.get(xe)||null,ie(se,fe,""+st,yt);if(typeof st=="object"&&st!==null){switch(st.$$typeof){case l:return fe=fe.get(st.key===null?xe:st.key)||null,we(se,fe,st,yt);case c:return fe=fe.get(st.key===null?xe:st.key)||null,je(se,fe,st,yt);case b:var jt=st._init;return En(fe,se,xe,jt(st._payload),yt)}if(ne(st)||A(st))return fe=fe.get(xe)||null,ft(se,fe,st,yt,null);Rg(se,st)}return null}function xt(fe,se,xe,st){for(var yt=null,jt=null,Lt=se,vn=se=0,Mr=null;Lt!==null&&vn<xe.length;vn++){Lt.index>vn?(Mr=Lt,Lt=null):Mr=Lt.sibling;var yn=Mt(fe,Lt,xe[vn],st);if(yn===null){Lt===null&&(Lt=Mr);break}u&&Lt&&yn.alternate===null&&f(fe,Lt),se=L(yn,se,vn),jt===null?yt=yn:jt.sibling=yn,jt=yn,Lt=Mr}if(vn===xe.length)return _(fe,Lt),Nn&&ic(fe,vn),yt;if(Lt===null){for(;vn<xe.length;vn++)Lt=Nt(fe,xe[vn],st),Lt!==null&&(se=L(Lt,se,vn),jt===null?yt=Lt:jt.sibling=Lt,jt=Lt);return Nn&&ic(fe,vn),yt}for(Lt=M(fe,Lt);vn<xe.length;vn++)Mr=En(Lt,fe,vn,xe[vn],st),Mr!==null&&(u&&Mr.alternate!==null&&Lt.delete(Mr.key===null?vn:Mr.key),se=L(Mr,se,vn),jt===null?yt=Mr:jt.sibling=Mr,jt=Mr);return u&&Lt.forEach(function(Ha){return f(fe,Ha)}),Nn&&ic(fe,vn),yt}function jr(fe,se,xe,st){var yt=A(xe);if(typeof yt!="function")throw Error(o(150));if(xe=yt.call(xe),xe==null)throw Error(o(151));for(var jt=yt=null,Lt=se,vn=se=0,Mr=null,yn=xe.next();Lt!==null&&!yn.done;vn++,yn=xe.next()){Lt.index>vn?(Mr=Lt,Lt=null):Mr=Lt.sibling;var Ha=Mt(fe,Lt,yn.value,st);if(Ha===null){Lt===null&&(Lt=Mr);break}u&&Lt&&Ha.alternate===null&&f(fe,Lt),se=L(Ha,se,vn),jt===null?yt=Ha:jt.sibling=Ha,jt=Ha,Lt=Mr}if(yn.done)return _(fe,Lt),Nn&&ic(fe,vn),yt;if(Lt===null){for(;!yn.done;vn++,yn=xe.next())yn=Nt(fe,yn.value,st),yn!==null&&(se=L(yn,se,vn),jt===null?yt=yn:jt.sibling=yn,jt=yn);return Nn&&ic(fe,vn),yt}for(Lt=M(fe,Lt);!yn.done;vn++,yn=xe.next())yn=En(Lt,fe,vn,yn.value,st),yn!==null&&(u&&yn.alternate!==null&&Lt.delete(yn.key===null?vn:yn.key),se=L(yn,se,vn),jt===null?yt=yn:jt.sibling=yn,jt=yn);return u&&Lt.forEach(function(w6){return f(fe,w6)}),Nn&&ic(fe,vn),yt}function ps(fe,se,xe,st){if(typeof xe=="object"&&xe!==null&&xe.type===d&&xe.key===null&&(xe=xe.props.children),typeof xe=="object"&&xe!==null){switch(xe.$$typeof){case l:e:{for(var yt=xe.key,jt=se;jt!==null;){if(jt.key===yt){if(yt=xe.type,yt===d){if(jt.tag===7){_(fe,jt.sibling),se=T(jt,xe.props.children),se.return=fe,fe=se;break e}}else if(jt.elementType===yt||typeof yt=="object"&&yt!==null&&yt.$$typeof===b&&jP(yt)===jt.type){_(fe,jt.sibling),se=T(jt,xe.props),se.ref=rh(fe,jt,xe),se.return=fe,fe=se;break e}_(fe,jt);break}else f(fe,jt);jt=jt.sibling}xe.type===d?(se=dc(xe.props.children,fe.mode,st,xe.key),se.return=fe,fe=se):(st=av(xe.type,xe.key,xe.props,null,fe.mode,st),st.ref=rh(fe,se,xe),st.return=fe,fe=st)}return X(fe);case c:e:{for(jt=xe.key;se!==null;){if(se.key===jt)if(se.tag===4&&se.stateNode.containerInfo===xe.containerInfo&&se.stateNode.implementation===xe.implementation){_(fe,se.sibling),se=T(se,xe.children||[]),se.return=fe,fe=se;break e}else{_(fe,se);break}else f(fe,se);se=se.sibling}se=zS(xe,fe.mode,st),se.return=fe,fe=se}return X(fe);case b:return jt=xe._init,ps(fe,se,jt(xe._payload),st)}if(ne(xe))return xt(fe,se,xe,st);if(A(xe))return jr(fe,se,xe,st);Rg(fe,xe)}return typeof xe=="string"&&xe!==""||typeof xe=="number"?(xe=""+xe,se!==null&&se.tag===6?(_(fe,se.sibling),se=T(se,xe),se.return=fe,fe=se):(_(fe,se),se=BS(xe,fe.mode,st),se.return=fe,fe=se),X(fe)):_(fe,se)}return ps}var Fu=HP(!0),WP=HP(!1),ih={},us=St(ih),sh=St(ih),Uu=St(ih);function co(u){if(u===ih)throw Error(o(174));return u}function rS(u,f){mt(Uu,f),mt(sh,u),mt(us,ih),u=re(f),Xe(us),mt(us,u)}function Bu(){Xe(us),Xe(sh),Xe(Uu)}function GP(u){var f=co(Uu.current),_=co(us.current);f=k(_,u.type,f),_!==f&&(mt(sh,u),mt(us,f))}function iS(u){sh.current===u&&(Xe(us),Xe(sh))}var On=St(0);function Ig(u){for(var f=u;f!==null;){if(f.tag===13){var _=f.memoizedState;if(_!==null&&(_=_.dehydrated,_===null||io(_)||nc(_)))return f}else if(f.tag===19&&f.memoizedProps.revealOrder!==void 0){if(f.flags&128)return f}else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===u)break;for(;f.sibling===null;){if(f.return===null||f.return===u)return null;f=f.return}f.sibling.return=f.return,f=f.sibling}return null}var sS=[];function oS(){for(var u=0;u<sS.length;u++){var f=sS[u];Fe?f._workInProgressVersionPrimary=null:f._workInProgressVersionSecondary=null}sS.length=0}var Ng=a.ReactCurrentDispatcher,ds=a.ReactCurrentBatchConfig,zu=0,Wn=null,Br=null,br=null,Lg=!1,oh=!1,ah=0,XH=0;function zr(){throw Error(o(321))}function aS(u,f){if(f===null)return!1;for(var _=0;_<f.length&&_<u.length;_++)if(!oo(u[_],f[_]))return!1;return!0}function lS(u,f,_,M,T,L){if(zu=L,Wn=f,f.memoizedState=null,f.updateQueue=null,f.lanes=0,Ng.current=u===null||u.memoizedState===null?ZH:KH,u=_(M,T),oh){L=0;do{if(oh=!1,ah=0,25<=L)throw Error(o(301));L+=1,br=Br=null,f.updateQueue=null,Ng.current=QH,u=_(M,T)}while(oh)}if(Ng.current=Ug,f=Br!==null&&Br.next!==null,zu=0,br=Br=Wn=null,Lg=!1,f)throw Error(o(300));return u}function cS(){var u=ah!==0;return ah=0,u}function $o(){var u={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return br===null?Wn.memoizedState=br=u:br=br.next=u,br}function uo(){if(Br===null){var u=Wn.alternate;u=u!==null?u.memoizedState:null}else u=Br.next;var f=br===null?Wn.memoizedState:br.next;if(f!==null)br=f,Br=u;else{if(u===null)throw Error(o(310));Br=u,u={memoizedState:Br.memoizedState,baseState:Br.baseState,baseQueue:Br.baseQueue,queue:Br.queue,next:null},br===null?Wn.memoizedState=br=u:br=br.next=u}return br}function sc(u,f){return typeof f=="function"?f(u):f}function Dg(u){var f=uo(),_=f.queue;if(_===null)throw Error(o(311));_.lastRenderedReducer=u;var M=Br,T=M.baseQueue,L=_.pending;if(L!==null){if(T!==null){var X=T.next;T.next=L.next,L.next=X}M.baseQueue=T=L,_.pending=null}if(T!==null){L=T.next,M=M.baseState;var ie=X=null,we=null,je=L;do{var ft=je.lane;if((zu&ft)===ft)we!==null&&(we=we.next={lane:0,action:je.action,hasEagerState:je.hasEagerState,eagerState:je.eagerState,next:null}),M=je.hasEagerState?je.eagerState:u(M,je.action);else{var Nt={lane:ft,action:je.action,hasEagerState:je.hasEagerState,eagerState:je.eagerState,next:null};we===null?(ie=we=Nt,X=M):we=we.next=Nt,Wn.lanes|=ft,ju|=ft}je=je.next}while(je!==null&&je!==L);we===null?X=M:we.next=ie,oo(M,f.memoizedState)||(Wi=!0),f.memoizedState=M,f.baseState=X,f.baseQueue=we,_.lastRenderedState=M}if(u=_.interleaved,u!==null){T=u;do L=T.lane,Wn.lanes|=L,ju|=L,T=T.next;while(T!==u)}else T===null&&(_.lanes=0);return[f.memoizedState,_.dispatch]}function kg(u){var f=uo(),_=f.queue;if(_===null)throw Error(o(311));_.lastRenderedReducer=u;var M=_.dispatch,T=_.pending,L=f.memoizedState;if(T!==null){_.pending=null;var X=T=T.next;do L=u(L,X.action),X=X.next;while(X!==T);oo(L,f.memoizedState)||(Wi=!0),f.memoizedState=L,f.baseQueue===null&&(f.baseState=L),_.lastRenderedState=L}return[L,M]}function XP(){}function $P(u,f){var _=Wn,M=uo(),T=f(),L=!oo(M.memoizedState,T);if(L&&(M.memoizedState=T,Wi=!0),M=M.queue,ch(ZP.bind(null,_,M,u),[u]),M.getSnapshot!==f||L||br!==null&&br.memoizedState.tag&1){if(_.flags|=2048,lh(9,qP.bind(null,_,M,T,f),void 0,null),or===null)throw Error(o(349));zu&30||YP(_,f,T)}return T}function YP(u,f,_){u.flags|=16384,u={getSnapshot:f,value:_},f=Wn.updateQueue,f===null?(f={lastEffect:null,stores:null},Wn.updateQueue=f,f.stores=[u]):(_=f.stores,_===null?f.stores=[u]:_.push(u))}function qP(u,f,_,M){f.value=_,f.getSnapshot=M,KP(f)&&fs(u,1,-1)}function ZP(u,f,_){return _(function(){KP(f)&&fs(u,1,-1)})}function KP(u){var f=u.getSnapshot;u=u.value;try{var _=f();return!oo(u,_)}catch{return!0}}function uS(u){var f=$o();return typeof u=="function"&&(u=u()),f.memoizedState=f.baseState=u,u={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:sc,lastRenderedState:u},f.queue=u,u=u.dispatch=qH.bind(null,Wn,u),[f.memoizedState,u]}function lh(u,f,_,M){return u={tag:u,create:f,destroy:_,deps:M,next:null},f=Wn.updateQueue,f===null?(f={lastEffect:null,stores:null},Wn.updateQueue=f,f.lastEffect=u.next=u):(_=f.lastEffect,_===null?f.lastEffect=u.next=u:(M=_.next,_.next=u,u.next=M,f.lastEffect=u)),u}function QP(){return uo().memoizedState}function Og(u,f,_,M){var T=$o();Wn.flags|=u,T.memoizedState=lh(1|f,_,void 0,M===void 0?null:M)}function Fg(u,f,_,M){var T=uo();M=M===void 0?null:M;var L=void 0;if(Br!==null){var X=Br.memoizedState;if(L=X.destroy,M!==null&&aS(M,X.deps)){T.memoizedState=lh(f,_,L,M);return}}Wn.flags|=u,T.memoizedState=lh(1|f,_,L,M)}function dS(u,f){return Og(8390656,8,u,f)}function ch(u,f){return Fg(2048,8,u,f)}function JP(u,f){return Fg(4,2,u,f)}function eR(u,f){return Fg(4,4,u,f)}function tR(u,f){if(typeof f=="function")return u=u(),f(u),function(){f(null)};if(f!=null)return u=u(),f.current=u,function(){f.current=null}}function nR(u,f,_){return _=_!=null?_.concat([u]):null,Fg(4,4,tR.bind(null,f,u),_)}function fS(){}function rR(u,f){var _=uo();f=f===void 0?null:f;var M=_.memoizedState;return M!==null&&f!==null&&aS(f,M[1])?M[0]:(_.memoizedState=[u,f],u)}function iR(u,f){var _=uo();f=f===void 0?null:f;var M=_.memoizedState;return M!==null&&f!==null&&aS(f,M[1])?M[0]:(u=u(),_.memoizedState=[u,f],u)}function $H(u,f){var _=gn;gn=_!==0&&4>_?_:4,u(!0);var M=ds.transition;ds.transition={};try{u(!1),f()}finally{gn=_,ds.transition=M}}function sR(){return uo().memoizedState}function YH(u,f,_){var M=za(u);_={lane:M,action:_,hasEagerState:!1,eagerState:null,next:null},oR(u)?aR(f,_):(lR(u,f,_),_=si(),u=fs(u,M,_),u!==null&&cR(u,f,M))}function qH(u,f,_){var M=za(u),T={lane:M,action:_,hasEagerState:!1,eagerState:null,next:null};if(oR(u))aR(f,T);else{lR(u,f,T);var L=u.alternate;if(u.lanes===0&&(L===null||L.lanes===0)&&(L=f.lastRenderedReducer,L!==null))try{var X=f.lastRenderedState,ie=L(X,_);if(T.hasEagerState=!0,T.eagerState=ie,oo(ie,X))return}catch{}finally{}_=si(),u=fs(u,M,_),u!==null&&cR(u,f,M)}}function oR(u){var f=u.alternate;return u===Wn||f!==null&&f===Wn}function aR(u,f){oh=Lg=!0;var _=u.pending;_===null?f.next=f:(f.next=_.next,_.next=f),u.pending=f}function lR(u,f,_){or!==null&&u.mode&1&&!(Gt&2)?(u=f.interleaved,u===null?(_.next=_,lo===null?lo=[f]:lo.push(f)):(_.next=u.next,u.next=_),f.interleaved=_):(u=f.pending,u===null?_.next=_:(_.next=u.next,u.next=_),f.pending=_)}function cR(u,f,_){if(_&4194240){var M=f.lanes;M&=u.pendingLanes,_|=M,f.lanes=_,zw(u,_)}}var Ug={readContext:as,useCallback:zr,useContext:zr,useEffect:zr,useImperativeHandle:zr,useInsertionEffect:zr,useLayoutEffect:zr,useMemo:zr,useReducer:zr,useRef:zr,useState:zr,useDebugValue:zr,useDeferredValue:zr,useTransition:zr,useMutableSource:zr,useSyncExternalStore:zr,useId:zr,unstable_isNewReconciler:!1},ZH={readContext:as,useCallback:function(u,f){return $o().memoizedState=[u,f===void 0?null:f],u},useContext:as,useEffect:dS,useImperativeHandle:function(u,f,_){return _=_!=null?_.concat([u]):null,Og(4194308,4,tR.bind(null,f,u),_)},useLayoutEffect:function(u,f){return Og(4194308,4,u,f)},useInsertionEffect:function(u,f){return Og(4,2,u,f)},useMemo:function(u,f){var _=$o();return f=f===void 0?null:f,u=u(),_.memoizedState=[u,f],u},useReducer:function(u,f,_){var M=$o();return f=_!==void 0?_(f):f,M.memoizedState=M.baseState=f,u={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:u,lastRenderedState:f},M.queue=u,u=u.dispatch=YH.bind(null,Wn,u),[M.memoizedState,u]},useRef:function(u){var f=$o();return u={current:u},f.memoizedState=u},useState:uS,useDebugValue:fS,useDeferredValue:function(u){var f=uS(u),_=f[0],M=f[1];return dS(function(){var T=ds.transition;ds.transition={};try{M(u)}finally{ds.transition=T}},[u]),_},useTransition:function(){var u=uS(!1),f=u[0];return u=$H.bind(null,u[1]),$o().memoizedState=u,[f,u]},useMutableSource:function(){},useSyncExternalStore:function(u,f,_){var M=Wn,T=$o();if(Nn){if(_===void 0)throw Error(o(407));_=_()}else{if(_=f(),or===null)throw Error(o(349));zu&30||YP(M,f,_)}T.memoizedState=_;var L={value:_,getSnapshot:f};return T.queue=L,dS(ZP.bind(null,M,L,u),[u]),M.flags|=2048,lh(9,qP.bind(null,M,L,_,f),void 0,null),_},useId:function(){var u=$o(),f=or.identifierPrefix;if(Nn){var _=Xo,M=Go;_=(M&~(1<<32-en(M)-1)).toString(32)+_,f=":"+f+"R"+_,_=ah++,0<_&&(f+="H"+_.toString(32)),f+=":"}else _=XH++,f=":"+f+"r"+_.toString(32)+":";return u.memoizedState=f},unstable_isNewReconciler:!1},KH={readContext:as,useCallback:rR,useContext:as,useEffect:ch,useImperativeHandle:nR,useInsertionEffect:JP,useLayoutEffect:eR,useMemo:iR,useReducer:Dg,useRef:QP,useState:function(){return Dg(sc)},useDebugValue:fS,useDeferredValue:function(u){var f=Dg(sc),_=f[0],M=f[1];return ch(function(){var T=ds.transition;ds.transition={};try{M(u)}finally{ds.transition=T}},[u]),_},useTransition:function(){var u=Dg(sc)[0],f=uo().memoizedState;return[u,f]},useMutableSource:XP,useSyncExternalStore:$P,useId:sR,unstable_isNewReconciler:!1},QH={readContext:as,useCallback:rR,useContext:as,useEffect:ch,useImperativeHandle:nR,useInsertionEffect:JP,useLayoutEffect:eR,useMemo:iR,useReducer:kg,useRef:QP,useState:function(){return kg(sc)},useDebugValue:fS,useDeferredValue:function(u){var f=kg(sc),_=f[0],M=f[1];return ch(function(){var T=ds.transition;ds.transition={};try{M(u)}finally{ds.transition=T}},[u]),_},useTransition:function(){var u=kg(sc)[0],f=uo().memoizedState;return[u,f]},useMutableSource:XP,useSyncExternalStore:$P,useId:sR,unstable_isNewReconciler:!1};function hS(u,f){try{var _="",M=f;do _+=GH(M),M=M.return;while(M);var T=_}catch(L){T=`
Error generating stack: `+L.message+`
`+L.stack}return{value:u,source:f,stack:T}}function pS(u,f){try{console.error(f.value)}catch(_){setTimeout(function(){throw _})}}var JH=typeof WeakMap=="function"?WeakMap:Map;function uR(u,f,_){_=Wo(-1,_),_.tag=3,_.payload={element:null};var M=f.value;return _.callback=function(){ev||(ev=!0,NS=M),pS(u,f)},_}function dR(u,f,_){_=Wo(-1,_),_.tag=3;var M=u.type.getDerivedStateFromError;if(typeof M=="function"){var T=f.value;_.payload=function(){return M(T)},_.callback=function(){pS(u,f)}}var L=u.stateNode;return L!==null&&typeof L.componentDidCatch=="function"&&(_.callback=function(){pS(u,f),typeof M!="function"&&(Ua===null?Ua=new Set([this]):Ua.add(this));var X=f.stack;this.componentDidCatch(f.value,{componentStack:X!==null?X:""})}),_}function fR(u,f,_){var M=u.pingCache;if(M===null){M=u.pingCache=new JH;var T=new Set;M.set(f,T)}else T=M.get(f),T===void 0&&(T=new Set,M.set(f,T));T.has(_)||(T.add(_),u=h6.bind(null,u,f,_),f.then(u,u))}function hR(u){do{var f;if((f=u.tag===13)&&(f=u.memoizedState,f=f!==null?f.dehydrated!==null:!0),f)return u;u=u.return}while(u!==null);return null}function pR(u,f,_,M,T){return u.mode&1?(u.flags|=65536,u.lanes=T,u):(u===f?u.flags|=65536:(u.flags|=128,_.flags|=131072,_.flags&=-52805,_.tag===1&&(_.alternate===null?_.tag=17:(f=Wo(-1,1),f.tag=2,Fa(_,f))),_.lanes|=1),u)}function fo(u){u.flags|=4}function mR(u,f){if(u!==null&&u.child===f.child)return!0;if(f.flags&16)return!1;for(u=f.child;u!==null;){if(u.flags&12854||u.subtreeFlags&12854)return!1;u=u.sibling}return!0}var uh,dh,Bg,zg;if(nt)uh=function(u,f){for(var _=f.child;_!==null;){if(_.tag===5||_.tag===6)de(u,_.stateNode);else if(_.tag!==4&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===f)break;for(;_.sibling===null;){if(_.return===null||_.return===f)return;_=_.return}_.sibling.return=_.return,_=_.sibling}},dh=function(){},Bg=function(u,f,_,M,T){if(u=u.memoizedProps,u!==M){var L=f.stateNode,X=co(us.current);_=ae(L,_,u,M,T,X),(f.updateQueue=_)&&fo(f)}},zg=function(u,f,_,M){_!==M&&fo(f)};else if(qe){uh=function(u,f,_,M){for(var T=f.child;T!==null;){if(T.tag===5){var L=T.stateNode;_&&M&&(L=Xt(L,T.type,T.memoizedProps,T)),de(u,L)}else if(T.tag===6)L=T.stateNode,_&&M&&(L=sr(L,T.memoizedProps,T)),de(u,L);else if(T.tag!==4){if(T.tag===22&&T.memoizedState!==null)L=T.child,L!==null&&(L.return=T),uh(u,T,!0,!0);else if(T.child!==null){T.child.return=T,T=T.child;continue}}if(T===f)break;for(;T.sibling===null;){if(T.return===null||T.return===f)return;T=T.return}T.sibling.return=T.return,T=T.sibling}};var gR=function(u,f,_,M){for(var T=f.child;T!==null;){if(T.tag===5){var L=T.stateNode;_&&M&&(L=Xt(L,T.type,T.memoizedProps,T)),Je(u,L)}else if(T.tag===6)L=T.stateNode,_&&M&&(L=sr(L,T.memoizedProps,T)),Je(u,L);else if(T.tag!==4){if(T.tag===22&&T.memoizedState!==null)L=T.child,L!==null&&(L.return=T),gR(u,T,!0,!0);else if(T.child!==null){T.child.return=T,T=T.child;continue}}if(T===f)break;for(;T.sibling===null;){if(T.return===null||T.return===f)return;T=T.return}T.sibling.return=T.return,T=T.sibling}};dh=function(u,f){var _=f.stateNode;if(!mR(u,f)){u=_.containerInfo;var M=Pe(u);gR(M,f,!1,!1),_.pendingChildren=M,fo(f),wt(u,M)}},Bg=function(u,f,_,M,T){var L=u.stateNode,X=u.memoizedProps;if((u=mR(u,f))&&X===M)f.stateNode=L;else{var ie=f.stateNode,we=co(us.current),je=null;X!==M&&(je=ae(ie,_,X,M,T,we)),u&&je===null?f.stateNode=L:(L=De(L,je,_,X,M,f,u,ie),Ae(L,_,M,T,we)&&fo(f),f.stateNode=L,u?fo(f):uh(L,f,!1,!1))}},zg=function(u,f,_,M){_!==M?(u=co(Uu.current),_=co(us.current),f.stateNode=Ee(M,u,_,f),fo(f)):f.stateNode=u.stateNode}}else dh=function(){},Bg=function(){},zg=function(){};function fh(u,f){if(!Nn)switch(u.tailMode){case"hidden":f=u.tail;for(var _=null;f!==null;)f.alternate!==null&&(_=f),f=f.sibling;_===null?u.tail=null:_.sibling=null;break;case"collapsed":_=u.tail;for(var M=null;_!==null;)_.alternate!==null&&(M=_),_=_.sibling;M===null?f||u.tail===null?u.tail=null:u.tail.sibling=null:M.sibling=null}}function Vr(u){var f=u.alternate!==null&&u.alternate.child===u.child,_=0,M=0;if(f)for(var T=u.child;T!==null;)_|=T.lanes|T.childLanes,M|=T.subtreeFlags&14680064,M|=T.flags&14680064,T.return=u,T=T.sibling;else for(T=u.child;T!==null;)_|=T.lanes|T.childLanes,M|=T.subtreeFlags,M|=T.flags,T.return=u,T=T.sibling;return u.subtreeFlags|=M,u.childLanes=_,f}function e6(u,f,_){var M=f.pendingProps;switch(Jw(f),f.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vr(f),null;case 1:return $t(f.type)&&Zt(),Vr(f),null;case 3:return M=f.stateNode,Bu(),Xe(Vt),Xe(Wt),oS(),M.pendingContext&&(M.context=M.pendingContext,M.pendingContext=null),(u===null||u.child===null)&&(nh(f)?fo(f):u===null||u.memoizedState.isDehydrated&&!(f.flags&256)||(f.flags|=1024,Ds!==null&&(kS(Ds),Ds=null))),dh(u,f),Vr(f),null;case 5:iS(f),_=co(Uu.current);var T=f.type;if(u!==null&&f.stateNode!=null)Bg(u,f,T,M,_),u.ref!==f.ref&&(f.flags|=512,f.flags|=2097152);else{if(!M){if(f.stateNode===null)throw Error(o(166));return Vr(f),null}if(u=co(us.current),nh(f)){if(!Ye)throw Error(o(175));u=gg(f.stateNode,f.type,f.memoizedProps,_,u,f,!th),f.updateQueue=u,u!==null&&fo(f)}else{var L=ee(T,M,_,u,f);uh(L,f,!1,!1),f.stateNode=L,Ae(L,T,M,_,u)&&fo(f)}f.ref!==null&&(f.flags|=512,f.flags|=2097152)}return Vr(f),null;case 6:if(u&&f.stateNode!=null)zg(u,f,u.memoizedProps,M);else{if(typeof M!="string"&&f.stateNode===null)throw Error(o(166));if(u=co(Uu.current),_=co(us.current),nh(f)){if(!Ye)throw Error(o(176));if(u=f.stateNode,M=f.memoizedProps,(_=vg(u,M,f,!th))&&(T=ji,T!==null))switch(L=(T.mode&1)!==0,T.tag){case 3:le(T.stateNode.containerInfo,u,M,L);break;case 5:he(T.type,T.memoizedProps,T.stateNode,u,M,L)}_&&fo(f)}else f.stateNode=Ee(M,u,_,f)}return Vr(f),null;case 13:if(Xe(On),M=f.memoizedState,Nn&&Hi!==null&&f.mode&1&&!(f.flags&128)){for(u=Hi;u;)u=La(u);return Ou(),f.flags|=98560,f}if(M!==null&&M.dehydrated!==null){if(M=nh(f),u===null){if(!M)throw Error(o(318));if(!Ye)throw Error(o(344));if(u=f.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(o(317));Lw(u,f)}else Ou(),!(f.flags&128)&&(f.memoizedState=null),f.flags|=4;return Vr(f),null}return Ds!==null&&(kS(Ds),Ds=null),f.flags&128?(f.lanes=_,f):(M=M!==null,_=!1,u===null?nh(f):_=u.memoizedState!==null,M&&!_&&(f.child.flags|=8192,f.mode&1&&(u===null||On.current&1?pr===0&&(pr=3):FS())),f.updateQueue!==null&&(f.flags|=4),Vr(f),null);case 4:return Bu(),dh(u,f),u===null&&Oe(f.stateNode.containerInfo),Vr(f),null;case 10:return $w(f.type._context),Vr(f),null;case 17:return $t(f.type)&&Zt(),Vr(f),null;case 19:if(Xe(On),T=f.memoizedState,T===null)return Vr(f),null;if(M=(f.flags&128)!==0,L=T.rendering,L===null)if(M)fh(T,!1);else{if(pr!==0||u!==null&&u.flags&128)for(u=f.child;u!==null;){if(L=Ig(u),L!==null){for(f.flags|=128,fh(T,!1),u=L.updateQueue,u!==null&&(f.updateQueue=u,f.flags|=4),f.subtreeFlags=0,u=_,M=f.child;M!==null;)_=M,T=u,_.flags&=14680066,L=_.alternate,L===null?(_.childLanes=0,_.lanes=T,_.child=null,_.subtreeFlags=0,_.memoizedProps=null,_.memoizedState=null,_.updateQueue=null,_.dependencies=null,_.stateNode=null):(_.childLanes=L.childLanes,_.lanes=L.lanes,_.child=L.child,_.subtreeFlags=0,_.deletions=null,_.memoizedProps=L.memoizedProps,_.memoizedState=L.memoizedState,_.updateQueue=L.updateQueue,_.type=L.type,T=L.dependencies,_.dependencies=T===null?null:{lanes:T.lanes,firstContext:T.firstContext}),M=M.sibling;return mt(On,On.current&1|2),f.child}u=u.sibling}T.tail!==null&&Sr()>IS&&(f.flags|=128,M=!0,fh(T,!1),f.lanes=4194304)}else{if(!M)if(u=Ig(L),u!==null){if(f.flags|=128,M=!0,u=u.updateQueue,u!==null&&(f.updateQueue=u,f.flags|=4),fh(T,!0),T.tail===null&&T.tailMode==="hidden"&&!L.alternate&&!Nn)return Vr(f),null}else 2*Sr()-T.renderingStartTime>IS&&_!==1073741824&&(f.flags|=128,M=!0,fh(T,!1),f.lanes=4194304);T.isBackwards?(L.sibling=f.child,f.child=L):(u=T.last,u!==null?u.sibling=L:f.child=L,T.last=L)}return T.tail!==null?(f=T.tail,T.rendering=f,T.tail=f.sibling,T.renderingStartTime=Sr(),f.sibling=null,u=On.current,mt(On,M?u&1|2:u&1),f):(Vr(f),null);case 22:case 23:return OS(),M=f.memoizedState!==null,u!==null&&u.memoizedState!==null!==M&&(f.flags|=8192),M&&f.mode&1?Gi&1073741824&&(Vr(f),nt&&f.subtreeFlags&6&&(f.flags|=8192)):Vr(f),null;case 24:return null;case 25:return null}throw Error(o(156,f.tag))}var t6=a.ReactCurrentOwner,Wi=!1;function ii(u,f,_,M){f.child=u===null?WP(f,null,_,M):Fu(f,u.child,_,M)}function vR(u,f,_,M,T){_=_.render;var L=f.ref;return Lu(f,T),M=lS(u,f,_,M,L,T),_=cS(),u!==null&&!Wi?(f.updateQueue=u.updateQueue,f.flags&=-2053,u.lanes&=~T,Yo(u,f,T)):(Nn&&_&&Qw(f),f.flags|=1,ii(u,f,M,T),f.child)}function yR(u,f,_,M,T){if(u===null){var L=_.type;return typeof L=="function"&&!US(L)&&L.defaultProps===void 0&&_.compare===null&&_.defaultProps===void 0?(f.tag=15,f.type=L,xR(u,f,L,M,T)):(u=av(_.type,null,M,f,f.mode,T),u.ref=f.ref,u.return=f,f.child=u)}if(L=u.child,!(u.lanes&T)){var X=L.memoizedProps;if(_=_.compare,_=_!==null?_:Sg,_(X,M)&&u.ref===f.ref)return Yo(u,f,T)}return f.flags|=1,u=ja(L,M),u.ref=f.ref,u.return=f,f.child=u}function xR(u,f,_,M,T){if(u!==null&&Sg(u.memoizedProps,M)&&u.ref===f.ref)if(Wi=!1,(u.lanes&T)!==0)u.flags&131072&&(Wi=!0);else return f.lanes=u.lanes,Yo(u,f,T);return mS(u,f,_,M,T)}function _R(u,f,_){var M=f.pendingProps,T=M.children,L=u!==null?u.memoizedState:null;if(M.mode==="hidden")if(!(f.mode&1))f.memoizedState={baseLanes:0,cachePool:null},mt(Vu,Gi),Gi|=_;else if(_&1073741824)f.memoizedState={baseLanes:0,cachePool:null},M=L!==null?L.baseLanes:_,mt(Vu,Gi),Gi|=M;else return u=L!==null?L.baseLanes|_:_,f.lanes=f.childLanes=1073741824,f.memoizedState={baseLanes:u,cachePool:null},f.updateQueue=null,mt(Vu,Gi),Gi|=u,null;else L!==null?(M=L.baseLanes|_,f.memoizedState=null):M=_,mt(Vu,Gi),Gi|=M;return ii(u,f,T,_),f.child}function wR(u,f){var _=f.ref;(u===null&&_!==null||u!==null&&u.ref!==_)&&(f.flags|=512,f.flags|=2097152)}function mS(u,f,_,M,T){var L=$t(_)?on:Wt.current;return L=vt(f,L),Lu(f,T),_=lS(u,f,_,M,L,T),M=cS(),u!==null&&!Wi?(f.updateQueue=u.updateQueue,f.flags&=-2053,u.lanes&=~T,Yo(u,f,T)):(Nn&&M&&Qw(f),f.flags|=1,ii(u,f,_,T),f.child)}function SR(u,f,_,M,T){if($t(_)){var L=!0;wr(f)}else L=!1;if(Lu(f,T),f.stateNode===null)u!==null&&(u.alternate=null,f.alternate=null,f.flags|=2),OP(f,_,M),Kw(f,_,M,T),M=!0;else if(u===null){var X=f.stateNode,ie=f.memoizedProps;X.props=ie;var we=X.context,je=_.contextType;typeof je=="object"&&je!==null?je=as(je):(je=$t(_)?on:Wt.current,je=vt(f,je));var ft=_.getDerivedStateFromProps,Nt=typeof ft=="function"||typeof X.getSnapshotBeforeUpdate=="function";Nt||typeof X.UNSAFE_componentWillReceiveProps!="function"&&typeof X.componentWillReceiveProps!="function"||(ie!==M||we!==je)&&FP(f,X,M,je),Oa=!1;var Mt=f.memoizedState;X.state=Mt,Tg(f,M,X,T),we=f.memoizedState,ie!==M||Mt!==we||Vt.current||Oa?(typeof ft=="function"&&(Zw(f,_,ft,M),we=f.memoizedState),(ie=Oa||kP(f,_,ie,M,Mt,we,je))?(Nt||typeof X.UNSAFE_componentWillMount!="function"&&typeof X.componentWillMount!="function"||(typeof X.componentWillMount=="function"&&X.componentWillMount(),typeof X.UNSAFE_componentWillMount=="function"&&X.UNSAFE_componentWillMount()),typeof X.componentDidMount=="function"&&(f.flags|=4194308)):(typeof X.componentDidMount=="function"&&(f.flags|=4194308),f.memoizedProps=M,f.memoizedState=we),X.props=M,X.state=we,X.context=je,M=ie):(typeof X.componentDidMount=="function"&&(f.flags|=4194308),M=!1)}else{X=f.stateNode,IP(u,f),ie=f.memoizedProps,je=f.type===f.elementType?ie:Ls(f.type,ie),X.props=je,Nt=f.pendingProps,Mt=X.context,we=_.contextType,typeof we=="object"&&we!==null?we=as(we):(we=$t(_)?on:Wt.current,we=vt(f,we));var En=_.getDerivedStateFromProps;(ft=typeof En=="function"||typeof X.getSnapshotBeforeUpdate=="function")||typeof X.UNSAFE_componentWillReceiveProps!="function"&&typeof X.componentWillReceiveProps!="function"||(ie!==Nt||Mt!==we)&&FP(f,X,M,we),Oa=!1,Mt=f.memoizedState,X.state=Mt,Tg(f,M,X,T);var xt=f.memoizedState;ie!==Nt||Mt!==xt||Vt.current||Oa?(typeof En=="function"&&(Zw(f,_,En,M),xt=f.memoizedState),(je=Oa||kP(f,_,je,M,Mt,xt,we)||!1)?(ft||typeof X.UNSAFE_componentWillUpdate!="function"&&typeof X.componentWillUpdate!="function"||(typeof X.componentWillUpdate=="function"&&X.componentWillUpdate(M,xt,we),typeof X.UNSAFE_componentWillUpdate=="function"&&X.UNSAFE_componentWillUpdate(M,xt,we)),typeof X.componentDidUpdate=="function"&&(f.flags|=4),typeof X.getSnapshotBeforeUpdate=="function"&&(f.flags|=1024)):(typeof X.componentDidUpdate!="function"||ie===u.memoizedProps&&Mt===u.memoizedState||(f.flags|=4),typeof X.getSnapshotBeforeUpdate!="function"||ie===u.memoizedProps&&Mt===u.memoizedState||(f.flags|=1024),f.memoizedProps=M,f.memoizedState=xt),X.props=M,X.state=xt,X.context=we,M=je):(typeof X.componentDidUpdate!="function"||ie===u.memoizedProps&&Mt===u.memoizedState||(f.flags|=4),typeof X.getSnapshotBeforeUpdate!="function"||ie===u.memoizedProps&&Mt===u.memoizedState||(f.flags|=1024),M=!1)}return gS(u,f,_,M,L,T)}function gS(u,f,_,M,T,L){wR(u,f);var X=(f.flags&128)!==0;if(!M&&!X)return T&&Da(f,_,!1),Yo(u,f,L);M=f.stateNode,t6.current=f;var ie=X&&typeof _.getDerivedStateFromError!="function"?null:M.render();return f.flags|=1,u!==null&&X?(f.child=Fu(f,u.child,null,L),f.child=Fu(f,null,ie,L)):ii(u,f,ie,L),f.memoizedState=M.state,T&&Da(f,_,!0),f.child}function bR(u){var f=u.stateNode;f.pendingContext?Ur(u,f.pendingContext,f.pendingContext!==f.context):f.context&&Ur(u,f.context,!1),rS(u,f.containerInfo)}function MR(u,f,_,M,T){return Ou(),nS(T),f.flags|=256,ii(u,f,_,M),f.child}var Vg={dehydrated:null,treeContext:null,retryLane:0};function jg(u){return{baseLanes:u,cachePool:null}}function ER(u,f,_){var M=f.pendingProps,T=On.current,L=!1,X=(f.flags&128)!==0,ie;if((ie=X)||(ie=u!==null&&u.memoizedState===null?!1:(T&2)!==0),ie?(L=!0,f.flags&=-129):(u===null||u.memoizedState!==null)&&(T|=1),mt(On,T&1),u===null)return tS(f),u=f.memoizedState,u!==null&&(u=u.dehydrated,u!==null)?(f.mode&1?nc(u)?f.lanes=8:f.lanes=1073741824:f.lanes=1,null):(T=M.children,u=M.fallback,L?(M=f.mode,L=f.child,T={mode:"hidden",children:T},!(M&1)&&L!==null?(L.childLanes=0,L.pendingProps=T):L=lv(T,M,0,null),u=dc(u,M,_,null),L.return=f,u.return=f,L.sibling=u,f.child=L,f.child.memoizedState=jg(_),f.memoizedState=Vg,u):vS(f,T));if(T=u.memoizedState,T!==null){if(ie=T.dehydrated,ie!==null){if(X)return f.flags&256?(f.flags&=-257,Hg(u,f,_,Error(o(422)))):f.memoizedState!==null?(f.child=u.child,f.flags|=128,null):(L=M.fallback,T=f.mode,M=lv({mode:"visible",children:M.children},T,0,null),L=dc(L,T,_,null),L.flags|=2,M.return=f,L.return=f,M.sibling=L,f.child=M,f.mode&1&&Fu(f,u.child,null,_),f.child.memoizedState=jg(_),f.memoizedState=Vg,L);if(!(f.mode&1))f=Hg(u,f,_,null);else if(nc(ie))f=Hg(u,f,_,Error(o(419)));else if(M=(_&u.childLanes)!==0,Wi||M){if(M=or,M!==null){switch(_&-_){case 4:L=2;break;case 16:L=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:L=32;break;case 536870912:L=268435456;break;default:L=0}M=L&(M.suspendedLanes|_)?0:L,M!==0&&M!==T.retryLane&&(T.retryLane=M,fs(u,M,-1))}FS(),f=Hg(u,f,_,Error(o(421)))}else io(ie)?(f.flags|=128,f.child=u.child,f=p6.bind(null,u),pg(ie,f),f=null):(_=T.treeContext,Ye&&(Hi=Iu(ie),ji=f,Nn=!0,Ds=null,th=!1,_!==null&&(ls[cs++]=Go,ls[cs++]=Xo,ls[cs++]=rc,Go=_.id,Xo=_.overflow,rc=f)),f=vS(f,f.pendingProps.children),f.flags|=4096);return f}return L?(M=CR(u,f,M.children,M.fallback,_),L=f.child,T=u.child.memoizedState,L.memoizedState=T===null?jg(_):{baseLanes:T.baseLanes|_,cachePool:null},L.childLanes=u.childLanes&~_,f.memoizedState=Vg,M):(_=TR(u,f,M.children,_),f.memoizedState=null,_)}return L?(M=CR(u,f,M.children,M.fallback,_),L=f.child,T=u.child.memoizedState,L.memoizedState=T===null?jg(_):{baseLanes:T.baseLanes|_,cachePool:null},L.childLanes=u.childLanes&~_,f.memoizedState=Vg,M):(_=TR(u,f,M.children,_),f.memoizedState=null,_)}function vS(u,f){return f=lv({mode:"visible",children:f},u.mode,0,null),f.return=u,u.child=f}function TR(u,f,_,M){var T=u.child;return u=T.sibling,_=ja(T,{mode:"visible",children:_}),!(f.mode&1)&&(_.lanes=M),_.return=f,_.sibling=null,u!==null&&(M=f.deletions,M===null?(f.deletions=[u],f.flags|=16):M.push(u)),f.child=_}function CR(u,f,_,M,T){var L=f.mode;u=u.child;var X=u.sibling,ie={mode:"hidden",children:_};return!(L&1)&&f.child!==u?(_=f.child,_.childLanes=0,_.pendingProps=ie,f.deletions=null):(_=ja(u,ie),_.subtreeFlags=u.subtreeFlags&14680064),X!==null?M=ja(X,M):(M=dc(M,L,T,null),M.flags|=2),M.return=f,_.return=f,_.sibling=M,f.child=_,M}function Hg(u,f,_,M){return M!==null&&nS(M),Fu(f,u.child,null,_),u=vS(f,f.pendingProps.children),u.flags|=2,f.memoizedState=null,u}function AR(u,f,_){u.lanes|=f;var M=u.alternate;M!==null&&(M.lanes|=f),Yw(u.return,f,_)}function yS(u,f,_,M,T){var L=u.memoizedState;L===null?u.memoizedState={isBackwards:f,rendering:null,renderingStartTime:0,last:M,tail:_,tailMode:T}:(L.isBackwards=f,L.rendering=null,L.renderingStartTime=0,L.last=M,L.tail=_,L.tailMode=T)}function PR(u,f,_){var M=f.pendingProps,T=M.revealOrder,L=M.tail;if(ii(u,f,M.children,_),M=On.current,M&2)M=M&1|2,f.flags|=128;else{if(u!==null&&u.flags&128)e:for(u=f.child;u!==null;){if(u.tag===13)u.memoizedState!==null&&AR(u,_,f);else if(u.tag===19)AR(u,_,f);else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===f)break e;for(;u.sibling===null;){if(u.return===null||u.return===f)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}M&=1}if(mt(On,M),!(f.mode&1))f.memoizedState=null;else switch(T){case"forwards":for(_=f.child,T=null;_!==null;)u=_.alternate,u!==null&&Ig(u)===null&&(T=_),_=_.sibling;_=T,_===null?(T=f.child,f.child=null):(T=_.sibling,_.sibling=null),yS(f,!1,T,_,L);break;case"backwards":for(_=null,T=f.child,f.child=null;T!==null;){if(u=T.alternate,u!==null&&Ig(u)===null){f.child=T;break}u=T.sibling,T.sibling=_,_=T,T=u}yS(f,!0,_,null,L);break;case"together":yS(f,!1,null,null,void 0);break;default:f.memoizedState=null}return f.child}function Yo(u,f,_){if(u!==null&&(f.dependencies=u.dependencies),ju|=f.lanes,!(_&f.childLanes))return null;if(u!==null&&f.child!==u.child)throw Error(o(153));if(f.child!==null){for(u=f.child,_=ja(u,u.pendingProps),f.child=_,_.return=f;u.sibling!==null;)u=u.sibling,_=_.sibling=ja(u,u.pendingProps),_.return=f;_.sibling=null}return f.child}function n6(u,f,_){switch(f.tag){case 3:bR(f),Ou();break;case 5:GP(f);break;case 1:$t(f.type)&&wr(f);break;case 4:rS(f,f.stateNode.containerInfo);break;case 10:RP(f,f.type._context,f.memoizedProps.value);break;case 13:var M=f.memoizedState;if(M!==null)return M.dehydrated!==null?(mt(On,On.current&1),f.flags|=128,null):_&f.child.childLanes?ER(u,f,_):(mt(On,On.current&1),u=Yo(u,f,_),u!==null?u.sibling:null);mt(On,On.current&1);break;case 19:if(M=(_&f.childLanes)!==0,u.flags&128){if(M)return PR(u,f,_);f.flags|=128}var T=f.memoizedState;if(T!==null&&(T.rendering=null,T.tail=null,T.lastEffect=null),mt(On,On.current),M)break;return null;case 22:case 23:return f.lanes=0,_R(u,f,_)}return Yo(u,f,_)}function r6(u,f){switch(Jw(f),f.tag){case 1:return $t(f.type)&&Zt(),u=f.flags,u&65536?(f.flags=u&-65537|128,f):null;case 3:return Bu(),Xe(Vt),Xe(Wt),oS(),u=f.flags,u&65536&&!(u&128)?(f.flags=u&-65537|128,f):null;case 5:return iS(f),null;case 13:if(Xe(On),u=f.memoizedState,u!==null&&u.dehydrated!==null){if(f.alternate===null)throw Error(o(340));Ou()}return u=f.flags,u&65536?(f.flags=u&-65537|128,f):null;case 19:return Xe(On),null;case 4:return Bu(),null;case 10:return $w(f.type._context),null;case 22:case 23:return OS(),null;case 24:return null;default:return null}}var Wg=!1,oc=!1,i6=typeof WeakSet=="function"?WeakSet:Set,et=null;function Gg(u,f){var _=u.ref;if(_!==null)if(typeof _=="function")try{_(null)}catch(M){Ei(u,f,M)}else _.current=null}function xS(u,f,_){try{_()}catch(M){Ei(u,f,M)}}var RR=!1;function s6(u,f){for(W(u.containerInfo),et=f;et!==null;)if(u=et,f=u.child,(u.subtreeFlags&1028)!==0&&f!==null)f.return=u,et=f;else for(;et!==null;){u=et;try{var _=u.alternate;if(u.flags&1024)switch(u.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var M=_.memoizedProps,T=_.memoizedState,L=u.stateNode,X=L.getSnapshotBeforeUpdate(u.elementType===u.type?M:Ls(u.type,M),T);L.__reactInternalSnapshotBeforeUpdate=X}break;case 3:nt&&We(u.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(ie){Ei(u,u.return,ie)}if(f=u.sibling,f!==null){f.return=u.return,et=f;break}et=u.return}return _=RR,RR=!1,_}function ac(u,f,_){var M=f.updateQueue;if(M=M!==null?M.lastEffect:null,M!==null){var T=M=M.next;do{if((T.tag&u)===u){var L=T.destroy;T.destroy=void 0,L!==void 0&&xS(f,_,L)}T=T.next}while(T!==M)}}function hh(u,f){if(f=f.updateQueue,f=f!==null?f.lastEffect:null,f!==null){var _=f=f.next;do{if((_.tag&u)===u){var M=_.create;_.destroy=M()}_=_.next}while(_!==f)}}function _S(u){var f=u.ref;if(f!==null){var _=u.stateNode;switch(u.tag){case 5:u=J(_);break;default:u=_}typeof f=="function"?f(u):f.current=u}}function IR(u,f,_){if(so&&typeof so.onCommitFiberUnmount=="function")try{so.onCommitFiberUnmount(_g,f)}catch{}switch(f.tag){case 0:case 11:case 14:case 15:if(u=f.updateQueue,u!==null&&(u=u.lastEffect,u!==null)){var M=u=u.next;do{var T=M,L=T.destroy;T=T.tag,L!==void 0&&(T&2||T&4)&&xS(f,_,L),M=M.next}while(M!==u)}break;case 1:if(Gg(f,_),u=f.stateNode,typeof u.componentWillUnmount=="function")try{u.props=f.memoizedProps,u.state=f.memoizedState,u.componentWillUnmount()}catch(X){Ei(f,_,X)}break;case 5:Gg(f,_);break;case 4:nt?FR(u,f,_):qe&&qe&&(f=f.stateNode.containerInfo,_=Pe(f),ln(f,_))}}function NR(u,f,_){for(var M=f;;)if(IR(u,M,_),M.child===null||nt&&M.tag===4){if(M===f)break;for(;M.sibling===null;){if(M.return===null||M.return===f)return;M=M.return}M.sibling.return=M.return,M=M.sibling}else M.child.return=M,M=M.child}function LR(u){var f=u.alternate;f!==null&&(u.alternate=null,LR(f)),u.child=null,u.deletions=null,u.sibling=null,u.tag===5&&(f=u.stateNode,f!==null&&Ue(f)),u.stateNode=null,u.return=null,u.dependencies=null,u.memoizedProps=null,u.memoizedState=null,u.pendingProps=null,u.stateNode=null,u.updateQueue=null}function DR(u){return u.tag===5||u.tag===3||u.tag===4}function kR(u){e:for(;;){for(;u.sibling===null;){if(u.return===null||DR(u.return))return null;u=u.return}for(u.sibling.return=u.return,u=u.sibling;u.tag!==5&&u.tag!==6&&u.tag!==18;){if(u.flags&2||u.child===null||u.tag===4)continue e;u.child.return=u,u=u.child}if(!(u.flags&2))return u.stateNode}}function OR(u){if(nt){e:{for(var f=u.return;f!==null;){if(DR(f))break e;f=f.return}throw Error(o(160))}var _=f;switch(_.tag){case 5:f=_.stateNode,_.flags&32&&(ce(f),_.flags&=-33),_=kR(u),SS(u,_,f);break;case 3:case 4:f=_.stateNode.containerInfo,_=kR(u),wS(u,_,f);break;default:throw Error(o(161))}}}function wS(u,f,_){var M=u.tag;if(M===5||M===6)u=u.stateNode,f?Qe(_,u,f):rt(_,u);else if(M!==4&&(u=u.child,u!==null))for(wS(u,f,_),u=u.sibling;u!==null;)wS(u,f,_),u=u.sibling}function SS(u,f,_){var M=u.tag;if(M===5||M===6)u=u.stateNode,f?Ie(_,u,f):ve(_,u);else if(M!==4&&(u=u.child,u!==null))for(SS(u,f,_),u=u.sibling;u!==null;)SS(u,f,_),u=u.sibling}function FR(u,f,_){for(var M=f,T=!1,L,X;;){if(!T){T=M.return;e:for(;;){if(T===null)throw Error(o(160));switch(L=T.stateNode,T.tag){case 5:X=!1;break e;case 3:L=L.containerInfo,X=!0;break e;case 4:L=L.containerInfo,X=!0;break e}T=T.return}T=!0}if(M.tag===5||M.tag===6)NR(u,M,_),X?K(L,M.stateNode):gt(L,M.stateNode);else if(M.tag===18)X?Fw(L,M.stateNode):Ow(L,M.stateNode);else if(M.tag===4){if(M.child!==null){L=M.stateNode.containerInfo,X=!0,M.child.return=M,M=M.child;continue}}else if(IR(u,M,_),M.child!==null){M.child.return=M,M=M.child;continue}if(M===f)break;for(;M.sibling===null;){if(M.return===null||M.return===f)return;M=M.return,M.tag===4&&(T=!1)}M.sibling.return=M.return,M=M.sibling}}function bS(u,f){if(nt){switch(f.tag){case 0:case 11:case 14:case 15:ac(3,f,f.return),hh(3,f),ac(5,f,f.return);return;case 1:return;case 5:var _=f.stateNode;if(_!=null){var M=f.memoizedProps;u=u!==null?u.memoizedProps:M;var T=f.type,L=f.updateQueue;f.updateQueue=null,L!==null&&ct(_,L,T,u,M,f)}return;case 6:if(f.stateNode===null)throw Error(o(162));_=f.memoizedProps,He(f.stateNode,u!==null?u.memoizedProps:_,_);return;case 3:Ye&&u!==null&&u.memoizedState.isDehydrated&&yg(f.stateNode.containerInfo);return;case 12:return;case 13:Xg(f);return;case 19:Xg(f);return;case 17:return}throw Error(o(163))}switch(f.tag){case 0:case 11:case 14:case 15:ac(3,f,f.return),hh(3,f),ac(5,f,f.return);return;case 12:return;case 13:Xg(f);return;case 19:Xg(f);return;case 3:Ye&&u!==null&&u.memoizedState.isDehydrated&&yg(f.stateNode.containerInfo);break;case 22:case 23:return}e:if(qe){switch(f.tag){case 1:case 5:case 6:break e;case 3:case 4:f=f.stateNode,ln(f.containerInfo,f.pendingChildren);break e}throw Error(o(163))}}function Xg(u){var f=u.updateQueue;if(f!==null){u.updateQueue=null;var _=u.stateNode;_===null&&(_=u.stateNode=new i6),f.forEach(function(M){var T=m6.bind(null,u,M);_.has(M)||(_.add(M),M.then(T,T))})}}function o6(u,f){for(et=f;et!==null;){f=et;var _=f.deletions;if(_!==null)for(var M=0;M<_.length;M++){var T=_[M];try{var L=u;nt?FR(L,T,f):NR(L,T,f);var X=T.alternate;X!==null&&(X.return=null),T.return=null}catch(yt){Ei(T,f,yt)}}if(_=f.child,f.subtreeFlags&12854&&_!==null)_.return=f,et=_;else for(;et!==null;){f=et;try{var ie=f.flags;if(ie&32&&nt&&ce(f.stateNode),ie&512){var we=f.alternate;if(we!==null){var je=we.ref;je!==null&&(typeof je=="function"?je(null):je.current=null)}}if(ie&8192)switch(f.tag){case 13:if(f.memoizedState!==null){var ft=f.alternate;(ft===null||ft.memoizedState===null)&&(RS=Sr())}break;case 22:var Nt=f.memoizedState!==null,Mt=f.alternate,En=Mt!==null&&Mt.memoizedState!==null;if(_=f,nt){e:if(M=_,T=Nt,L=null,nt)for(var xt=M;;){if(xt.tag===5){if(L===null){L=xt;var jr=xt.stateNode;T?_e(jr):Me(xt.stateNode,xt.memoizedProps)}}else if(xt.tag===6){if(L===null){var ps=xt.stateNode;T?Y(ps):Ce(ps,xt.memoizedProps)}}else if((xt.tag!==22&&xt.tag!==23||xt.memoizedState===null||xt===M)&&xt.child!==null){xt.child.return=xt,xt=xt.child;continue}if(xt===M)break;for(;xt.sibling===null;){if(xt.return===null||xt.return===M)break e;L===xt&&(L=null),xt=xt.return}L===xt&&(L=null),xt.sibling.return=xt.return,xt=xt.sibling}}if(Nt&&!En&&_.mode&1){et=_;for(var fe=_.child;fe!==null;){for(_=et=fe;et!==null;){M=et;var se=M.child;switch(M.tag){case 0:case 11:case 14:case 15:ac(4,M,M.return);break;case 1:Gg(M,M.return);var xe=M.stateNode;if(typeof xe.componentWillUnmount=="function"){var st=M.return;try{xe.props=M.memoizedProps,xe.state=M.memoizedState,xe.componentWillUnmount()}catch(yt){Ei(M,st,yt)}}break;case 5:Gg(M,M.return);break;case 22:if(M.memoizedState!==null){zR(_);continue}}se!==null?(se.return=M,et=se):zR(_)}fe=fe.sibling}}}switch(ie&4102){case 2:OR(f),f.flags&=-3;break;case 6:OR(f),f.flags&=-3,bS(f.alternate,f);break;case 4096:f.flags&=-4097;break;case 4100:f.flags&=-4097,bS(f.alternate,f);break;case 4:bS(f.alternate,f)}}catch(yt){Ei(f,f.return,yt)}if(_=f.sibling,_!==null){_.return=f.return,et=_;break}et=f.return}}}function a6(u,f,_){et=u,UR(u)}function UR(u,f,_){for(var M=(u.mode&1)!==0;et!==null;){var T=et,L=T.child;if(T.tag===22&&M){var X=T.memoizedState!==null||Wg;if(!X){var ie=T.alternate,we=ie!==null&&ie.memoizedState!==null||oc;ie=Wg;var je=oc;if(Wg=X,(oc=we)&&!je)for(et=T;et!==null;)X=et,we=X.child,X.tag===22&&X.memoizedState!==null?VR(T):we!==null?(we.return=X,et=we):VR(T);for(;L!==null;)et=L,UR(L),L=L.sibling;et=T,Wg=ie,oc=je}BR(u)}else T.subtreeFlags&8772&&L!==null?(L.return=T,et=L):BR(u)}}function BR(u){for(;et!==null;){var f=et;if(f.flags&8772){var _=f.alternate;try{if(f.flags&8772)switch(f.tag){case 0:case 11:case 15:oc||hh(5,f);break;case 1:var M=f.stateNode;if(f.flags&4&&!oc)if(_===null)M.componentDidMount();else{var T=f.elementType===f.type?_.memoizedProps:Ls(f.type,_.memoizedProps);M.componentDidUpdate(T,_.memoizedState,M.__reactInternalSnapshotBeforeUpdate)}var L=f.updateQueue;L!==null&&LP(f,L,M);break;case 3:var X=f.updateQueue;if(X!==null){if(_=null,f.child!==null)switch(f.child.tag){case 5:_=J(f.child.stateNode);break;case 1:_=f.child.stateNode}LP(f,X,_)}break;case 5:var ie=f.stateNode;_===null&&f.flags&4&&it(ie,f.type,f.memoizedProps,f);break;case 6:break;case 4:break;case 12:break;case 13:if(Ye&&f.memoizedState===null){var we=f.alternate;if(we!==null){var je=we.memoizedState;if(je!==null){var ft=je.dehydrated;ft!==null&&kw(ft)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(o(163))}oc||f.flags&512&&_S(f)}catch(Nt){Ei(f,f.return,Nt)}}if(f===u){et=null;break}if(_=f.sibling,_!==null){_.return=f.return,et=_;break}et=f.return}}function zR(u){for(;et!==null;){var f=et;if(f===u){et=null;break}var _=f.sibling;if(_!==null){_.return=f.return,et=_;break}et=f.return}}function VR(u){for(;et!==null;){var f=et;try{switch(f.tag){case 0:case 11:case 15:var _=f.return;try{hh(4,f)}catch(we){Ei(f,_,we)}break;case 1:var M=f.stateNode;if(typeof M.componentDidMount=="function"){var T=f.return;try{M.componentDidMount()}catch(we){Ei(f,T,we)}}var L=f.return;try{_S(f)}catch(we){Ei(f,L,we)}break;case 5:var X=f.return;try{_S(f)}catch(we){Ei(f,X,we)}}}catch(we){Ei(f,f.return,we)}if(f===u){et=null;break}var ie=f.sibling;if(ie!==null){ie.return=f.return,et=ie;break}et=f.return}}var $g=0,Yg=1,qg=2,Zg=3,Kg=4;if(typeof Symbol=="function"&&Symbol.for){var ph=Symbol.for;$g=ph("selector.component"),Yg=ph("selector.has_pseudo_class"),qg=ph("selector.role"),Zg=ph("selector.test_id"),Kg=ph("selector.text")}function MS(u){var f=V(u);if(f!=null){if(typeof f.memoizedProps["data-testname"]!="string")throw Error(o(364));return f}if(u=ge(u),u===null)throw Error(o(362));return u.stateNode.current}function ES(u,f){switch(f.$$typeof){case $g:if(u.type===f.value)return!0;break;case Yg:e:{f=f.value,u=[u,0];for(var _=0;_<u.length;){var M=u[_++],T=u[_++],L=f[T];if(M.tag!==5||!O(M)){for(;L!=null&&ES(M,L);)T++,L=f[T];if(T===f.length){f=!0;break e}else for(M=M.child;M!==null;)u.push(M,T),M=M.sibling}}f=!1}return f;case qg:if(u.tag===5&&te(u.stateNode,f.value))return!0;break;case Kg:if((u.tag===5||u.tag===6)&&(u=U(u),u!==null&&0<=u.indexOf(f.value)))return!0;break;case Zg:if(u.tag===5&&(u=u.memoizedProps["data-testname"],typeof u=="string"&&u.toLowerCase()===f.value.toLowerCase()))return!0;break;default:throw Error(o(365))}return!1}function TS(u){switch(u.$$typeof){case $g:return"<"+(I(u.value)||"Unknown")+">";case Yg:return":has("+(TS(u)||"")+")";case qg:return'[role="'+u.value+'"]';case Kg:return'"'+u.value+'"';case Zg:return'[data-testname="'+u.value+'"]';default:throw Error(o(365))}}function jR(u,f){var _=[];u=[u,0];for(var M=0;M<u.length;){var T=u[M++],L=u[M++],X=f[L];if(T.tag!==5||!O(T)){for(;X!=null&&ES(T,X);)L++,X=f[L];if(L===f.length)_.push(T);else for(T=T.child;T!==null;)u.push(T,L),T=T.sibling}}return _}function CS(u,f){if(!Q)throw Error(o(363));u=MS(u),u=jR(u,f),f=[],u=Array.from(u);for(var _=0;_<u.length;){var M=u[_++];if(M.tag===5)O(M)||f.push(M.stateNode);else for(M=M.child;M!==null;)u.push(M),M=M.sibling}return f}var l6=Math.ceil,Qg=a.ReactCurrentDispatcher,AS=a.ReactCurrentOwner,Jn=a.ReactCurrentBatchConfig,Gt=0,or=null,ar=null,Pr=0,Gi=0,Vu=St(0),pr=0,mh=null,ju=0,Jg=0,PS=0,gh=null,bi=null,RS=0,IS=1/0;function Hu(){IS=Sr()+500}var ev=!1,NS=null,Ua=null,tv=!1,Ba=null,nv=0,vh=0,LS=null,rv=-1,iv=0;function si(){return Gt&6?Sr():rv!==-1?rv:rv=Sr()}function za(u){return u.mode&1?Gt&2&&Pr!==0?Pr&-Pr:WH.transition!==null?(iv===0&&(u=hr,hr<<=1,!(hr&4194240)&&(hr=64),iv=u),iv):(u=gn,u!==0?u:Re()):1}function fs(u,f,_){if(50<vh)throw vh=0,LS=null,Error(o(185));var M=sv(u,f);return M===null?null:(eh(M,f,_),(!(Gt&2)||M!==or)&&(M===or&&(!(Gt&2)&&(Jg|=f),pr===4&&Va(M,Pr)),Mi(M,_),f===1&&Gt===0&&!(u.mode&1)&&(Hu(),wg&&ao())),M)}function sv(u,f){u.lanes|=f;var _=u.alternate;for(_!==null&&(_.lanes|=f),_=u,u=u.return;u!==null;)u.childLanes|=f,_=u.alternate,_!==null&&(_.childLanes|=f),_=u,u=u.return;return _.tag===3?_.stateNode:null}function Mi(u,f){var _=u.callbackNode;kH(u,f);var M=xg(u,u===or?Pr:0);if(M===0)_!==null&&AP(_),u.callbackNode=null,u.callbackPriority=0;else if(f=M&-M,u.callbackPriority!==f){if(_!=null&&AP(_),f===1)u.tag===0?HH(WR.bind(null,u)):PP(WR.bind(null,u)),B?Z(function(){Gt===0&&ao()}):Vw(jw,ao),_=null;else{switch(CP(M)){case 1:_=jw;break;case 4:_=BH;break;case 16:_=Hw;break;case 536870912:_=zH;break;default:_=Hw}_=JR(_,HR.bind(null,u))}u.callbackPriority=f,u.callbackNode=_}}function HR(u,f){if(rv=-1,iv=0,Gt&6)throw Error(o(327));var _=u.callbackNode;if(uc()&&u.callbackNode!==_)return null;var M=xg(u,u===or?Pr:0);if(M===0)return null;if(M&30||M&u.expiredLanes||f)f=ov(u,M);else{f=M;var T=Gt;Gt|=2;var L=$R();(or!==u||Pr!==f)&&(Hu(),lc(u,f));do try{d6();break}catch(ie){XR(u,ie)}while(!0);Xw(),Qg.current=L,Gt=T,ar!==null?f=0:(or=null,Pr=0,f=pr)}if(f!==0){if(f===2&&(T=Uw(u),T!==0&&(M=T,f=DS(u,T))),f===1)throw _=mh,lc(u,0),Va(u,M),Mi(u,Sr()),_;if(f===6)Va(u,M);else{if(T=u.current.alternate,!(M&30)&&!c6(T)&&(f=ov(u,M),f===2&&(L=Uw(u),L!==0&&(M=L,f=DS(u,L))),f===1))throw _=mh,lc(u,0),Va(u,M),Mi(u,Sr()),_;switch(u.finishedWork=T,u.finishedLanes=M,f){case 0:case 1:throw Error(o(345));case 2:cc(u,bi);break;case 3:if(Va(u,M),(M&130023424)===M&&(f=RS+500-Sr(),10<f)){if(xg(u,0)!==0)break;if(T=u.suspendedLanes,(T&M)!==M){si(),u.pingedLanes|=u.suspendedLanes&T;break}u.timeoutHandle=me(cc.bind(null,u,bi),f);break}cc(u,bi);break;case 4:if(Va(u,M),(M&4194240)===M)break;for(f=u.eventTimes,T=-1;0<M;){var X=31-en(M);L=1<<X,X=f[X],X>T&&(T=X),M&=~L}if(M=T,M=Sr()-M,M=(120>M?120:480>M?480:1080>M?1080:1920>M?1920:3e3>M?3e3:4320>M?4320:1960*l6(M/1960))-M,10<M){u.timeoutHandle=me(cc.bind(null,u,bi),M);break}cc(u,bi);break;case 5:cc(u,bi);break;default:throw Error(o(329))}}}return Mi(u,Sr()),u.callbackNode===_?HR.bind(null,u):null}function DS(u,f){var _=gh;return u.current.memoizedState.isDehydrated&&(lc(u,f).flags|=256),u=ov(u,f),u!==2&&(f=bi,bi=_,f!==null&&kS(f)),u}function kS(u){bi===null?bi=u:bi.push.apply(bi,u)}function c6(u){for(var f=u;;){if(f.flags&16384){var _=f.updateQueue;if(_!==null&&(_=_.stores,_!==null))for(var M=0;M<_.length;M++){var T=_[M],L=T.getSnapshot;T=T.value;try{if(!oo(L(),T))return!1}catch{return!1}}}if(_=f.child,f.subtreeFlags&16384&&_!==null)_.return=f,f=_;else{if(f===u)break;for(;f.sibling===null;){if(f.return===null||f.return===u)return!0;f=f.return}f.sibling.return=f.return,f=f.sibling}}return!0}function Va(u,f){for(f&=~PS,f&=~Jg,u.suspendedLanes|=f,u.pingedLanes&=~f,u=u.expirationTimes;0<f;){var _=31-en(f),M=1<<_;u[_]=-1,f&=~M}}function WR(u){if(Gt&6)throw Error(o(327));uc();var f=xg(u,0);if(!(f&1))return Mi(u,Sr()),null;var _=ov(u,f);if(u.tag!==0&&_===2){var M=Uw(u);M!==0&&(f=M,_=DS(u,M))}if(_===1)throw _=mh,lc(u,0),Va(u,f),Mi(u,Sr()),_;if(_===6)throw Error(o(345));return u.finishedWork=u.current.alternate,u.finishedLanes=f,cc(u,bi),Mi(u,Sr()),null}function GR(u){Ba!==null&&Ba.tag===0&&!(Gt&6)&&uc();var f=Gt;Gt|=1;var _=Jn.transition,M=gn;try{if(Jn.transition=null,gn=1,u)return u()}finally{gn=M,Jn.transition=_,Gt=f,!(Gt&6)&&ao()}}function OS(){Gi=Vu.current,Xe(Vu)}function lc(u,f){u.finishedWork=null,u.finishedLanes=0;var _=u.timeoutHandle;if(_!==tt&&(u.timeoutHandle=tt,ke(_)),ar!==null)for(_=ar.return;_!==null;){var M=_;switch(Jw(M),M.tag){case 1:M=M.type.childContextTypes,M!=null&&Zt();break;case 3:Bu(),Xe(Vt),Xe(Wt),oS();break;case 5:iS(M);break;case 4:Bu();break;case 13:Xe(On);break;case 19:Xe(On);break;case 10:$w(M.type._context);break;case 22:case 23:OS()}_=_.return}if(or=u,ar=u=ja(u.current,null),Pr=Gi=f,pr=0,mh=null,PS=Jg=ju=0,bi=gh=null,lo!==null){for(f=0;f<lo.length;f++)if(_=lo[f],M=_.interleaved,M!==null){_.interleaved=null;var T=M.next,L=_.pending;if(L!==null){var X=L.next;L.next=T,M.next=X}_.pending=M}lo=null}return u}function XR(u,f){do{var _=ar;try{if(Xw(),Ng.current=Ug,Lg){for(var M=Wn.memoizedState;M!==null;){var T=M.queue;T!==null&&(T.pending=null),M=M.next}Lg=!1}if(zu=0,br=Br=Wn=null,oh=!1,ah=0,AS.current=null,_===null||_.return===null){pr=1,mh=f,ar=null;break}e:{var L=u,X=_.return,ie=_,we=f;if(f=Pr,ie.flags|=32768,we!==null&&typeof we=="object"&&typeof we.then=="function"){var je=we,ft=ie,Nt=ft.tag;if(!(ft.mode&1)&&(Nt===0||Nt===11||Nt===15)){var Mt=ft.alternate;Mt?(ft.updateQueue=Mt.updateQueue,ft.memoizedState=Mt.memoizedState,ft.lanes=Mt.lanes):(ft.updateQueue=null,ft.memoizedState=null)}var En=hR(X);if(En!==null){En.flags&=-257,pR(En,X,ie,L,f),En.mode&1&&fR(L,je,f),f=En,we=je;var xt=f.updateQueue;if(xt===null){var jr=new Set;jr.add(we),f.updateQueue=jr}else xt.add(we);break e}else{if(!(f&1)){fR(L,je,f),FS();break e}we=Error(o(426))}}else if(Nn&&ie.mode&1){var ps=hR(X);if(ps!==null){!(ps.flags&65536)&&(ps.flags|=256),pR(ps,X,ie,L,f),nS(we);break e}}L=we,pr!==4&&(pr=2),gh===null?gh=[L]:gh.push(L),we=hS(we,ie),ie=X;do{switch(ie.tag){case 3:ie.flags|=65536,f&=-f,ie.lanes|=f;var fe=uR(ie,we,f);NP(ie,fe);break e;case 1:L=we;var se=ie.type,xe=ie.stateNode;if(!(ie.flags&128)&&(typeof se.getDerivedStateFromError=="function"||xe!==null&&typeof xe.componentDidCatch=="function"&&(Ua===null||!Ua.has(xe)))){ie.flags|=65536,f&=-f,ie.lanes|=f;var st=dR(ie,L,f);NP(ie,st);break e}}ie=ie.return}while(ie!==null)}qR(_)}catch(yt){f=yt,ar===_&&_!==null&&(ar=_=_.return);continue}break}while(!0)}function $R(){var u=Qg.current;return Qg.current=Ug,u===null?Ug:u}function FS(){(pr===0||pr===3||pr===2)&&(pr=4),or===null||!(ju&268435455)&&!(Jg&268435455)||Va(or,Pr)}function ov(u,f){var _=Gt;Gt|=2;var M=$R();or===u&&Pr===f||lc(u,f);do try{u6();break}catch(T){XR(u,T)}while(!0);if(Xw(),Gt=_,Qg.current=M,ar!==null)throw Error(o(261));return or=null,Pr=0,pr}function u6(){for(;ar!==null;)YR(ar)}function d6(){for(;ar!==null&&!FH();)YR(ar)}function YR(u){var f=QR(u.alternate,u,Gi);u.memoizedProps=u.pendingProps,f===null?qR(u):ar=f,AS.current=null}function qR(u){var f=u;do{var _=f.alternate;if(u=f.return,f.flags&32768){if(_=r6(_,f),_!==null){_.flags&=32767,ar=_;return}if(u!==null)u.flags|=32768,u.subtreeFlags=0,u.deletions=null;else{pr=6,ar=null;return}}else if(_=e6(_,f,Gi),_!==null){ar=_;return}if(f=f.sibling,f!==null){ar=f;return}ar=f=u}while(f!==null);pr===0&&(pr=5)}function cc(u,f){var _=gn,M=Jn.transition;try{Jn.transition=null,gn=1,f6(u,f,_)}finally{Jn.transition=M,gn=_}return null}function f6(u,f,_){do uc();while(Ba!==null);if(Gt&6)throw Error(o(327));var M=u.finishedWork,T=u.finishedLanes;if(M===null)return null;if(u.finishedWork=null,u.finishedLanes=0,M===u.current)throw Error(o(177));u.callbackNode=null,u.callbackPriority=0;var L=M.lanes|M.childLanes;if(OH(u,L),u===or&&(ar=or=null,Pr=0),!(M.subtreeFlags&2064)&&!(M.flags&2064)||tv||(tv=!0,JR(Hw,function(){return uc(),null})),L=(M.flags&15990)!==0,M.subtreeFlags&15990||L){L=Jn.transition,Jn.transition=null;var X=gn;gn=1;var ie=Gt;Gt|=4,AS.current=null,s6(u,M),o6(u,M),q(u.containerInfo),u.current=M,a6(M),UH(),Gt=ie,gn=X,Jn.transition=L}else u.current=M;if(tv&&(tv=!1,Ba=u,nv=T),L=u.pendingLanes,L===0&&(Ua=null),VH(M.stateNode),Mi(u,Sr()),f!==null)for(_=u.onRecoverableError,M=0;M<f.length;M++)_(f[M]);if(ev)throw ev=!1,u=NS,NS=null,u;return nv&1&&u.tag!==0&&uc(),L=u.pendingLanes,L&1?u===LS?vh++:(vh=0,LS=u):vh=0,ao(),null}function uc(){if(Ba!==null){var u=CP(nv),f=Jn.transition,_=gn;try{if(Jn.transition=null,gn=16>u?16:u,Ba===null)var M=!1;else{if(u=Ba,Ba=null,nv=0,Gt&6)throw Error(o(331));var T=Gt;for(Gt|=4,et=u.current;et!==null;){var L=et,X=L.child;if(et.flags&16){var ie=L.deletions;if(ie!==null){for(var we=0;we<ie.length;we++){var je=ie[we];for(et=je;et!==null;){var ft=et;switch(ft.tag){case 0:case 11:case 15:ac(8,ft,L)}var Nt=ft.child;if(Nt!==null)Nt.return=ft,et=Nt;else for(;et!==null;){ft=et;var Mt=ft.sibling,En=ft.return;if(LR(ft),ft===je){et=null;break}if(Mt!==null){Mt.return=En,et=Mt;break}et=En}}}var xt=L.alternate;if(xt!==null){var jr=xt.child;if(jr!==null){xt.child=null;do{var ps=jr.sibling;jr.sibling=null,jr=ps}while(jr!==null)}}et=L}}if(L.subtreeFlags&2064&&X!==null)X.return=L,et=X;else e:for(;et!==null;){if(L=et,L.flags&2048)switch(L.tag){case 0:case 11:case 15:ac(9,L,L.return)}var fe=L.sibling;if(fe!==null){fe.return=L.return,et=fe;break e}et=L.return}}var se=u.current;for(et=se;et!==null;){X=et;var xe=X.child;if(X.subtreeFlags&2064&&xe!==null)xe.return=X,et=xe;else e:for(X=se;et!==null;){if(ie=et,ie.flags&2048)try{switch(ie.tag){case 0:case 11:case 15:hh(9,ie)}}catch(yt){Ei(ie,ie.return,yt)}if(ie===X){et=null;break e}var st=ie.sibling;if(st!==null){st.return=ie.return,et=st;break e}et=ie.return}}if(Gt=T,ao(),so&&typeof so.onPostCommitFiberRoot=="function")try{so.onPostCommitFiberRoot(_g,u)}catch{}M=!0}return M}finally{gn=_,Jn.transition=f}}return!1}function ZR(u,f,_){f=hS(_,f),f=uR(u,f,1),Fa(u,f),f=si(),u=sv(u,1),u!==null&&(eh(u,1,f),Mi(u,f))}function Ei(u,f,_){if(u.tag===3)ZR(u,u,_);else for(;f!==null;){if(f.tag===3){ZR(f,u,_);break}else if(f.tag===1){var M=f.stateNode;if(typeof f.type.getDerivedStateFromError=="function"||typeof M.componentDidCatch=="function"&&(Ua===null||!Ua.has(M))){u=hS(_,u),u=dR(f,u,1),Fa(f,u),u=si(),f=sv(f,1),f!==null&&(eh(f,1,u),Mi(f,u));break}}f=f.return}}function h6(u,f,_){var M=u.pingCache;M!==null&&M.delete(f),f=si(),u.pingedLanes|=u.suspendedLanes&_,or===u&&(Pr&_)===_&&(pr===4||pr===3&&(Pr&130023424)===Pr&&500>Sr()-RS?lc(u,0):PS|=_),Mi(u,f)}function KR(u,f){f===0&&(u.mode&1?(f=ka,ka<<=1,!(ka&130023424)&&(ka=4194304)):f=1);var _=si();u=sv(u,f),u!==null&&(eh(u,f,_),Mi(u,_))}function p6(u){var f=u.memoizedState,_=0;f!==null&&(_=f.retryLane),KR(u,_)}function m6(u,f){var _=0;switch(u.tag){case 13:var M=u.stateNode,T=u.memoizedState;T!==null&&(_=T.retryLane);break;case 19:M=u.stateNode;break;default:throw Error(o(314))}M!==null&&M.delete(f),KR(u,_)}var QR;QR=function(u,f,_){if(u!==null)if(u.memoizedProps!==f.pendingProps||Vt.current)Wi=!0;else{if(!(u.lanes&_)&&!(f.flags&128))return Wi=!1,n6(u,f,_);Wi=!!(u.flags&131072)}else Wi=!1,Nn&&f.flags&1048576&&UP(f,Pg,f.index);switch(f.lanes=0,f.tag){case 2:var M=f.type;u!==null&&(u.alternate=null,f.alternate=null,f.flags|=2),u=f.pendingProps;var T=vt(f,Wt.current);Lu(f,_),T=lS(null,f,M,u,T,_);var L=cS();return f.flags|=1,typeof T=="object"&&T!==null&&typeof T.render=="function"&&T.$$typeof===void 0?(f.tag=1,f.memoizedState=null,f.updateQueue=null,$t(M)?(L=!0,wr(f)):L=!1,f.memoizedState=T.state!==null&&T.state!==void 0?T.state:null,qw(f),T.updater=Cg,f.stateNode=T,T._reactInternals=f,Kw(f,M,u,_),f=gS(null,f,M,!0,L,_)):(f.tag=0,Nn&&L&&Qw(f),ii(null,f,T,_),f=f.child),f;case 16:M=f.elementType;e:{switch(u!==null&&(u.alternate=null,f.alternate=null,f.flags|=2),u=f.pendingProps,T=M._init,M=T(M._payload),f.type=M,T=f.tag=v6(M),u=Ls(M,u),T){case 0:f=mS(null,f,M,u,_);break e;case 1:f=SR(null,f,M,u,_);break e;case 11:f=vR(null,f,M,u,_);break e;case 14:f=yR(null,f,M,Ls(M.type,u),_);break e}throw Error(o(306,M,""))}return f;case 0:return M=f.type,T=f.pendingProps,T=f.elementType===M?T:Ls(M,T),mS(u,f,M,T,_);case 1:return M=f.type,T=f.pendingProps,T=f.elementType===M?T:Ls(M,T),SR(u,f,M,T,_);case 3:e:{if(bR(f),u===null)throw Error(o(387));M=f.pendingProps,L=f.memoizedState,T=L.element,IP(u,f),Tg(f,M,null,_);var X=f.memoizedState;if(M=X.element,Ye&&L.isDehydrated)if(L={element:M,isDehydrated:!1,cache:X.cache,transitions:X.transitions},f.updateQueue.baseState=L,f.memoizedState=L,f.flags&256){T=Error(o(423)),f=MR(u,f,M,_,T);break e}else if(M!==T){T=Error(o(424)),f=MR(u,f,M,_,T);break e}else for(Ye&&(Hi=mg(f.stateNode.containerInfo),ji=f,Nn=!0,Ds=null,th=!1),_=WP(f,null,M,_),f.child=_;_;)_.flags=_.flags&-3|4096,_=_.sibling;else{if(Ou(),M===T){f=Yo(u,f,_);break e}ii(u,f,M,_)}f=f.child}return f;case 5:return GP(f),u===null&&tS(f),M=f.type,T=f.pendingProps,L=u!==null?u.memoizedProps:null,X=T.children,be(M,T)?X=null:L!==null&&be(M,L)&&(f.flags|=32),wR(u,f),ii(u,f,X,_),f.child;case 6:return u===null&&tS(f),null;case 13:return ER(u,f,_);case 4:return rS(f,f.stateNode.containerInfo),M=f.pendingProps,u===null?f.child=Fu(f,null,M,_):ii(u,f,M,_),f.child;case 11:return M=f.type,T=f.pendingProps,T=f.elementType===M?T:Ls(M,T),vR(u,f,M,T,_);case 7:return ii(u,f,f.pendingProps,_),f.child;case 8:return ii(u,f,f.pendingProps.children,_),f.child;case 12:return ii(u,f,f.pendingProps.children,_),f.child;case 10:e:{if(M=f.type._context,T=f.pendingProps,L=f.memoizedProps,X=T.value,RP(f,M,X),L!==null)if(oo(L.value,X)){if(L.children===T.children&&!Vt.current){f=Yo(u,f,_);break e}}else for(L=f.child,L!==null&&(L.return=f);L!==null;){var ie=L.dependencies;if(ie!==null){X=L.child;for(var we=ie.firstContext;we!==null;){if(we.context===M){if(L.tag===1){we=Wo(-1,_&-_),we.tag=2;var je=L.updateQueue;if(je!==null){je=je.shared;var ft=je.pending;ft===null?we.next=we:(we.next=ft.next,ft.next=we),je.pending=we}}L.lanes|=_,we=L.alternate,we!==null&&(we.lanes|=_),Yw(L.return,_,f),ie.lanes|=_;break}we=we.next}}else if(L.tag===10)X=L.type===f.type?null:L.child;else if(L.tag===18){if(X=L.return,X===null)throw Error(o(341));X.lanes|=_,ie=X.alternate,ie!==null&&(ie.lanes|=_),Yw(X,_,f),X=L.sibling}else X=L.child;if(X!==null)X.return=L;else for(X=L;X!==null;){if(X===f){X=null;break}if(L=X.sibling,L!==null){L.return=X.return,X=L;break}X=X.return}L=X}ii(u,f,T.children,_),f=f.child}return f;case 9:return T=f.type,M=f.pendingProps.children,Lu(f,_),T=as(T),M=M(T),f.flags|=1,ii(u,f,M,_),f.child;case 14:return M=f.type,T=Ls(M,f.pendingProps),T=Ls(M.type,T),yR(u,f,M,T,_);case 15:return xR(u,f,f.type,f.pendingProps,_);case 17:return M=f.type,T=f.pendingProps,T=f.elementType===M?T:Ls(M,T),u!==null&&(u.alternate=null,f.alternate=null,f.flags|=2),f.tag=1,$t(M)?(u=!0,wr(f)):u=!1,Lu(f,_),OP(f,M,T),Kw(f,M,T,_),gS(null,f,M,!0,u,_);case 19:return PR(u,f,_);case 22:return _R(u,f,_)}throw Error(o(156,f.tag))};function JR(u,f){return Vw(u,f)}function g6(u,f,_,M){this.tag=u,this.key=_,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=f,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=M,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function hs(u,f,_,M){return new g6(u,f,_,M)}function US(u){return u=u.prototype,!(!u||!u.isReactComponent)}function v6(u){if(typeof u=="function")return US(u)?1:0;if(u!=null){if(u=u.$$typeof,u===x)return 11;if(u===w)return 14}return 2}function ja(u,f){var _=u.alternate;return _===null?(_=hs(u.tag,f,u.key,u.mode),_.elementType=u.elementType,_.type=u.type,_.stateNode=u.stateNode,_.alternate=u,u.alternate=_):(_.pendingProps=f,_.type=u.type,_.flags=0,_.subtreeFlags=0,_.deletions=null),_.flags=u.flags&14680064,_.childLanes=u.childLanes,_.lanes=u.lanes,_.child=u.child,_.memoizedProps=u.memoizedProps,_.memoizedState=u.memoizedState,_.updateQueue=u.updateQueue,f=u.dependencies,_.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext},_.sibling=u.sibling,_.index=u.index,_.ref=u.ref,_}function av(u,f,_,M,T,L){var X=2;if(M=u,typeof u=="function")US(u)&&(X=1);else if(typeof u=="string")X=5;else e:switch(u){case d:return dc(_.children,T,L,f);case h:X=8,T|=8;break;case p:return u=hs(12,_,f,T|2),u.elementType=p,u.lanes=L,u;case y:return u=hs(13,_,f,T),u.elementType=y,u.lanes=L,u;case g:return u=hs(19,_,f,T),u.elementType=g,u.lanes=L,u;case E:return lv(_,T,L,f);default:if(typeof u=="object"&&u!==null)switch(u.$$typeof){case m:X=10;break e;case v:X=9;break e;case x:X=11;break e;case w:X=14;break e;case b:X=16,M=null;break e}throw Error(o(130,u==null?u:typeof u,""))}return f=hs(X,_,f,T),f.elementType=u,f.type=M,f.lanes=L,f}function dc(u,f,_,M){return u=hs(7,u,M,f),u.lanes=_,u}function lv(u,f,_,M){return u=hs(22,u,M,f),u.elementType=E,u.lanes=_,u.stateNode={},u}function BS(u,f,_){return u=hs(6,u,null,f),u.lanes=_,u}function zS(u,f,_){return f=hs(4,u.children!==null?u.children:[],u.key,f),f.lanes=_,f.stateNode={containerInfo:u.containerInfo,pendingChildren:null,implementation:u.implementation},f}function y6(u,f,_,M,T){this.tag=f,this.containerInfo=u,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=tt,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Bw(0),this.expirationTimes=Bw(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bw(0),this.identifierPrefix=M,this.onRecoverableError=T,Ye&&(this.mutableSourceEagerHydrationData=null)}function e2(u,f,_,M,T,L,X,ie,we){return u=new y6(u,f,_,ie,we),f===1?(f=1,L===!0&&(f|=8)):f=0,L=hs(3,null,null,f),u.current=L,L.stateNode=u,L.memoizedState={element:M,isDehydrated:_,cache:null,transitions:null},qw(L),u}function t2(u){if(!u)return qt;u=u._reactInternals;e:{if(N(u)!==u||u.tag!==1)throw Error(o(170));var f=u;do{switch(f.tag){case 3:f=f.stateNode.context;break e;case 1:if($t(f.type)){f=f.stateNode.__reactInternalMemoizedMergedChildContext;break e}}f=f.return}while(f!==null);throw Error(o(171))}if(u.tag===1){var _=u.type;if($t(_))return jo(u,_,f)}return f}function n2(u){var f=u._reactInternals;if(f===void 0)throw typeof u.render=="function"?Error(o(188)):(u=Object.keys(u).join(","),Error(o(268,u)));return u=j(f),u===null?null:u.stateNode}function r2(u,f){if(u=u.memoizedState,u!==null&&u.dehydrated!==null){var _=u.retryLane;u.retryLane=_!==0&&_<f?_:f}}function VS(u,f){r2(u,f),(u=u.alternate)&&r2(u,f)}function x6(u){return u=j(u),u===null?null:u.stateNode}function _6(){return null}return n.attemptContinuousHydration=function(u){if(u.tag===13){var f=si();fs(u,134217728,f),VS(u,134217728)}},n.attemptHydrationAtCurrentPriority=function(u){if(u.tag===13){var f=si(),_=za(u);fs(u,_,f),VS(u,_)}},n.attemptSynchronousHydration=function(u){switch(u.tag){case 3:var f=u.stateNode;if(f.current.memoizedState.isDehydrated){var _=Vi(f.pendingLanes);_!==0&&(zw(f,_|1),Mi(f,Sr()),!(Gt&6)&&(Hu(),ao()))}break;case 13:var M=si();GR(function(){return fs(u,1,M)}),VS(u,1)}},n.batchedUpdates=function(u,f){var _=Gt;Gt|=1;try{return u(f)}finally{Gt=_,Gt===0&&(Hu(),wg&&ao())}},n.createComponentSelector=function(u){return{$$typeof:$g,value:u}},n.createContainer=function(u,f,_,M,T,L,X){return e2(u,f,!1,null,_,M,T,L,X)},n.createHasPseudoClassSelector=function(u){return{$$typeof:Yg,value:u}},n.createHydrationContainer=function(u,f,_,M,T,L,X,ie,we){return u=e2(_,M,!0,u,T,L,X,ie,we),u.context=t2(null),_=u.current,M=si(),T=za(_),L=Wo(M,T),L.callback=f??null,Fa(_,L),u.current.lanes=T,eh(u,T,M),Mi(u,M),u},n.createPortal=function(u,f,_){var M=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:M==null?null:""+M,children:u,containerInfo:f,implementation:_}},n.createRoleSelector=function(u){return{$$typeof:qg,value:u}},n.createTestNameSelector=function(u){return{$$typeof:Zg,value:u}},n.createTextSelector=function(u){return{$$typeof:Kg,value:u}},n.deferredUpdates=function(u){var f=gn,_=Jn.transition;try{return Jn.transition=null,gn=16,u()}finally{gn=f,Jn.transition=_}},n.discreteUpdates=function(u,f,_,M,T){var L=gn,X=Jn.transition;try{return Jn.transition=null,gn=1,u(f,_,M,T)}finally{gn=L,Jn.transition=X,Gt===0&&Hu()}},n.findAllNodes=CS,n.findBoundingRects=function(u,f){if(!Q)throw Error(o(363));f=CS(u,f),u=[];for(var _=0;_<f.length;_++)u.push(Se(f[_]));for(f=u.length-1;0<f;f--){_=u[f];for(var M=_.x,T=M+_.width,L=_.y,X=L+_.height,ie=f-1;0<=ie;ie--)if(f!==ie){var we=u[ie],je=we.x,ft=je+we.width,Nt=we.y,Mt=Nt+we.height;if(M>=je&&L>=Nt&&T<=ft&&X<=Mt){u.splice(f,1);break}else if(M!==je||_.width!==we.width||Mt<L||Nt>X){if(!(L!==Nt||_.height!==we.height||ft<M||je>T)){je>M&&(we.width+=je-M,we.x=M),ft<T&&(we.width=T-je),u.splice(f,1);break}}else{Nt>L&&(we.height+=Nt-L,we.y=L),Mt<X&&(we.height=X-Nt),u.splice(f,1);break}}}return u},n.findHostInstance=n2,n.findHostInstanceWithNoPortals=function(u){return u=F(u),u=u!==null?$(u):null,u===null?null:u.stateNode},n.findHostInstanceWithWarning=function(u){return n2(u)},n.flushControlled=function(u){var f=Gt;Gt|=1;var _=Jn.transition,M=gn;try{Jn.transition=null,gn=1,u()}finally{gn=M,Jn.transition=_,Gt=f,Gt===0&&(Hu(),ao())}},n.flushPassiveEffects=uc,n.flushSync=GR,n.focusWithin=function(u,f){if(!Q)throw Error(o(363));for(u=MS(u),f=jR(u,f),f=Array.from(f),u=0;u<f.length;){var _=f[u++];if(!O(_)){if(_.tag===5&&ue(_.stateNode))return!0;for(_=_.child;_!==null;)f.push(_),_=_.sibling}}return!1},n.getCurrentUpdatePriority=function(){return gn},n.getFindAllNodesFailureDescription=function(u,f){if(!Q)throw Error(o(363));var _=0,M=[];u=[MS(u),0];for(var T=0;T<u.length;){var L=u[T++],X=u[T++],ie=f[X];if((L.tag!==5||!O(L))&&(ES(L,ie)&&(M.push(TS(ie)),X++,X>_&&(_=X)),X<f.length))for(L=L.child;L!==null;)u.push(L,X),L=L.sibling}if(_<f.length){for(u=[];_<f.length;_++)u.push(TS(f[_]));return`findAllNodes was able to match part of the selector:
  `+(M.join(" > ")+`

No matching component was found for:
  `)+u.join(" > ")}return null},n.getPublicRootInstance=function(u){if(u=u.current,!u.child)return null;switch(u.child.tag){case 5:return J(u.child.stateNode);default:return u.child.stateNode}},n.injectIntoDevTools=function(u){if(u={bundleType:u.bundleType,version:u.version,rendererPackageName:u.rendererPackageName,rendererConfig:u.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:a.ReactCurrentDispatcher,findHostInstanceByFiber:x6,findFiberByHostInstance:u.findFiberByHostInstance||_6,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")u=!1;else{var f=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(f.isDisabled||!f.supportsFiber)u=!0;else{try{_g=f.inject(u),so=f}catch{}u=!!f.checkDCE}}return u},n.isAlreadyRendering=function(){return!1},n.observeVisibleRects=function(u,f,_,M){if(!Q)throw Error(o(363));u=CS(u,f);var T=ye(u,_,M).disconnect;return{disconnect:function(){T()}}},n.registerMutableSourceForHydration=function(u,f){var _=f._getVersion;_=_(f._source),u.mutableSourceEagerHydrationData==null?u.mutableSourceEagerHydrationData=[f,_]:u.mutableSourceEagerHydrationData.push(f,_)},n.runWithPriority=function(u,f){var _=gn;try{return gn=u,f()}finally{gn=_}},n.shouldError=function(){return null},n.shouldSuspend=function(){return!1},n.updateContainer=function(u,f,_,M){var T=f.current,L=si(),X=za(T);return _=t2(_),f.context===null?f.context=_:f.pendingContext=_,f=Wo(L,X),f.payload={element:u},M=M===void 0?null:M,M!==null&&(f.callback=M),Fa(T,f),u=fs(T,X,L),u!==null&&Eg(u,T,X),X},n};XV.exports=Aae;var Pae=XV.exports;const Rae=mT(Pae);var $V={exports:{}},YV={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(k,W){var q=k.length;k.push(W);e:for(;0<q;){var ee=q-1>>>1,de=k[ee];if(0<i(de,W))k[ee]=W,k[q]=de,q=ee;else break e}}function n(k){return k.length===0?null:k[0]}function r(k){if(k.length===0)return null;var W=k[0],q=k.pop();if(q!==W){k[0]=q;e:for(var ee=0,de=k.length,Ae=de>>>1;ee<Ae;){var ae=2*(ee+1)-1,be=k[ae],Ee=ae+1,me=k[Ee];if(0>i(be,q))Ee<de&&0>i(me,be)?(k[ee]=me,k[Ee]=q,ee=Ee):(k[ee]=be,k[ae]=q,ee=ae);else if(Ee<de&&0>i(me,q))k[ee]=me,k[Ee]=q,ee=Ee;else break e}}return W}function i(k,W){var q=k.sortIndex-W.sortIndex;return q!==0?q:k.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],d=1,h=null,p=3,m=!1,v=!1,x=!1,y=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(k){for(var W=n(c);W!==null;){if(W.callback===null)r(c);else if(W.startTime<=k)r(c),W.sortIndex=W.expirationTime,e(l,W);else break;W=n(c)}}function E(k){if(x=!1,b(k),!v)if(n(l)!==null)v=!0,J(C);else{var W=n(c);W!==null&&re(E,W.startTime-k)}}function C(k,W){v=!1,x&&(x=!1,g(D),D=-1),m=!0;var q=p;try{for(b(W),h=n(l);h!==null&&(!(h.expirationTime>W)||k&&!F());){var ee=h.callback;if(typeof ee=="function"){h.callback=null,p=h.priorityLevel;var de=ee(h.expirationTime<=W);W=t.unstable_now(),typeof de=="function"?h.callback=de:h===n(l)&&r(l),b(W)}else r(l);h=n(l)}if(h!==null)var Ae=!0;else{var ae=n(c);ae!==null&&re(E,ae.startTime-W),Ae=!1}return Ae}finally{h=null,p=q,m=!1}}var A=!1,I=null,D=-1,N=5,R=-1;function F(){return!(t.unstable_now()-R<N)}function j(){if(I!==null){var k=t.unstable_now();R=k;var W=!0;try{W=I(!0,k)}finally{W?G():(A=!1,I=null)}}else A=!1}var G;if(typeof w=="function")G=function(){w(j)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,ne=$.port2;$.port1.onmessage=j,G=function(){ne.postMessage(null)}}else G=function(){y(j,0)};function J(k){I=k,A||(A=!0,G())}function re(k,W){D=y(function(){k(t.unstable_now())},W)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(k){k.callback=null},t.unstable_continueExecution=function(){v||m||(v=!0,J(C))},t.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<k?Math.floor(1e3/k):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(k){switch(p){case 1:case 2:case 3:var W=3;break;default:W=p}var q=p;p=W;try{return k()}finally{p=q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(k,W){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var q=p;p=k;try{return W()}finally{p=q}},t.unstable_scheduleCallback=function(k,W,q){var ee=t.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?ee+q:ee):q=ee,k){case 1:var de=-1;break;case 2:de=250;break;case 5:de=1073741823;break;case 4:de=1e4;break;default:de=5e3}return de=q+de,k={id:d++,callback:W,priorityLevel:k,startTime:q,expirationTime:de,sortIndex:-1},q>ee?(k.sortIndex=q,e(c,k),n(l)===null&&k===n(c)&&(x?(g(D),D=-1):x=!0,re(E,q-ee))):(k.sortIndex=de,e(l,k),v||m||(v=!0,J(C))),k},t.unstable_shouldYield=F,t.unstable_wrapCallback=function(k){var W=p;return function(){var q=p;p=W;try{return k.apply(this,arguments)}finally{p=q}}}})(YV);$V.exports=YV;var WD=$V.exports;const qA={},Iae=t=>void Object.assign(qA,t);function Nae(t,e){function n(d,{args:h=[],attach:p,...m},v){let x=`${d[0].toUpperCase()}${d.slice(1)}`,y;if(d==="primitive"){if(m.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const g=m.object;y=vd(g,{type:d,root:v,attach:p,primitive:!0})}else{const g=qA[x];if(!g)throw new Error(`R3F: ${x} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(h))throw new Error("R3F: The args prop must be an array!");y=vd(new g(...h),{type:d,root:v,attach:p,memoizedProps:{args:h}})}return y.__r3f.attach===void 0&&(y.isBufferGeometry?y.__r3f.attach="geometry":y.isMaterial&&(y.__r3f.attach="material")),x!=="inject"&&Rb(y,m),y}function r(d,h){let p=!1;if(h){var m,v;(m=h.__r3f)!=null&&m.attach?Pb(d,h,h.__r3f.attach):h.isObject3D&&d.isObject3D&&(d.add(h),p=!0),p||(v=d.__r3f)==null||v.objects.push(h),h.__r3f||vd(h,{}),h.__r3f.parent=d,$E(h),yd(h)}}function i(d,h,p){let m=!1;if(h){var v,x;if((v=h.__r3f)!=null&&v.attach)Pb(d,h,h.__r3f.attach);else if(h.isObject3D&&d.isObject3D){h.parent=d,h.dispatchEvent({type:"added"}),d.dispatchEvent({type:"childadded",child:h});const y=d.children.filter(w=>w!==h),g=y.indexOf(p);d.children=[...y.slice(0,g),h,...y.slice(g)],m=!0}m||(x=d.__r3f)==null||x.objects.push(h),h.__r3f||vd(h,{}),h.__r3f.parent=d,$E(h),yd(h)}}function s(d,h,p=!1){d&&[...d].forEach(m=>o(h,m,p))}function o(d,h,p){if(h){var m,v,x;if(h.__r3f&&(h.__r3f.parent=null),(m=d.__r3f)!=null&&m.objects&&(d.__r3f.objects=d.__r3f.objects.filter(E=>E!==h)),(v=h.__r3f)!=null&&v.attach)qD(d,h,h.__r3f.attach);else if(h.isObject3D&&d.isObject3D){var y;d.remove(h),(y=h.__r3f)!=null&&y.root&&zae(l0(h),h)}const w=(x=h.__r3f)==null?void 0:x.primitive,b=!w&&(p===void 0?h.dispose!==null:p);if(!w){var g;s((g=h.__r3f)==null?void 0:g.objects,h,b),s(h.children,h,b)}if(delete h.__r3f,b&&h.dispose&&h.type!=="Scene"){const E=()=>{try{h.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT>"u"?WD.unstable_scheduleCallback(WD.unstable_IdlePriority,E):E()}yd(d)}}function a(d,h,p,m){var v;const x=(v=d.__r3f)==null?void 0:v.parent;if(!x)return;const y=n(h,p,d.__r3f.root);if(d.children){for(const g of d.children)g.__r3f&&r(y,g);d.children=d.children.filter(g=>!g.__r3f)}d.__r3f.objects.forEach(g=>r(y,g)),d.__r3f.objects=[],d.__r3f.autoRemovedBeforeAppend||o(x,d),y.parent&&(y.__r3f.autoRemovedBeforeAppend=!0),r(x,y),y.raycast&&y.__r3f.eventCount&&l0(y).getState().internal.interaction.push(y),[m,m.alternate].forEach(g=>{g!==null&&(g.stateNode=y,g.ref&&(typeof g.ref=="function"?g.ref(y):g.ref.current=y))})}const l=()=>{};return{reconciler:Rae({createInstance:n,removeChild:o,appendChild:r,appendInitialChild:r,insertBefore:i,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(d,h)=>{if(!h)return;const p=d.getState().scene;p.__r3f&&(p.__r3f.root=d,r(p,h))},removeChildFromContainer:(d,h)=>{h&&o(d.getState().scene,h)},insertInContainerBefore:(d,h,p)=>{if(!h||!p)return;const m=d.getState().scene;m.__r3f&&i(m,h,p)},getRootHostContext:()=>null,getChildHostContext:d=>d,finalizeInitialChildren(d){var h;return!!((h=d==null?void 0:d.__r3f)!=null?h:{}).handlers},prepareUpdate(d,h,p,m){var v;if(((v=d==null?void 0:d.__r3f)!=null?v:{}).primitive&&m.object&&m.object!==d)return[!0];{const{args:y=[],children:g,...w}=m,{args:b=[],children:E,...C}=p;if(!Array.isArray(y))throw new Error("R3F: the args prop must be an array!");if(y.some((I,D)=>I!==b[D]))return[!0];const A=t5(d,w,C,!0);return A.changes.length?[!1,A]:null}},commitUpdate(d,[h,p],m,v,x,y){h?a(d,m,x,y):Rb(d,p)},commitMount(d,h,p,m){var v;const x=(v=d.__r3f)!=null?v:{};d.raycast&&x.handlers&&x.eventCount&&l0(d).getState().internal.interaction.push(d)},getPublicInstance:d=>d,prepareForCommit:()=>null,preparePortalMount:d=>vd(d.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(d){var h;const{attach:p,parent:m}=(h=d.__r3f)!=null?h:{};p&&m&&qD(m,d,p),d.isObject3D&&(d.visible=!1),yd(d)},unhideInstance(d,h){var p;const{attach:m,parent:v}=(p=d.__r3f)!=null?p:{};m&&v&&Pb(v,d,m),(d.isObject3D&&h.visible==null||h.visible)&&(d.visible=!0),yd(d)},createTextInstance:l,hideTextInstance:l,unhideTextInstance:l,getCurrentEventPriority:()=>e?e():Vd.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&Pn.fun(performance.now)?performance.now:Pn.fun(Date.now)?Date.now:()=>0,scheduleTimeout:Pn.fun(setTimeout)?setTimeout:void 0,cancelTimeout:Pn.fun(clearTimeout)?clearTimeout:void 0}),applyProps:Rb}}var GD,XD;const Ab=t=>"colorSpace"in t||"outputColorSpace"in t,qV=()=>{var t;return(t=qA.ColorManagement)!=null?t:null},ZV=t=>t&&t.isOrthographicCamera,Lae=t=>t&&t.hasOwnProperty("current"),eg=typeof window<"u"&&((GD=window.document)!=null&&GD.createElement||((XD=window.navigator)==null?void 0:XD.product)==="ReactNative")?P.useLayoutEffect:P.useEffect;function KV(t){const e=P.useRef(t);return eg(()=>void(e.current=t),[t]),e}function Dae({set:t}){return eg(()=>(t(new Promise(()=>null)),()=>t(!1)),[t]),null}class QV extends P.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}QV.getDerivedStateFromError=()=>({error:!0});const JV="__default",$D=new Map,kae=t=>t&&!!t.memoized&&!!t.changes;function e5(t){var e;const n=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(t)?Math.min(Math.max(t[0],n),t[1]):t}const Vh=t=>{var e;return(e=t.__r3f)==null?void 0:e.root.getState()};function l0(t){let e=t.__r3f.root;for(;e.getState().previousRoot;)e=e.getState().previousRoot;return e}const Pn={obj:t=>t===Object(t)&&!Pn.arr(t)&&typeof t!="function",fun:t=>typeof t=="function",str:t=>typeof t=="string",num:t=>typeof t=="number",boo:t=>typeof t=="boolean",und:t=>t===void 0,arr:t=>Array.isArray(t),equ(t,e,{arrays:n="shallow",objects:r="reference",strict:i=!0}={}){if(typeof t!=typeof e||!!t!=!!e)return!1;if(Pn.str(t)||Pn.num(t)||Pn.boo(t))return t===e;const s=Pn.obj(t);if(s&&r==="reference")return t===e;const o=Pn.arr(t);if(o&&n==="reference")return t===e;if((o||s)&&t===e)return!0;let a;for(a in t)if(!(a in e))return!1;if(s&&n==="shallow"&&r==="shallow"){for(a in i?e:t)if(!Pn.equ(t[a],e[a],{strict:i,objects:"reference"}))return!1}else for(a in i?e:t)if(t[a]!==e[a])return!1;if(Pn.und(a)){if(o&&t.length===0&&e.length===0||s&&Object.keys(t).length===0&&Object.keys(e).length===0)return!0;if(t!==e)return!1}return!0}};function Oae(t){t.dispose&&t.type!=="Scene"&&t.dispose();for(const e in t)e.dispose==null||e.dispose(),delete t[e]}function vd(t,e){const n=t;return n.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...e},t}function XE(t,e){let n=t;if(e.includes("-")){const r=e.split("-"),i=r.pop();return n=r.reduce((s,o)=>s[o],t),{target:n,key:i}}else return{target:n,key:e}}const YD=/-\d+$/;function Pb(t,e,n){if(Pn.str(n)){if(YD.test(n)){const s=n.replace(YD,""),{target:o,key:a}=XE(t,s);Array.isArray(o[a])||(o[a]=[])}const{target:r,key:i}=XE(t,n);e.__r3f.previousAttach=r[i],r[i]=e}else e.__r3f.previousAttach=n(t,e)}function qD(t,e,n){var r,i;if(Pn.str(n)){const{target:s,key:o}=XE(t,n),a=e.__r3f.previousAttach;a===void 0?delete s[o]:s[o]=a}else(r=e.__r3f)==null||r.previousAttach==null||r.previousAttach(t,e);(i=e.__r3f)==null||delete i.previousAttach}function t5(t,{children:e,key:n,ref:r,...i},{children:s,key:o,ref:a,...l}={},c=!1){const d=t.__r3f,h=Object.entries(i),p=[];if(c){const v=Object.keys(l);for(let x=0;x<v.length;x++)i.hasOwnProperty(v[x])||h.unshift([v[x],JV+"remove"])}h.forEach(([v,x])=>{var y;if((y=t.__r3f)!=null&&y.primitive&&v==="object"||Pn.equ(x,l[v]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(v))return p.push([v,x,!0,[]]);let g=[];v.includes("-")&&(g=v.split("-")),p.push([v,x,!1,g]);for(const w in i){const b=i[w];w.startsWith(`${v}-`)&&p.push([w,b,!1,w.split("-")])}});const m={...i};return d!=null&&d.memoizedProps&&d!=null&&d.memoizedProps.args&&(m.args=d.memoizedProps.args),d!=null&&d.memoizedProps&&d!=null&&d.memoizedProps.attach&&(m.attach=d.memoizedProps.attach),{memoized:m,changes:p}}const Fae=typeof process<"u"&&!1;function Rb(t,e){var n;const r=t.__r3f,i=r==null?void 0:r.root,s=i==null||i.getState==null?void 0:i.getState(),{memoized:o,changes:a}=kae(e)?e:t5(t,e),l=r==null?void 0:r.eventCount;t.__r3f&&(t.__r3f.memoizedProps=o);for(let p=0;p<a.length;p++){let[m,v,x,y]=a[p];if(Ab(t)){const E="srgb",C="srgb-linear";m==="encoding"?(m="colorSpace",v=v===3001?E:C):m==="outputEncoding"&&(m="outputColorSpace",v=v===3001?E:C)}let g=t,w=g[m];if(y.length&&(w=y.reduce((b,E)=>b[E],t),!(w&&w.set))){const[b,...E]=y.reverse();g=E.reverse().reduce((C,A)=>C[A],t),m=b}if(v===JV+"remove")if(g.constructor){let b=$D.get(g.constructor);b||(b=new g.constructor,$D.set(g.constructor,b)),v=b[m]}else v=0;if(x&&r)v?r.handlers[m]=v:delete r.handlers[m],r.eventCount=Object.keys(r.handlers).length;else if(w&&w.set&&(w.copy||w instanceof ru)){if(Array.isArray(v))w.fromArray?w.fromArray(v):w.set(...v);else if(w.copy&&v&&v.constructor&&(Fae?w.constructor.name===v.constructor.name:w.constructor===v.constructor))w.copy(v);else if(v!==void 0){var c;const b=(c=w)==null?void 0:c.isColor;!b&&w.setScalar?w.setScalar(v):w instanceof ru&&v instanceof ru?w.mask=v.mask:w.set(v),!qV()&&s&&!s.linear&&b&&w.convertSRGBToLinear()}}else{var d;if(g[m]=v,(d=g[m])!=null&&d.isTexture&&g[m].format===Qr&&g[m].type===Is&&s){const b=g[m];Ab(b)&&Ab(s.gl)?b.colorSpace=s.gl.outputColorSpace:b.encoding=s.gl.outputEncoding}}yd(t)}if(r&&r.parent&&t.raycast&&l!==r.eventCount){const p=l0(t).getState().internal,m=p.interaction.indexOf(t);m>-1&&p.interaction.splice(m,1),r.eventCount&&p.interaction.push(t)}return!(a.length===1&&a[0][0]==="onUpdate")&&a.length&&(n=t.__r3f)!=null&&n.parent&&$E(t),t}function yd(t){var e,n;const r=(e=t.__r3f)==null||(n=e.root)==null||n.getState==null?void 0:n.getState();r&&r.internal.frames===0&&r.invalidate()}function $E(t){t.onUpdate==null||t.onUpdate(t)}function Uae(t,e){t.manual||(ZV(t)?(t.left=e.width/-2,t.right=e.width/2,t.top=e.height/2,t.bottom=e.height/-2):t.aspect=e.width/e.height,t.updateProjectionMatrix(),t.updateMatrixWorld())}function Ay(t){return(t.eventObject||t.object).uuid+"/"+t.index+t.instanceId}function Bae(){var t;const e=typeof self<"u"&&self||typeof window<"u"&&window;if(!e)return Vd.DefaultEventPriority;switch((t=e.event)==null?void 0:t.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return Vd.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return Vd.ContinuousEventPriority;default:return Vd.DefaultEventPriority}}function n5(t,e,n,r){const i=n.get(e);i&&(n.delete(e),n.size===0&&(t.delete(r),i.target.releasePointerCapture(r)))}function zae(t,e){const{internal:n}=t.getState();n.interaction=n.interaction.filter(r=>r!==e),n.initialHits=n.initialHits.filter(r=>r!==e),n.hovered.forEach((r,i)=>{(r.eventObject===e||r.object===e)&&n.hovered.delete(i)}),n.capturedMap.forEach((r,i)=>{n5(n.capturedMap,e,r,i)})}function Vae(t){function e(l){const{internal:c}=t.getState(),d=l.offsetX-c.initialClick[0],h=l.offsetY-c.initialClick[1];return Math.round(Math.sqrt(d*d+h*h))}function n(l){return l.filter(c=>["Move","Over","Enter","Out","Leave"].some(d=>{var h;return(h=c.__r3f)==null?void 0:h.handlers["onPointer"+d]}))}function r(l,c){const d=t.getState(),h=new Set,p=[],m=c?c(d.internal.interaction):d.internal.interaction;for(let g=0;g<m.length;g++){const w=Vh(m[g]);w&&(w.raycaster.camera=void 0)}d.previousRoot||d.events.compute==null||d.events.compute(l,d);function v(g){const w=Vh(g);if(!w||!w.events.enabled||w.raycaster.camera===null)return[];if(w.raycaster.camera===void 0){var b;w.events.compute==null||w.events.compute(l,w,(b=w.previousRoot)==null?void 0:b.getState()),w.raycaster.camera===void 0&&(w.raycaster.camera=null)}return w.raycaster.camera?w.raycaster.intersectObject(g,!0):[]}let x=m.flatMap(v).sort((g,w)=>{const b=Vh(g.object),E=Vh(w.object);return!b||!E?g.distance-w.distance:E.events.priority-b.events.priority||g.distance-w.distance}).filter(g=>{const w=Ay(g);return h.has(w)?!1:(h.add(w),!0)});d.events.filter&&(x=d.events.filter(x,d));for(const g of x){let w=g.object;for(;w;){var y;(y=w.__r3f)!=null&&y.eventCount&&p.push({...g,eventObject:w}),w=w.parent}}if("pointerId"in l&&d.internal.capturedMap.has(l.pointerId))for(let g of d.internal.capturedMap.get(l.pointerId).values())h.has(Ay(g.intersection))||p.push(g.intersection);return p}function i(l,c,d,h){const p=t.getState();if(l.length){const m={stopped:!1};for(const v of l){const x=Vh(v.object)||p,{raycaster:y,pointer:g,camera:w,internal:b}=x,E=new H(g.x,g.y,0).unproject(w),C=R=>{var F,j;return(F=(j=b.capturedMap.get(R))==null?void 0:j.has(v.eventObject))!=null?F:!1},A=R=>{const F={intersection:v,target:c.target};b.capturedMap.has(R)?b.capturedMap.get(R).set(v.eventObject,F):b.capturedMap.set(R,new Map([[v.eventObject,F]])),c.target.setPointerCapture(R)},I=R=>{const F=b.capturedMap.get(R);F&&n5(b.capturedMap,v.eventObject,F,R)};let D={};for(let R in c){let F=c[R];typeof F!="function"&&(D[R]=F)}let N={...v,...D,pointer:g,intersections:l,stopped:m.stopped,delta:d,unprojectedPoint:E,ray:y.ray,camera:w,stopPropagation(){const R="pointerId"in c&&b.capturedMap.get(c.pointerId);if((!R||R.has(v.eventObject))&&(N.stopped=m.stopped=!0,b.hovered.size&&Array.from(b.hovered.values()).find(F=>F.eventObject===v.eventObject))){const F=l.slice(0,l.indexOf(v));s([...F,v])}},target:{hasPointerCapture:C,setPointerCapture:A,releasePointerCapture:I},currentTarget:{hasPointerCapture:C,setPointerCapture:A,releasePointerCapture:I},nativeEvent:c};if(h(N),m.stopped===!0)break}}return l}function s(l){const{internal:c}=t.getState();for(const d of c.hovered.values())if(!l.length||!l.find(h=>h.object===d.object&&h.index===d.index&&h.instanceId===d.instanceId)){const p=d.eventObject.__r3f,m=p==null?void 0:p.handlers;if(c.hovered.delete(Ay(d)),p!=null&&p.eventCount){const v={...d,intersections:l};m.onPointerOut==null||m.onPointerOut(v),m.onPointerLeave==null||m.onPointerLeave(v)}}}function o(l,c){for(let d=0;d<c.length;d++){const h=c[d].__r3f;h==null||h.handlers.onPointerMissed==null||h.handlers.onPointerMissed(l)}}function a(l){switch(l){case"onPointerLeave":case"onPointerCancel":return()=>s([]);case"onLostPointerCapture":return c=>{const{internal:d}=t.getState();"pointerId"in c&&d.capturedMap.has(c.pointerId)&&requestAnimationFrame(()=>{d.capturedMap.has(c.pointerId)&&(d.capturedMap.delete(c.pointerId),s([]))})}}return function(d){const{onPointerMissed:h,internal:p}=t.getState();p.lastEvent.current=d;const m=l==="onPointerMove",v=l==="onClick"||l==="onContextMenu"||l==="onDoubleClick",y=r(d,m?n:void 0),g=v?e(d):0;l==="onPointerDown"&&(p.initialClick=[d.offsetX,d.offsetY],p.initialHits=y.map(b=>b.eventObject)),v&&!y.length&&g<=2&&(o(d,p.interaction),h&&h(d)),m&&s(y);function w(b){const E=b.eventObject,C=E.__r3f,A=C==null?void 0:C.handlers;if(C!=null&&C.eventCount)if(m){if(A.onPointerOver||A.onPointerEnter||A.onPointerOut||A.onPointerLeave){const I=Ay(b),D=p.hovered.get(I);D?D.stopped&&b.stopPropagation():(p.hovered.set(I,b),A.onPointerOver==null||A.onPointerOver(b),A.onPointerEnter==null||A.onPointerEnter(b))}A.onPointerMove==null||A.onPointerMove(b)}else{const I=A[l];I?(!v||p.initialHits.includes(E))&&(o(d,p.interaction.filter(D=>!p.initialHits.includes(D))),I(b)):v&&p.initialHits.includes(E)&&o(d,p.interaction.filter(D=>!p.initialHits.includes(D)))}}i(y,d,g,w)}}return{handlePointer:a}}const r5=t=>!!(t!=null&&t.render),i5=P.createContext(null),jae=(t,e)=>{const n=Eae((a,l)=>{const c=new H,d=new H,h=new H;function p(g=l().camera,w=d,b=l().size){const{width:E,height:C,top:A,left:I}=b,D=E/C;w.isVector3?h.copy(w):h.set(...w);const N=g.getWorldPosition(c).distanceTo(h);if(ZV(g))return{width:E/g.zoom,height:C/g.zoom,top:A,left:I,factor:1,distance:N,aspect:D};{const R=g.fov*Math.PI/180,F=2*Math.tan(R/2)*N,j=F*(E/C);return{width:j,height:F,top:A,left:I,factor:E/j,distance:N,aspect:D}}}let m;const v=g=>a(w=>({performance:{...w.performance,current:g}})),x=new Te;return{set:a,get:l,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(g=1)=>t(l(),g),advance:(g,w)=>e(g,w,l()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new HA,pointer:x,mouse:x,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const g=l();m&&clearTimeout(m),g.performance.current!==g.performance.min&&v(g.performance.min),m=setTimeout(()=>v(l().performance.max),g.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:p},setEvents:g=>a(w=>({...w,events:{...w.events,...g}})),setSize:(g,w,b,E,C)=>{const A=l().camera,I={width:g,height:w,top:E||0,left:C||0,updateStyle:b};a(D=>({size:I,viewport:{...D.viewport,...p(A,d,I)}}))},setDpr:g=>a(w=>{const b=e5(g);return{viewport:{...w.viewport,dpr:b,initialDpr:w.viewport.initialDpr||b}}}),setFrameloop:(g="always")=>{const w=l().clock;w.stop(),w.elapsedTime=0,g!=="never"&&(w.start(),w.elapsedTime=0),a(()=>({frameloop:g}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:P.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(g,w,b)=>{const E=l().internal;return E.priority=E.priority+(w>0?1:0),E.subscribers.push({ref:g,priority:w,store:b}),E.subscribers=E.subscribers.sort((C,A)=>C.priority-A.priority),()=>{const C=l().internal;C!=null&&C.subscribers&&(C.priority=C.priority-(w>0?1:0),C.subscribers=C.subscribers.filter(A=>A.ref!==g))}}}}}),r=n.getState();let i=r.size,s=r.viewport.dpr,o=r.camera;return n.subscribe(()=>{const{camera:a,size:l,viewport:c,gl:d,set:h}=n.getState();if(l.width!==i.width||l.height!==i.height||c.dpr!==s){var p;i=l,s=c.dpr,Uae(a,l),d.setPixelRatio(c.dpr);const m=(p=l.updateStyle)!=null?p:typeof HTMLCanvasElement<"u"&&d.domElement instanceof HTMLCanvasElement;d.setSize(l.width,l.height,m)}a!==o&&(o=a,h(m=>({viewport:{...m.viewport,...m.viewport.getCurrentViewport(a)}})))}),n.subscribe(a=>t(a)),n};let Py,Hae=new Set,Wae=new Set,Gae=new Set;function Ib(t,e){if(t.size)for(const{callback:n}of t.values())n(e)}function jh(t,e){switch(t){case"before":return Ib(Hae,e);case"after":return Ib(Wae,e);case"tail":return Ib(Gae,e)}}let Nb,Lb;function Db(t,e,n){let r=e.clock.getDelta();for(e.frameloop==="never"&&typeof t=="number"&&(r=t-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=t),Nb=e.internal.subscribers,Py=0;Py<Nb.length;Py++)Lb=Nb[Py],Lb.ref.current(Lb.store.getState(),r,n);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function Xae(t){let e=!1,n=!1,r,i,s;function o(c){i=requestAnimationFrame(o),e=!0,r=0,jh("before",c),n=!0;for(const h of t.values()){var d;s=h.store.getState(),s.internal.active&&(s.frameloop==="always"||s.internal.frames>0)&&!((d=s.gl.xr)!=null&&d.isPresenting)&&(r+=Db(c,s))}if(n=!1,jh("after",c),r===0)return jh("tail",c),e=!1,cancelAnimationFrame(i)}function a(c,d=1){var h;if(!c)return t.forEach(p=>a(p.store.getState(),d));(h=c.gl.xr)!=null&&h.isPresenting||!c.internal.active||c.frameloop==="never"||(d>1?c.internal.frames=Math.min(60,c.internal.frames+d):n?c.internal.frames=2:c.internal.frames=1,e||(e=!0,requestAnimationFrame(o)))}function l(c,d=!0,h,p){if(d&&jh("before",c),h)Db(c,h,p);else for(const m of t.values())Db(c,m.store.getState());d&&jh("after",c)}return{loop:o,invalidate:a,advance:l}}function s5(){const t=P.useContext(i5);if(!t)throw new Error("R3F: Hooks can only be used within the Canvas component!");return t}function el(t=n=>n,e){return s5()(t,e)}function o5(t,e=0){const n=s5(),r=n.getState().internal.subscribe,i=KV(t);return eg(()=>r(i,e,n),[e,r,n]),null}const Nf=new Map,{invalidate:ZD,advance:KD}=Xae(Nf),{reconciler:Fx,applyProps:dd}=Nae(Nf,Bae),fd={objects:"shallow",strict:!1},$ae=(t,e)=>{const n=typeof t=="function"?t(e):t;return r5(n)?n:new WV({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...t})};function Yae(t,e){const n=typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement;if(e){const{width:r,height:i,top:s,left:o,updateStyle:a=n}=e;return{width:r,height:i,top:s,left:o,updateStyle:a}}else if(typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&t.parentElement){const{width:r,height:i,top:s,left:o}=t.parentElement.getBoundingClientRect();return{width:r,height:i,top:s,left:o,updateStyle:n}}else if(typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas)return{width:t.width,height:t.height,top:0,left:0,updateStyle:n};return{width:0,height:0,top:0,left:0}}function qae(t){const e=Nf.get(t),n=e==null?void 0:e.fiber,r=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const i=typeof reportError=="function"?reportError:console.error,s=r||jae(ZD,KD),o=n||Fx.createContainer(s,Vd.ConcurrentRoot,null,!1,null,"",i,null);e||Nf.set(t,{fiber:o,store:s});let a,l=!1,c;return{configure(d={}){let{gl:h,size:p,scene:m,events:v,onCreated:x,shadows:y=!1,linear:g=!1,flat:w=!1,legacy:b=!1,orthographic:E=!1,frameloop:C="always",dpr:A=[1,2],performance:I,raycaster:D,camera:N,onPointerMissed:R}=d,F=s.getState(),j=F.gl;F.gl||F.set({gl:j=$ae(h,t)});let G=F.raycaster;G||F.set({raycaster:G=new OV});const{params:$,...ne}=D||{};if(Pn.equ(ne,G,fd)||dd(G,{...ne}),Pn.equ($,G.params,fd)||dd(G,{params:{...G.params,...$}}),!F.camera||F.camera===c&&!Pn.equ(c,N,fd)){c=N;const q=N instanceof Xm,ee=q?N:E?new Nl(0,0,0,0,.1,1e3):new rr(75,0,.1,1e3);q||(ee.position.z=5,N&&(dd(ee,N),("aspect"in N||"left"in N||"right"in N||"bottom"in N||"top"in N)&&(ee.manual=!0,ee.updateProjectionMatrix())),!F.camera&&!(N!=null&&N.rotation)&&ee.lookAt(0,0,0)),F.set({camera:ee}),G.camera=ee}if(!F.scene){let q;m!=null&&m.isScene?q=m:(q=new bA,m&&dd(q,m)),F.set({scene:vd(q)})}if(!F.xr){var J;const q=(Ae,ae)=>{const be=s.getState();be.frameloop!=="never"&&KD(Ae,!0,be,ae)},ee=()=>{const Ae=s.getState();Ae.gl.xr.enabled=Ae.gl.xr.isPresenting,Ae.gl.xr.setAnimationLoop(Ae.gl.xr.isPresenting?q:null),Ae.gl.xr.isPresenting||ZD(Ae)},de={connect(){const Ae=s.getState().gl;Ae.xr.addEventListener("sessionstart",ee),Ae.xr.addEventListener("sessionend",ee)},disconnect(){const Ae=s.getState().gl;Ae.xr.removeEventListener("sessionstart",ee),Ae.xr.removeEventListener("sessionend",ee)}};typeof((J=j.xr)==null?void 0:J.addEventListener)=="function"&&de.connect(),F.set({xr:de})}if(j.shadowMap){const q=j.shadowMap.enabled,ee=j.shadowMap.type;if(j.shadowMap.enabled=!!y,Pn.boo(y))j.shadowMap.type=yp;else if(Pn.str(y)){var re;const de={basic:Xz,percentage:z_,soft:yp,variance:Hs};j.shadowMap.type=(re=de[y])!=null?re:yp}else Pn.obj(y)&&Object.assign(j.shadowMap,y);(q!==j.shadowMap.enabled||ee!==j.shadowMap.type)&&(j.shadowMap.needsUpdate=!0)}const k=qV();k&&("enabled"in k?k.enabled=!b:"legacyMode"in k&&(k.legacyMode=b)),l||dd(j,{outputEncoding:g?3e3:3001,toneMapping:w?No:lA}),F.legacy!==b&&F.set(()=>({legacy:b})),F.linear!==g&&F.set(()=>({linear:g})),F.flat!==w&&F.set(()=>({flat:w})),h&&!Pn.fun(h)&&!r5(h)&&!Pn.equ(h,j,fd)&&dd(j,h),v&&!F.events.handlers&&F.set({events:v(s)});const W=Yae(t,p);return Pn.equ(W,F.size,fd)||F.setSize(W.width,W.height,W.updateStyle,W.top,W.left),A&&F.viewport.dpr!==e5(A)&&F.setDpr(A),F.frameloop!==C&&F.setFrameloop(C),F.onPointerMissed||F.set({onPointerMissed:R}),I&&!Pn.equ(I,F.performance,fd)&&F.set(q=>({performance:{...q.performance,...I}})),a=x,l=!0,this},render(d){return l||this.configure(),Fx.updateContainer(S.jsx(Zae,{store:s,children:d,onCreated:a,rootElement:t}),o,null,()=>{}),s},unmount(){a5(t)}}}function Zae({store:t,children:e,onCreated:n,rootElement:r}){return eg(()=>{const i=t.getState();i.set(s=>({internal:{...s.internal,active:!0}})),n&&n(i),t.getState().events.connected||i.events.connect==null||i.events.connect(r)},[]),S.jsx(i5.Provider,{value:t,children:e})}function a5(t,e){const n=Nf.get(t),r=n==null?void 0:n.fiber;if(r){const i=n==null?void 0:n.store.getState();i&&(i.internal.active=!1),Fx.updateContainer(null,r,null,()=>{i&&setTimeout(()=>{try{var s,o,a,l;i.events.disconnect==null||i.events.disconnect(),(s=i.gl)==null||(o=s.renderLists)==null||o.dispose==null||o.dispose(),(a=i.gl)==null||a.forceContextLoss==null||a.forceContextLoss(),(l=i.gl)!=null&&l.xr&&i.xr.disconnect(),Oae(i),Nf.delete(t)}catch{}},500)})}}Fx.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:P.version});const kb={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function Kae(t){const{handlePointer:e}=Vae(t);return{priority:1,enabled:!0,compute(n,r,i){r.pointer.set(n.offsetX/r.size.width*2-1,-(n.offsetY/r.size.height)*2+1),r.raycaster.setFromCamera(r.pointer,r.camera)},connected:void 0,handlers:Object.keys(kb).reduce((n,r)=>({...n,[r]:e(r)}),{}),update:()=>{var n;const{events:r,internal:i}=t.getState();(n=i.lastEvent)!=null&&n.current&&r.handlers&&r.handlers.onPointerMove(i.lastEvent.current)},connect:n=>{var r;const{set:i,events:s}=t.getState();s.disconnect==null||s.disconnect(),i(o=>({events:{...o.events,connected:n}})),Object.entries((r=s.handlers)!=null?r:[]).forEach(([o,a])=>{const[l,c]=kb[o];n.addEventListener(l,a,{passive:c})})},disconnect:()=>{const{set:n,events:r}=t.getState();if(r.connected){var i;Object.entries((i=r.handlers)!=null?i:[]).forEach(([s,o])=>{if(r&&r.connected instanceof HTMLElement){const[a]=kb[s];r.connected.removeEventListener(a,o)}}),n(s=>({events:{...s.events,connected:void 0}}))}}}}function QD(t,e){let n;return(...r)=>{window.clearTimeout(n),n=window.setTimeout(()=>t(...r),e)}}function Qae({debounce:t,scroll:e,polyfill:n,offsetSize:r}={debounce:0,scroll:!1,offsetSize:!1}){const i=n||(typeof window>"u"?class{}:window.ResizeObserver);if(!i)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[s,o]=P.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),a=P.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:s,orientationHandler:null}),l=t?typeof t=="number"?t:t.scroll:null,c=t?typeof t=="number"?t:t.resize:null,d=P.useRef(!1);P.useEffect(()=>(d.current=!0,()=>void(d.current=!1)));const[h,p,m]=P.useMemo(()=>{const g=()=>{if(!a.current.element)return;const{left:w,top:b,width:E,height:C,bottom:A,right:I,x:D,y:N}=a.current.element.getBoundingClientRect(),R={left:w,top:b,width:E,height:C,bottom:A,right:I,x:D,y:N};a.current.element instanceof HTMLElement&&r&&(R.height=a.current.element.offsetHeight,R.width=a.current.element.offsetWidth),Object.freeze(R),d.current&&!nle(a.current.lastBounds,R)&&o(a.current.lastBounds=R)};return[g,c?QD(g,c):g,l?QD(g,l):g]},[o,r,l,c]);function v(){a.current.scrollContainers&&(a.current.scrollContainers.forEach(g=>g.removeEventListener("scroll",m,!0)),a.current.scrollContainers=null),a.current.resizeObserver&&(a.current.resizeObserver.disconnect(),a.current.resizeObserver=null),a.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",a.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",a.current.orientationHandler))}function x(){a.current.element&&(a.current.resizeObserver=new i(m),a.current.resizeObserver.observe(a.current.element),e&&a.current.scrollContainers&&a.current.scrollContainers.forEach(g=>g.addEventListener("scroll",m,{capture:!0,passive:!0})),a.current.orientationHandler=()=>{m()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",a.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",a.current.orientationHandler))}const y=g=>{!g||g===a.current.element||(v(),a.current.element=g,a.current.scrollContainers=l5(g),x())};return ele(m,!!e),Jae(p),P.useEffect(()=>{v(),x()},[e,m,p]),P.useEffect(()=>v,[]),[y,s,h]}function Jae(t){P.useEffect(()=>{const e=t;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[t])}function ele(t,e){P.useEffect(()=>{if(e){const n=t;return window.addEventListener("scroll",n,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",n,!0)}},[t,e])}function l5(t){const e=[];if(!t||t===document.body)return e;const{overflow:n,overflowX:r,overflowY:i}=window.getComputedStyle(t);return[n,r,i].some(s=>s==="auto"||s==="scroll")&&e.push(t),[...e,...l5(t.parentElement)]}const tle=["x","y","top","bottom","left","right","width","height"],nle=(t,e)=>tle.every(n=>t[n]===e[n]);var rle=Object.defineProperty,ile=Object.defineProperties,sle=Object.getOwnPropertyDescriptors,JD=Object.getOwnPropertySymbols,ole=Object.prototype.hasOwnProperty,ale=Object.prototype.propertyIsEnumerable,ek=(t,e,n)=>e in t?rle(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,tk=(t,e)=>{for(var n in e||(e={}))ole.call(e,n)&&ek(t,n,e[n]);if(JD)for(var n of JD(e))ale.call(e,n)&&ek(t,n,e[n]);return t},lle=(t,e)=>ile(t,sle(e)),nk,rk;typeof window<"u"&&((nk=window.document)!=null&&nk.createElement||((rk=window.navigator)==null?void 0:rk.product)==="ReactNative")?P.useLayoutEffect:P.useEffect;function c5(t,e,n){if(!t)return;if(n(t)===!0)return t;let r=t.child;for(;r;){const i=c5(r,e,n);if(i)return i;r=r.sibling}}function u5(t){try{return Object.defineProperties(t,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return t}}const ik=console.error;console.error=function(){const t=[...arguments].join("");if(t!=null&&t.startsWith("Warning:")&&t.includes("useContext")){console.error=ik;return}return ik.apply(this,arguments)};const ZA=u5(P.createContext(null));class d5 extends P.Component{render(){return P.createElement(ZA.Provider,{value:this._reactInternals},this.props.children)}}function cle(){const t=P.useContext(ZA);if(t===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=P.useId();return P.useMemo(()=>{for(const r of[t,t==null?void 0:t.alternate]){if(!r)continue;const i=c5(r,!1,s=>{let o=s.memoizedState;for(;o;){if(o.memoizedState===e)return!0;o=o.next}});if(i)return i}},[t,e])}function ule(){const t=cle(),[e]=P.useState(()=>new Map);e.clear();let n=t;for(;n;){if(n.type&&typeof n.type=="object"){const i=n.type._context===void 0&&n.type.Provider===n.type?n.type:n.type._context;i&&i!==ZA&&!e.has(i)&&e.set(i,P.useContext(u5(i)))}n=n.return}return e}function dle(){const t=ule();return P.useMemo(()=>Array.from(t.keys()).reduce((e,n)=>r=>P.createElement(e,null,P.createElement(n.Provider,lle(tk({},r),{value:t.get(n)}))),e=>P.createElement(d5,tk({},e))),[t])}const fle=P.forwardRef(function({children:e,fallback:n,resize:r,style:i,gl:s,events:o=Kae,eventSource:a,eventPrefix:l,shadows:c,linear:d,flat:h,legacy:p,orthographic:m,frameloop:v,dpr:x,performance:y,raycaster:g,camera:w,scene:b,onPointerMissed:E,onCreated:C,...A},I){P.useMemo(()=>Iae(Sae),[]);const D=dle(),[N,R]=Qae({scroll:!0,debounce:{scroll:50,resize:0},...r}),F=P.useRef(null),j=P.useRef(null);P.useImperativeHandle(I,()=>F.current);const G=KV(E),[$,ne]=P.useState(!1),[J,re]=P.useState(!1);if($)throw $;if(J)throw J;const k=P.useRef(null);eg(()=>{const q=F.current;R.width>0&&R.height>0&&q&&(k.current||(k.current=qae(q)),k.current.configure({gl:s,events:o,shadows:c,linear:d,flat:h,legacy:p,orthographic:m,frameloop:v,dpr:x,performance:y,raycaster:g,camera:w,scene:b,size:R,onPointerMissed:(...ee)=>G.current==null?void 0:G.current(...ee),onCreated:ee=>{ee.events.connect==null||ee.events.connect(a?Lae(a)?a.current:a:j.current),l&&ee.setEvents({compute:(de,Ae)=>{const ae=de[l+"X"],be=de[l+"Y"];Ae.pointer.set(ae/Ae.size.width*2-1,-(be/Ae.size.height)*2+1),Ae.raycaster.setFromCamera(Ae.pointer,Ae.camera)}}),C==null||C(ee)}}),k.current.render(S.jsx(D,{children:S.jsx(QV,{set:re,children:S.jsx(P.Suspense,{fallback:S.jsx(Dae,{set:ne}),children:e??null})})})))}),P.useEffect(()=>{const q=F.current;if(q)return()=>a5(q)},[]);const W=a?"none":"auto";return S.jsx("div",{ref:j,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:W,...i},...A,children:S.jsx("div",{ref:N,style:{width:"100%",height:"100%"},children:S.jsx("canvas",{ref:F,style:{display:"block"},children:n})})})}),hle=P.forwardRef(function(e,n){return S.jsx(d5,{children:S.jsx(fle,{...e,ref:n})})});function YE(){return YE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},YE.apply(null,arguments)}var ple=Object.defineProperty,mle=(t,e,n)=>e in t?ple(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,gle=(t,e,n)=>(mle(t,e+"",n),n);class vle{constructor(){gle(this,"_listeners")}addEventListener(e,n){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(n)===-1&&r[e].push(n)}hasEventListener(e,n){if(this._listeners===void 0)return!1;const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(n)!==-1}removeEventListener(e,n){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const s=i.indexOf(n);s!==-1&&i.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const r=this._listeners[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let s=0,o=i.length;s<o;s++)i[s].call(this,e);e.target=null}}}var yle=Object.defineProperty,xle=(t,e,n)=>e in t?yle(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Et=(t,e,n)=>(xle(t,typeof e!="symbol"?e+"":e,n),n);const Ry=new Eu,sk=new aa,_le=Math.cos(70*(Math.PI/180)),ok=(t,e)=>(t%e+e)%e;let wle=class extends vle{constructor(e,n){super(),Et(this,"object"),Et(this,"domElement"),Et(this,"enabled",!0),Et(this,"target",new H),Et(this,"minDistance",0),Et(this,"maxDistance",1/0),Et(this,"minZoom",0),Et(this,"maxZoom",1/0),Et(this,"minPolarAngle",0),Et(this,"maxPolarAngle",Math.PI),Et(this,"minAzimuthAngle",-1/0),Et(this,"maxAzimuthAngle",1/0),Et(this,"enableDamping",!1),Et(this,"dampingFactor",.05),Et(this,"enableZoom",!0),Et(this,"zoomSpeed",1),Et(this,"enableRotate",!0),Et(this,"rotateSpeed",1),Et(this,"enablePan",!0),Et(this,"panSpeed",1),Et(this,"screenSpacePanning",!0),Et(this,"keyPanSpeed",7),Et(this,"zoomToCursor",!1),Et(this,"autoRotate",!1),Et(this,"autoRotateSpeed",2),Et(this,"reverseOrbit",!1),Et(this,"reverseHorizontalOrbit",!1),Et(this,"reverseVerticalOrbit",!1),Et(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),Et(this,"mouseButtons",{LEFT:Nc.ROTATE,MIDDLE:Nc.DOLLY,RIGHT:Nc.PAN}),Et(this,"touches",{ONE:Lc.ROTATE,TWO:Lc.DOLLY_PAN}),Et(this,"target0"),Et(this,"position0"),Et(this,"zoom0"),Et(this,"_domElementKeyEvents",null),Et(this,"getPolarAngle"),Et(this,"getAzimuthalAngle"),Et(this,"setPolarAngle"),Et(this,"setAzimuthalAngle"),Et(this,"getDistance"),Et(this,"getZoomScale"),Et(this,"listenToKeyEvents"),Et(this,"stopListenToKeyEvents"),Et(this,"saveState"),Et(this,"reset"),Et(this,"update"),Et(this,"connect"),Et(this,"dispose"),Et(this,"dollyIn"),Et(this,"dollyOut"),Et(this,"getScale"),Et(this,"setScale"),this.object=e,this.domElement=n,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>d.phi,this.getAzimuthalAngle=()=>d.theta,this.setPolarAngle=K=>{let ce=ok(K,2*Math.PI),_e=d.phi;_e<0&&(_e+=2*Math.PI),ce<0&&(ce+=2*Math.PI);let Y=Math.abs(ce-_e);2*Math.PI-Y<Y&&(ce<_e?ce+=2*Math.PI:_e+=2*Math.PI),h.phi=ce-_e,r.update()},this.setAzimuthalAngle=K=>{let ce=ok(K,2*Math.PI),_e=d.theta;_e<0&&(_e+=2*Math.PI),ce<0&&(ce+=2*Math.PI);let Y=Math.abs(ce-_e);2*Math.PI-Y<Y&&(ce<_e?ce+=2*Math.PI:_e+=2*Math.PI),h.theta=ce-_e,r.update()},this.getDistance=()=>r.object.position.distanceTo(r.target),this.listenToKeyEvents=K=>{K.addEventListener("keydown",ve),this._domElementKeyEvents=K},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",ve),this._domElementKeyEvents=null},this.saveState=()=>{r.target0.copy(r.target),r.position0.copy(r.object.position),r.zoom0=r.object.zoom},this.reset=()=>{r.target.copy(r.target0),r.object.position.copy(r.position0),r.object.zoom=r.zoom0,r.object.updateProjectionMatrix(),r.dispatchEvent(i),r.update(),l=a.NONE},this.update=(()=>{const K=new H,ce=new H(0,1,0),_e=new Jr().setFromUnitVectors(e.up,ce),Y=_e.clone().invert(),Me=new H,Ce=new Jr,We=2*Math.PI;return function(){const Pe=r.object.position;_e.setFromUnitVectors(e.up,ce),Y.copy(_e).invert(),K.copy(Pe).sub(r.target),K.applyQuaternion(_e),d.setFromVector3(K),r.autoRotate&&l===a.NONE&&$(j()),r.enableDamping?(d.theta+=h.theta*r.dampingFactor,d.phi+=h.phi*r.dampingFactor):(d.theta+=h.theta,d.phi+=h.phi);let Je=r.minAzimuthAngle,wt=r.maxAzimuthAngle;isFinite(Je)&&isFinite(wt)&&(Je<-Math.PI?Je+=We:Je>Math.PI&&(Je-=We),wt<-Math.PI?wt+=We:wt>Math.PI&&(wt-=We),Je<=wt?d.theta=Math.max(Je,Math.min(wt,d.theta)):d.theta=d.theta>(Je+wt)/2?Math.max(Je,d.theta):Math.min(wt,d.theta)),d.phi=Math.max(r.minPolarAngle,Math.min(r.maxPolarAngle,d.phi)),d.makeSafe(),r.enableDamping===!0?r.target.addScaledVector(m,r.dampingFactor):r.target.add(m),r.zoomToCursor&&N||r.object.isOrthographicCamera?d.radius=Ae(d.radius):d.radius=Ae(d.radius*p),K.setFromSpherical(d),K.applyQuaternion(Y),Pe.copy(r.target).add(K),r.object.matrixAutoUpdate||r.object.updateMatrix(),r.object.lookAt(r.target),r.enableDamping===!0?(h.theta*=1-r.dampingFactor,h.phi*=1-r.dampingFactor,m.multiplyScalar(1-r.dampingFactor)):(h.set(0,0,0),m.set(0,0,0));let ln=!1;if(r.zoomToCursor&&N){let Xt=null;if(r.object instanceof rr&&r.object.isPerspectiveCamera){const sr=K.length();Xt=Ae(sr*p);const Fr=sr-Xt;r.object.position.addScaledVector(I,Fr),r.object.updateMatrixWorld()}else if(r.object.isOrthographicCamera){const sr=new H(D.x,D.y,0);sr.unproject(r.object),r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/p)),r.object.updateProjectionMatrix(),ln=!0;const Fr=new H(D.x,D.y,0);Fr.unproject(r.object),r.object.position.sub(Fr).add(sr),r.object.updateMatrixWorld(),Xt=K.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),r.zoomToCursor=!1;Xt!==null&&(r.screenSpacePanning?r.target.set(0,0,-1).transformDirection(r.object.matrix).multiplyScalar(Xt).add(r.object.position):(Ry.origin.copy(r.object.position),Ry.direction.set(0,0,-1).transformDirection(r.object.matrix),Math.abs(r.object.up.dot(Ry.direction))<_le?e.lookAt(r.target):(sk.setFromNormalAndCoplanarPoint(r.object.up,r.target),Ry.intersectPlane(sk,r.target))))}else r.object instanceof Nl&&r.object.isOrthographicCamera&&(ln=p!==1,ln&&(r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/p)),r.object.updateProjectionMatrix()));return p=1,N=!1,ln||Me.distanceToSquared(r.object.position)>c||8*(1-Ce.dot(r.object.quaternion))>c?(r.dispatchEvent(i),Me.copy(r.object.position),Ce.copy(r.object.quaternion),ln=!1,!0):!1}})(),this.connect=K=>{r.domElement=K,r.domElement.style.touchAction="none",r.domElement.addEventListener("contextmenu",it),r.domElement.addEventListener("pointerdown",Se),r.domElement.addEventListener("pointercancel",O),r.domElement.addEventListener("wheel",ye)},this.dispose=()=>{var K,ce,_e,Y,Me,Ce;r.domElement&&(r.domElement.style.touchAction="auto"),(K=r.domElement)==null||K.removeEventListener("contextmenu",it),(ce=r.domElement)==null||ce.removeEventListener("pointerdown",Se),(_e=r.domElement)==null||_e.removeEventListener("pointercancel",O),(Y=r.domElement)==null||Y.removeEventListener("wheel",ye),(Me=r.domElement)==null||Me.ownerDocument.removeEventListener("pointermove",U),(Ce=r.domElement)==null||Ce.ownerDocument.removeEventListener("pointerup",O),r._domElementKeyEvents!==null&&r._domElementKeyEvents.removeEventListener("keydown",ve)};const r=this,i={type:"change"},s={type:"start"},o={type:"end"},a={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let l=a.NONE;const c=1e-6,d=new jE,h=new jE;let p=1;const m=new H,v=new Te,x=new Te,y=new Te,g=new Te,w=new Te,b=new Te,E=new Te,C=new Te,A=new Te,I=new H,D=new Te;let N=!1;const R=[],F={};function j(){return 2*Math.PI/60/60*r.autoRotateSpeed}function G(){return Math.pow(.95,r.zoomSpeed)}function $(K){r.reverseOrbit||r.reverseHorizontalOrbit?h.theta+=K:h.theta-=K}function ne(K){r.reverseOrbit||r.reverseVerticalOrbit?h.phi+=K:h.phi-=K}const J=(()=>{const K=new H;return function(_e,Y){K.setFromMatrixColumn(Y,0),K.multiplyScalar(-_e),m.add(K)}})(),re=(()=>{const K=new H;return function(_e,Y){r.screenSpacePanning===!0?K.setFromMatrixColumn(Y,1):(K.setFromMatrixColumn(Y,0),K.crossVectors(r.object.up,K)),K.multiplyScalar(_e),m.add(K)}})(),k=(()=>{const K=new H;return function(_e,Y){const Me=r.domElement;if(Me&&r.object instanceof rr&&r.object.isPerspectiveCamera){const Ce=r.object.position;K.copy(Ce).sub(r.target);let We=K.length();We*=Math.tan(r.object.fov/2*Math.PI/180),J(2*_e*We/Me.clientHeight,r.object.matrix),re(2*Y*We/Me.clientHeight,r.object.matrix)}else Me&&r.object instanceof Nl&&r.object.isOrthographicCamera?(J(_e*(r.object.right-r.object.left)/r.object.zoom/Me.clientWidth,r.object.matrix),re(Y*(r.object.top-r.object.bottom)/r.object.zoom/Me.clientHeight,r.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),r.enablePan=!1)}})();function W(K){r.object instanceof rr&&r.object.isPerspectiveCamera||r.object instanceof Nl&&r.object.isOrthographicCamera?p=K:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function q(K){W(p/K)}function ee(K){W(p*K)}function de(K){if(!r.zoomToCursor||!r.domElement)return;N=!0;const ce=r.domElement.getBoundingClientRect(),_e=K.clientX-ce.left,Y=K.clientY-ce.top,Me=ce.width,Ce=ce.height;D.x=_e/Me*2-1,D.y=-(Y/Ce)*2+1,I.set(D.x,D.y,1).unproject(r.object).sub(r.object.position).normalize()}function Ae(K){return Math.max(r.minDistance,Math.min(r.maxDistance,K))}function ae(K){v.set(K.clientX,K.clientY)}function be(K){de(K),E.set(K.clientX,K.clientY)}function Ee(K){g.set(K.clientX,K.clientY)}function me(K){x.set(K.clientX,K.clientY),y.subVectors(x,v).multiplyScalar(r.rotateSpeed);const ce=r.domElement;ce&&($(2*Math.PI*y.x/ce.clientHeight),ne(2*Math.PI*y.y/ce.clientHeight)),v.copy(x),r.update()}function ke(K){C.set(K.clientX,K.clientY),A.subVectors(C,E),A.y>0?q(G()):A.y<0&&ee(G()),E.copy(C),r.update()}function tt(K){w.set(K.clientX,K.clientY),b.subVectors(w,g).multiplyScalar(r.panSpeed),k(b.x,b.y),g.copy(w),r.update()}function Fe(K){de(K),K.deltaY<0?ee(G()):K.deltaY>0&&q(G()),r.update()}function nt(K){let ce=!1;switch(K.code){case r.keys.UP:k(0,r.keyPanSpeed),ce=!0;break;case r.keys.BOTTOM:k(0,-r.keyPanSpeed),ce=!0;break;case r.keys.LEFT:k(r.keyPanSpeed,0),ce=!0;break;case r.keys.RIGHT:k(-r.keyPanSpeed,0),ce=!0;break}ce&&(K.preventDefault(),r.update())}function qe(){if(R.length==1)v.set(R[0].pageX,R[0].pageY);else{const K=.5*(R[0].pageX+R[1].pageX),ce=.5*(R[0].pageY+R[1].pageY);v.set(K,ce)}}function Ye(){if(R.length==1)g.set(R[0].pageX,R[0].pageY);else{const K=.5*(R[0].pageX+R[1].pageX),ce=.5*(R[0].pageY+R[1].pageY);g.set(K,ce)}}function V(){const K=R[0].pageX-R[1].pageX,ce=R[0].pageY-R[1].pageY,_e=Math.sqrt(K*K+ce*ce);E.set(0,_e)}function Oe(){r.enableZoom&&V(),r.enablePan&&Ye()}function Re(){r.enableZoom&&V(),r.enableRotate&&qe()}function Ue(K){if(R.length==1)x.set(K.pageX,K.pageY);else{const _e=gt(K),Y=.5*(K.pageX+_e.x),Me=.5*(K.pageY+_e.y);x.set(Y,Me)}y.subVectors(x,v).multiplyScalar(r.rotateSpeed);const ce=r.domElement;ce&&($(2*Math.PI*y.x/ce.clientHeight),ne(2*Math.PI*y.y/ce.clientHeight)),v.copy(x)}function B(K){if(R.length==1)w.set(K.pageX,K.pageY);else{const ce=gt(K),_e=.5*(K.pageX+ce.x),Y=.5*(K.pageY+ce.y);w.set(_e,Y)}b.subVectors(w,g).multiplyScalar(r.panSpeed),k(b.x,b.y),g.copy(w)}function Z(K){const ce=gt(K),_e=K.pageX-ce.x,Y=K.pageY-ce.y,Me=Math.sqrt(_e*_e+Y*Y);C.set(0,Me),A.set(0,Math.pow(C.y/E.y,r.zoomSpeed)),q(A.y),E.copy(C)}function Q(K){r.enableZoom&&Z(K),r.enablePan&&B(K)}function ge(K){r.enableZoom&&Z(K),r.enableRotate&&Ue(K)}function Se(K){var ce,_e;r.enabled!==!1&&(R.length===0&&((ce=r.domElement)==null||ce.ownerDocument.addEventListener("pointermove",U),(_e=r.domElement)==null||_e.ownerDocument.addEventListener("pointerup",O)),ct(K),K.pointerType==="touch"?rt(K):te(K))}function U(K){r.enabled!==!1&&(K.pointerType==="touch"?He(K):ue(K))}function O(K){var ce,_e,Y;Ie(K),R.length===0&&((ce=r.domElement)==null||ce.releasePointerCapture(K.pointerId),(_e=r.domElement)==null||_e.ownerDocument.removeEventListener("pointermove",U),(Y=r.domElement)==null||Y.ownerDocument.removeEventListener("pointerup",O)),r.dispatchEvent(o),l=a.NONE}function te(K){let ce;switch(K.button){case 0:ce=r.mouseButtons.LEFT;break;case 1:ce=r.mouseButtons.MIDDLE;break;case 2:ce=r.mouseButtons.RIGHT;break;default:ce=-1}switch(ce){case Nc.DOLLY:if(r.enableZoom===!1)return;be(K),l=a.DOLLY;break;case Nc.ROTATE:if(K.ctrlKey||K.metaKey||K.shiftKey){if(r.enablePan===!1)return;Ee(K),l=a.PAN}else{if(r.enableRotate===!1)return;ae(K),l=a.ROTATE}break;case Nc.PAN:if(K.ctrlKey||K.metaKey||K.shiftKey){if(r.enableRotate===!1)return;ae(K),l=a.ROTATE}else{if(r.enablePan===!1)return;Ee(K),l=a.PAN}break;default:l=a.NONE}l!==a.NONE&&r.dispatchEvent(s)}function ue(K){if(r.enabled!==!1)switch(l){case a.ROTATE:if(r.enableRotate===!1)return;me(K);break;case a.DOLLY:if(r.enableZoom===!1)return;ke(K);break;case a.PAN:if(r.enablePan===!1)return;tt(K);break}}function ye(K){r.enabled===!1||r.enableZoom===!1||l!==a.NONE&&l!==a.ROTATE||(K.preventDefault(),r.dispatchEvent(s),Fe(K),r.dispatchEvent(o))}function ve(K){r.enabled===!1||r.enablePan===!1||nt(K)}function rt(K){switch(Qe(K),R.length){case 1:switch(r.touches.ONE){case Lc.ROTATE:if(r.enableRotate===!1)return;qe(),l=a.TOUCH_ROTATE;break;case Lc.PAN:if(r.enablePan===!1)return;Ye(),l=a.TOUCH_PAN;break;default:l=a.NONE}break;case 2:switch(r.touches.TWO){case Lc.DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;Oe(),l=a.TOUCH_DOLLY_PAN;break;case Lc.DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;Re(),l=a.TOUCH_DOLLY_ROTATE;break;default:l=a.NONE}break;default:l=a.NONE}l!==a.NONE&&r.dispatchEvent(s)}function He(K){switch(Qe(K),l){case a.TOUCH_ROTATE:if(r.enableRotate===!1)return;Ue(K),r.update();break;case a.TOUCH_PAN:if(r.enablePan===!1)return;B(K),r.update();break;case a.TOUCH_DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;Q(K),r.update();break;case a.TOUCH_DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;ge(K),r.update();break;default:l=a.NONE}}function it(K){r.enabled!==!1&&K.preventDefault()}function ct(K){R.push(K)}function Ie(K){delete F[K.pointerId];for(let ce=0;ce<R.length;ce++)if(R[ce].pointerId==K.pointerId){R.splice(ce,1);return}}function Qe(K){let ce=F[K.pointerId];ce===void 0&&(ce=new Te,F[K.pointerId]=ce),ce.set(K.pageX,K.pageY)}function gt(K){const ce=K.pointerId===R[0].pointerId?R[1]:R[0];return F[ce.pointerId]}this.dollyIn=(K=G())=>{ee(K),r.update()},this.dollyOut=(K=G())=>{q(K),r.update()},this.getScale=()=>p,this.setScale=K=>{W(K),r.update()},this.getZoomScale=()=>G(),n!==void 0&&this.connect(n),this.update()}};const Sle=P.forwardRef(({makeDefault:t,camera:e,regress:n,domElement:r,enableDamping:i=!0,keyEvents:s=!1,onChange:o,onStart:a,onEnd:l,...c},d)=>{const h=el(A=>A.invalidate),p=el(A=>A.camera),m=el(A=>A.gl),v=el(A=>A.events),x=el(A=>A.setEvents),y=el(A=>A.set),g=el(A=>A.get),w=el(A=>A.performance),b=e||p,E=r||v.connected||m.domElement,C=P.useMemo(()=>new wle(b),[b]);return o5(()=>{C.enabled&&C.update()},-1),P.useEffect(()=>(s&&C.connect(s===!0?E:s),C.connect(E),()=>void C.dispose()),[s,E,n,C,h]),P.useEffect(()=>{const A=N=>{h(),n&&w.regress(),o&&o(N)},I=N=>{a&&a(N)},D=N=>{l&&l(N)};return C.addEventListener("change",A),C.addEventListener("start",I),C.addEventListener("end",D),()=>{C.removeEventListener("start",I),C.removeEventListener("end",D),C.removeEventListener("change",A)}},[o,a,l,C,h,x]),P.useEffect(()=>{if(t){const A=g().controls;return y({controls:C}),()=>y({controls:A})}},[t,C]),P.createElement("primitive",YE({ref:d,object:C,enableDamping:i},c))});var f5={exports:{}},ble="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Mle=ble,Ele=Mle;function h5(){}function p5(){}p5.resetWarningCache=h5;var Tle=function(){function t(r,i,s,o,a,l){if(l!==Ele){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:p5,resetWarningCache:h5};return n.PropTypes=n,n};f5.exports=Tle();var yw=f5.exports;function Cle(){const t=P.useRef(null);o5(r=>{t.current&&(t.current.rotation.x=r.clock.elapsedTime*.05,t.current.rotation.y=r.clock.elapsedTime*.1)});const e=1e3,n=new Float32Array(e*3);for(let r=0;r<e*3;r++)n[r]=(Math.random()-.5)*10;return S.jsxs("points",{ref:t,children:[S.jsx("bufferGeometry",{children:S.jsx("bufferAttribute",{attach:"attributes-position",count:e,array:n,itemSize:3})}),S.jsx("pointsMaterial",{size:.02,color:"#60a5fa",transparent:!0,opacity:.6,sizeAttenuation:!0})]})}const Ale=()=>S.jsx("div",{className:"absolute inset-0 -z-10",children:S.jsxs(hle,{camera:{position:[0,0,5],fov:75},gl:{alpha:!0,antialias:!0},onCreated:({gl:t})=>{t.setClearColor("#000000",0)},children:[S.jsx("ambientLight",{intensity:.5}),S.jsx("pointLight",{position:[10,10,10],intensity:1}),S.jsx("directionalLight",{position:[-10,-10,-5],intensity:.5}),S.jsx(Cle,{}),S.jsx(Sle,{enableZoom:!1,enablePan:!1,autoRotate:!0,autoRotateSpeed:.5})]})}),Ple=()=>{const[t,e]=P.useState(0);return P.useEffect(()=>{const n=()=>e(window.scrollY);return window.addEventListener("scroll",n),()=>window.removeEventListener("scroll",n)},[]),S.jsxs(pi,{size:"2x2",className:"relative overflow-hidden",hover:!1,children:[S.jsx(Ale,{}),S.jsx("div",{className:"relative z-20 h-full flex flex-col justify-center items-center text-center p-8",children:S.jsxs($e.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,delay:.2},className:"space-y-6",children:[S.jsx($e.p,{className:"text-2xl md:text-3xl text-foreground/90 mb-8 max-w-3xl text-midnight",initial:{opacity:0},animate:{opacity:1},transition:{duration:.8,delay:.8},children:"Empowering Innovation, Building the Future"}),S.jsx($e.p,{className:"text-lg mb-12 max-w-2xl ",initial:{opacity:0},animate:{opacity:1},transition:{duration:.8,delay:1},children:"We innovate, build, and transform businesses with cutting-edge technology, scalable solutions, and unmatched expertise in the digital landscape."}),S.jsxs($e.div,{className:"flex flex-wrap gap-4 justify-center",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:1.2},children:[S.jsx(Kd,{to:"/about",children:S.jsxs(bs,{className:"primary group",children:[S.jsx(sU,{className:"mr-2 h-5 w-5 group-hover:animate-pulse"}),"Innovate"]})}),S.jsx(Kd,{to:"/solutions",children:S.jsxs(bs,{className:"primary group",children:[S.jsx(m9,{className:"mr-2 h-5 w-5 group-hover:animate-pulse"}),"Build"]})}),S.jsxs(bs,{className:"primary group",children:[S.jsx(a9,{className:"mr-2 h-5 w-5 group-hover:animate-pulse"}),"Transform"]}),S.jsx(Kd,{to:"/contact",children:S.jsxs(bs,{className:"btn-neon group ",children:["Get Started",S.jsx(JF,{className:"ml-2 h-5 w-5 group-hover:translate-x-1 transition-transform"})]})})]})]})}),S.jsx("div",{className:"absolute inset-0 pointer-events-none",children:Array.from({length:20}).map((n,r)=>S.jsx($e.div,{className:"absolute w-2 h-2 bg-primary rounded-full",style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`},animate:{y:[0,-20,0],opacity:[.3,1,.3]},transition:{duration:3+Math.random()*2,repeat:1/0,delay:Math.random()*2}},r))})]})},Rle=[{icon:tU,title:"Innovation First",description:"Cutting-edge solutions that push boundaries",color:"text-midnight"},{icon:c9,title:"Scalable Solutions",description:"Built to grow with your business",color:"text-midnight"},{icon:Yp,title:"Expert Team",description:"Passionate professionals dedicated to excellence",color:"text-midnight"}],Ile=()=>S.jsx(pi,{size:"2x1",className:"p-8",children:S.jsxs($e.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.6},children:[S.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-midnight mb-8",children:"Why Choose Us?"}),S.jsx("div",{className:"space-y-6",children:Rle.map((t,e)=>{const n=t.icon;return S.jsxs($e.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5,delay:e*.2},className:"flex items-center space-x-4 group hover:scale-105 transition-transform duration-200",children:[S.jsx($e.div,{className:`p-3 rounded-xl glass ${t.color} group-hover:animate-pulse`,whileHover:{scale:1.1,rotate:5},transition:{duration:.2},children:S.jsx(n,{className:"h-6 w-6"})}),S.jsxs("div",{className:"flex-1",children:[S.jsx("h3",{className:"text-xl font-semibold text-foreground mb-1",style:{color:"#191970"},children:t.title}),S.jsx("p",{className:"text-muted-foreground text-primary",children:t.description})]})]},t.title)})})]})}),Nle=[{icon:n9,title:"Web Develop",color:"text-midnight"},{icon:lU,title:"Mobile Applications",color:"text-midnight"},{icon:aU,title:"UI/UX Design",color:"text-midnight"},{icon:iU,title:"Cloud Solutions",color:"text-midnight"},{icon:eU,title:"Automation",color:"text-midnight"},{icon:qG,title:"Data Analytics",color:"text-midnight"}],m5=()=>{const t=D_(),e=n=>{const i={"Web Develop":"web-development","Mobile Applications":"mobile-applications","UI/UX Design":"ui-ux-design","Cloud Solutions":"cloud-solutions",Automation:"automation","Data Analytics":"data-analytics"}[n]||n.toLowerCase().replace(/\s+/g,"-");t(`/solutions?solution=${i}`)};return S.jsx(pi,{size:"2x1",className:"p-8",children:S.jsxs($e.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.6},children:[S.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-midnight mb-8",children:"Our Solutions"}),S.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:Nle.map((n,r)=>{const i=n.icon;return S.jsxs($e.div,{initial:{opacity:0,scale:.8,rotateY:90},animate:{opacity:1,scale:1,rotateY:0},transition:{duration:.6,delay:r*.1,type:"spring",stiffness:100},whileHover:{scale:1.05,rotateY:10,boxShadow:"0 10px 30px rgba(0,0,0,0.2)"},onClick:()=>e(n.title),className:"glass p-3 rounded-xl text-center group cursor-pointer",style:{transformStyle:"preserve-3d"},children:[S.jsx($e.div,{className:`${n.color} mb-3 flex justify-center`,whileHover:{rotate:360},transition:{duration:.6},children:S.jsx(i,{className:"h-5 w-5 text-midnight"})}),S.jsx("h3",{className:"text-sm font-medium text-foreground text-primary",children:n.title}),S.jsx($e.div,{className:"absolute inset-0 rounded-xl",initial:{opacity:0},whileHover:{opacity:1},style:{background:`radial-gradient(circle at center, ${n.color.replace("text-","hsl(var(--")}/ 0.2), transparent 70%)`}})]},n.title)})})]})})},Ob=[{icon:JG,value:50,suffix:"+",label:"Projects Delivered"},{icon:f9,value:100,suffix:"%",label:"Client Satisfaction"},{icon:rU,value:24,suffix:"/7",label:"Support"}],g5=()=>{const[t,e]=P.useState(Ob.map(()=>0));return P.useEffect(()=>{Ob.forEach((n,r)=>{const o=n.value/60;let a=0;const l=setInterval(()=>{a+=o,a>=n.value&&(a=n.value,clearInterval(l)),e(c=>{const d=[...c];return d[r]=Math.floor(a),d})},2e3/60);return()=>clearInterval(l)})},[]),S.jsx(pi,{size:"1x1",className:"p-6",children:S.jsxs($e.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.6},className:"h-full flex flex-col justify-center",children:[S.jsx($e.h2,{className:"text-2xl md:text-3xl font-bold text-midnight mb-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},children:"Achievements"}),S.jsx("div",{className:"space-y-6",children:Ob.map((n,r)=>{const i=n.icon;return S.jsxs($e.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5,delay:r*.2},className:"flex items-center space-x-3",children:[S.jsx($e.div,{className:"p-2 rounded-lg glass",animate:{scale:[1,1.1,1],rotate:[0,5,-5,0]},transition:{duration:2,repeat:1/0,delay:r*.5},children:S.jsx(i,{className:"h-5 w-5 text-midnight"})}),S.jsxs("div",{children:[S.jsxs($e.div,{className:"text-xl font-bold",style:{color:"#191970"},initial:{scale:1.2,opacity:.7},animate:{scale:1,opacity:1},transition:{duration:.3},children:[t[r],n.suffix]},t[r]),S.jsx("div",{className:"text-sm text-primary",children:n.label})]})]},n.label)})})]})})};var Yn={},KA={},tg={},ng={},v5="Expected a function",ak=NaN,Lle="[object Symbol]",Dle=/^\s+|\s+$/g,kle=/^[-+]0x[0-9a-f]+$/i,Ole=/^0b[01]+$/i,Fle=/^0o[0-7]+$/i,Ule=parseInt,Ble=typeof uv=="object"&&uv&&uv.Object===Object&&uv,zle=typeof self=="object"&&self&&self.Object===Object&&self,Vle=Ble||zle||Function("return this")(),jle=Object.prototype,Hle=jle.toString,Wle=Math.max,Gle=Math.min,Fb=function(){return Vle.Date.now()};function Xle(t,e,n){var r,i,s,o,a,l,c=0,d=!1,h=!1,p=!0;if(typeof t!="function")throw new TypeError(v5);e=lk(e)||0,Ux(n)&&(d=!!n.leading,h="maxWait"in n,s=h?Wle(lk(n.maxWait)||0,e):s,p="trailing"in n?!!n.trailing:p);function m(A){var I=r,D=i;return r=i=void 0,c=A,o=t.apply(D,I),o}function v(A){return c=A,a=setTimeout(g,e),d?m(A):o}function x(A){var I=A-l,D=A-c,N=e-I;return h?Gle(N,s-D):N}function y(A){var I=A-l,D=A-c;return l===void 0||I>=e||I<0||h&&D>=s}function g(){var A=Fb();if(y(A))return w(A);a=setTimeout(g,x(A))}function w(A){return a=void 0,p&&r?m(A):(r=i=void 0,o)}function b(){a!==void 0&&clearTimeout(a),c=0,r=l=i=a=void 0}function E(){return a===void 0?o:w(Fb())}function C(){var A=Fb(),I=y(A);if(r=arguments,i=this,l=A,I){if(a===void 0)return v(l);if(h)return a=setTimeout(g,e),m(l)}return a===void 0&&(a=setTimeout(g,e)),o}return C.cancel=b,C.flush=E,C}function $le(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(v5);return Ux(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Xle(t,e,{leading:r,maxWait:e,trailing:i})}function Ux(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function Yle(t){return!!t&&typeof t=="object"}function qle(t){return typeof t=="symbol"||Yle(t)&&Hle.call(t)==Lle}function lk(t){if(typeof t=="number")return t;if(qle(t))return ak;if(Ux(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Ux(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=t.replace(Dle,"");var n=Ole.test(t);return n||Fle.test(t)?Ule(t.slice(2),n?2:8):kle.test(t)?ak:+t}var Zle=$le,rg={};Object.defineProperty(rg,"__esModule",{value:!0});rg.addPassiveEventListener=function(e,n,r){var i=r.name;i||(i=n,console.warn("Listener must be a named function.")),c0.has(n)||c0.set(n,new Set);var s=c0.get(n);if(!s.has(i)){var o=function(){var a=!1;try{var l=Object.defineProperty({},"passive",{get:function(){a=!0}});window.addEventListener("test",null,l)}catch{}return a}();e.addEventListener(n,r,o?{passive:!0}:!1),s.add(i)}};rg.removePassiveEventListener=function(e,n,r){e.removeEventListener(n,r),c0.get(n).delete(r.name||n)};var c0=new Map;Object.defineProperty(ng,"__esModule",{value:!0});var Kle=Zle,Qle=Jle(Kle),ck=rg;function Jle(t){return t&&t.__esModule?t:{default:t}}var ece=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:66;return(0,Qle.default)(e,n)},Fn={spyCallbacks:[],spySetState:[],scrollSpyContainers:[],mount:function(e,n){if(e){var r=ece(function(i){Fn.scrollHandler(e)},n);return Fn.scrollSpyContainers.push(e),(0,ck.addPassiveEventListener)(e,"scroll",r),function(){(0,ck.removePassiveEventListener)(e,"scroll",r),Fn.scrollSpyContainers.splice(Fn.scrollSpyContainers.indexOf(e),1)}}return function(){}},isMounted:function(e){return Fn.scrollSpyContainers.indexOf(e)!==-1},currentPositionX:function(e){if(e===document){var n=window.scrollY!==void 0,r=(document.compatMode||"")==="CSS1Compat";return n?window.scrollX:r?document.documentElement.scrollLeft:document.body.scrollLeft}else return e.scrollLeft},currentPositionY:function(e){if(e===document){var n=window.scrollX!==void 0,r=(document.compatMode||"")==="CSS1Compat";return n?window.scrollY:r?document.documentElement.scrollTop:document.body.scrollTop}else return e.scrollTop},scrollHandler:function(e){var n=Fn.scrollSpyContainers[Fn.scrollSpyContainers.indexOf(e)].spyCallbacks||[];n.forEach(function(r){return r(Fn.currentPositionX(e),Fn.currentPositionY(e))})},addStateHandler:function(e){Fn.spySetState.push(e)},addSpyHandler:function(e,n){var r=Fn.scrollSpyContainers[Fn.scrollSpyContainers.indexOf(n)];r.spyCallbacks||(r.spyCallbacks=[]),r.spyCallbacks.push(e)},updateStates:function(){Fn.spySetState.forEach(function(e){return e()})},unmount:function(e,n){Fn.scrollSpyContainers.forEach(function(r){return r.spyCallbacks&&r.spyCallbacks.length&&r.spyCallbacks.indexOf(n)>-1&&r.spyCallbacks.splice(r.spyCallbacks.indexOf(n),1)}),Fn.spySetState&&Fn.spySetState.length&&Fn.spySetState.indexOf(e)>-1&&Fn.spySetState.splice(Fn.spySetState.indexOf(e),1),document.removeEventListener("scroll",Fn.scrollHandler)},update:function(){return Fn.scrollSpyContainers.forEach(function(e){return Fn.scrollHandler(e)})}};ng.default=Fn;var Qf={},ig={};Object.defineProperty(ig,"__esModule",{value:!0});var tce=function(e,n){var r=e.indexOf("#")===0?e.substring(1):e,i=r?"#"+r:"",s=window&&window.location,o=i?s.pathname+s.search+i:s.pathname+s.search;n?history.pushState(history.state,"",o):history.replaceState(history.state,"",o)},nce=function(){return window.location.hash.replace(/^#/,"")},rce=function(e){return function(n){return e.contains?e!=n&&e.contains(n):!!(e.compareDocumentPosition(n)&16)}},ice=function(e){return getComputedStyle(e).position!=="static"},Ub=function(e,n){for(var r=e.offsetTop,i=e.offsetParent;i&&!n(i);)r+=i.offsetTop,i=i.offsetParent;return{offsetTop:r,offsetParent:i}},sce=function(e,n,r){if(r)return e===document?n.getBoundingClientRect().left+(window.scrollX||window.pageXOffset):getComputedStyle(e).position!=="static"?n.offsetLeft:n.offsetLeft-e.offsetLeft;if(e===document)return n.getBoundingClientRect().top+(window.scrollY||window.pageYOffset);if(ice(e)){if(n.offsetParent!==e){var i=function(d){return d===e||d===document},s=Ub(n,i),o=s.offsetTop,a=s.offsetParent;if(a!==e)throw new Error("Seems containerElement is not an ancestor of the Element");return o}return n.offsetTop}if(n.offsetParent===e.offsetParent)return n.offsetTop-e.offsetTop;var l=function(d){return d===document};return Ub(n,l).offsetTop-Ub(e,l).offsetTop};ig.default={updateHash:tce,getHash:nce,filterElementInContainer:rce,scrollOffset:sce};var xw={},QA={};Object.defineProperty(QA,"__esModule",{value:!0});QA.default={defaultEasing:function(e){return e<.5?Math.pow(e*2,2)/2:1-Math.pow((1-e)*2,2)/2},linear:function(e){return e},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return e*(2-e)},easeInOutQuad:function(e){return e<.5?2*e*e:-1+(4-2*e)*e},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return--e*e*e+1},easeInOutCubic:function(e){return e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return 1- --e*e*e*e},easeInOutQuart:function(e){return e<.5?8*e*e*e*e:1-8*--e*e*e*e},easeInQuint:function(e){return e*e*e*e*e},easeOutQuint:function(e){return 1+--e*e*e*e*e},easeInOutQuint:function(e){return e<.5?16*e*e*e*e*e:1+16*--e*e*e*e*e}};var JA={};Object.defineProperty(JA,"__esModule",{value:!0});var oce=rg,ace=["mousedown","wheel","touchmove","keydown"];JA.default={subscribe:function(e){return typeof document<"u"&&ace.forEach(function(n){return(0,oce.addPassiveEventListener)(document,n,e)})}};var sg={};Object.defineProperty(sg,"__esModule",{value:!0});var qE={registered:{},scrollEvent:{register:function(e,n){qE.registered[e]=n},remove:function(e){qE.registered[e]=null}}};sg.default=qE;Object.defineProperty(xw,"__esModule",{value:!0});var lce=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cce=ig;_w(cce);var uce=QA,uk=_w(uce),dce=JA,fce=_w(dce),hce=sg,_o=_w(hce);function _w(t){return t&&t.__esModule?t:{default:t}}var y5=function(e){return uk.default[e.smooth]||uk.default.defaultEasing},pce=function(e){return typeof e=="function"?e:function(){return e}},mce=function(){if(typeof window<"u")return window.requestAnimationFrame||window.webkitRequestAnimationFrame},ZE=function(){return mce()||function(t,e,n){window.setTimeout(t,n||1e3/60,new Date().getTime())}}(),x5=function(){return{currentPosition:0,startPosition:0,targetPosition:0,progress:0,duration:0,cancel:!1,target:null,containerElement:null,to:null,start:null,delta:null,percent:null,delayTimeout:null}},_5=function(e){var n=e.data.containerElement;if(n&&n!==document&&n!==document.body)return n.scrollLeft;var r=window.pageXOffset!==void 0,i=(document.compatMode||"")==="CSS1Compat";return r?window.pageXOffset:i?document.documentElement.scrollLeft:document.body.scrollLeft},w5=function(e){var n=e.data.containerElement;if(n&&n!==document&&n!==document.body)return n.scrollTop;var r=window.pageXOffset!==void 0,i=(document.compatMode||"")==="CSS1Compat";return r?window.pageYOffset:i?document.documentElement.scrollTop:document.body.scrollTop},gce=function(e){var n=e.data.containerElement;if(n&&n!==document&&n!==document.body)return n.scrollWidth-n.offsetWidth;var r=document.body,i=document.documentElement;return Math.max(r.scrollWidth,r.offsetWidth,i.clientWidth,i.scrollWidth,i.offsetWidth)},vce=function(e){var n=e.data.containerElement;if(n&&n!==document&&n!==document.body)return n.scrollHeight-n.offsetHeight;var r=document.body,i=document.documentElement;return Math.max(r.scrollHeight,r.offsetHeight,i.clientHeight,i.scrollHeight,i.offsetHeight)},yce=function t(e,n,r){var i=n.data;if(!n.ignoreCancelEvents&&i.cancel){_o.default.registered.end&&_o.default.registered.end(i.to,i.target,i.currentPositionY);return}if(i.delta=Math.round(i.targetPosition-i.startPosition),i.start===null&&(i.start=r),i.progress=r-i.start,i.percent=i.progress>=i.duration?1:e(i.progress/i.duration),i.currentPosition=i.startPosition+Math.ceil(i.delta*i.percent),i.containerElement&&i.containerElement!==document&&i.containerElement!==document.body?n.horizontal?i.containerElement.scrollLeft=i.currentPosition:i.containerElement.scrollTop=i.currentPosition:n.horizontal?window.scrollTo(i.currentPosition,0):window.scrollTo(0,i.currentPosition),i.percent<1){var s=t.bind(null,e,n);ZE.call(window,s);return}_o.default.registered.end&&_o.default.registered.end(i.to,i.target,i.currentPosition)},eP=function(e){e.data.containerElement=e?e.containerId?document.getElementById(e.containerId):e.container&&e.container.nodeType?e.container:document:null},og=function(e,n,r,i){n.data=n.data||x5(),window.clearTimeout(n.data.delayTimeout);var s=function(){n.data.cancel=!0};if(fce.default.subscribe(s),eP(n),n.data.start=null,n.data.cancel=!1,n.data.startPosition=n.horizontal?_5(n):w5(n),n.data.targetPosition=n.absolute?e:e+n.data.startPosition,n.data.startPosition===n.data.targetPosition){_o.default.registered.end&&_o.default.registered.end(n.data.to,n.data.target,n.data.currentPosition);return}n.data.delta=Math.round(n.data.targetPosition-n.data.startPosition),n.data.duration=pce(n.duration)(n.data.delta),n.data.duration=isNaN(parseFloat(n.data.duration))?1e3:parseFloat(n.data.duration),n.data.to=r,n.data.target=i;var o=y5(n),a=yce.bind(null,o,n);if(n&&n.delay>0){n.data.delayTimeout=window.setTimeout(function(){_o.default.registered.begin&&_o.default.registered.begin(n.data.to,n.data.target),ZE.call(window,a)},n.delay);return}_o.default.registered.begin&&_o.default.registered.begin(n.data.to,n.data.target),ZE.call(window,a)},ww=function(e){return e=lce({},e),e.data=e.data||x5(),e.absolute=!0,e},xce=function(e){og(0,ww(e))},_ce=function(e,n){og(e,ww(n))},wce=function(e){e=ww(e),eP(e),og(e.horizontal?gce(e):vce(e),e)},Sce=function(e,n){n=ww(n),eP(n);var r=n.horizontal?_5(n):w5(n);og(e+r,n)};xw.default={animateTopScroll:og,getAnimationType:y5,scrollToTop:xce,scrollToBottom:wce,scrollTo:_ce,scrollMore:Sce};Object.defineProperty(Qf,"__esModule",{value:!0});var bce=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Mce=ig,Ece=tP(Mce),Tce=xw,Cce=tP(Tce),Ace=sg,Iy=tP(Ace);function tP(t){return t&&t.__esModule?t:{default:t}}var Ny={},dk=void 0;Qf.default={unmount:function(){Ny={}},register:function(e,n){Ny[e]=n},unregister:function(e){delete Ny[e]},get:function(e){return Ny[e]||document.getElementById(e)||document.getElementsByName(e)[0]||document.getElementsByClassName(e)[0]},setActiveLink:function(e){return dk=e},getActiveLink:function(){return dk},scrollTo:function(e,n){var r=this.get(e);if(!r){console.warn("target Element not found");return}n=bce({},n,{absolute:!1});var i=n.containerId,s=n.container,o=void 0;i?o=document.getElementById(i):s&&s.nodeType?o=s:o=document,n.absolute=!0;var a=n.horizontal,l=Ece.default.scrollOffset(o,r,a)+(n.offset||0);if(!n.smooth){Iy.default.registered.begin&&Iy.default.registered.begin(e,r),o===document?n.horizontal?window.scrollTo(l,0):window.scrollTo(0,l):o.scrollTop=l,Iy.default.registered.end&&Iy.default.registered.end(e,r);return}Cce.default.animateTopScroll(l,n,e,r)}};var Sw={};Object.defineProperty(Sw,"__esModule",{value:!0});var Pce=ig,Bb=Rce(Pce);function Rce(t){return t&&t.__esModule?t:{default:t}}var Ice={mountFlag:!1,initialized:!1,scroller:null,containers:{},mount:function(e){this.scroller=e,this.handleHashChange=this.handleHashChange.bind(this),window.addEventListener("hashchange",this.handleHashChange),this.initStateFromHash(),this.mountFlag=!0},mapContainer:function(e,n){this.containers[e]=n},isMounted:function(){return this.mountFlag},isInitialized:function(){return this.initialized},initStateFromHash:function(){var e=this,n=this.getHash();n?window.setTimeout(function(){e.scrollTo(n,!0),e.initialized=!0},10):this.initialized=!0},scrollTo:function(e,n){var r=this.scroller,i=r.get(e);if(i&&(n||e!==r.getActiveLink())){var s=this.containers[e]||document;r.scrollTo(e,{container:s})}},getHash:function(){return Bb.default.getHash()},changeHash:function(e,n){this.isInitialized()&&Bb.default.getHash()!==e&&Bb.default.updateHash(e,n)},handleHashChange:function(){this.scrollTo(this.getHash())},unmount:function(){this.scroller=null,this.containers=null,window.removeEventListener("hashchange",this.handleHashChange)}};Sw.default=Ice;Object.defineProperty(tg,"__esModule",{value:!0});var Ly=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Nce=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),Lce=P,fk=ag(Lce),Dce=ng,Dy=ag(Dce),kce=Qf,Oce=ag(kce),Fce=yw,Ln=ag(Fce),Uce=Sw,tl=ag(Uce);function ag(t){return t&&t.__esModule?t:{default:t}}function Bce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zce(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Vce(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var hk={to:Ln.default.string.isRequired,containerId:Ln.default.string,container:Ln.default.object,activeClass:Ln.default.string,activeStyle:Ln.default.object,spy:Ln.default.bool,horizontal:Ln.default.bool,smooth:Ln.default.oneOfType([Ln.default.bool,Ln.default.string]),offset:Ln.default.number,delay:Ln.default.number,isDynamic:Ln.default.bool,onClick:Ln.default.func,duration:Ln.default.oneOfType([Ln.default.number,Ln.default.func]),absolute:Ln.default.bool,onSetActive:Ln.default.func,onSetInactive:Ln.default.func,ignoreCancelEvents:Ln.default.bool,hashSpy:Ln.default.bool,saveHashHistory:Ln.default.bool,spyThrottle:Ln.default.number};tg.default=function(t,e){var n=e||Oce.default,r=function(s){Vce(o,s);function o(a){Bce(this,o);var l=zce(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,a));return i.call(l),l.state={active:!1},l.beforeUnmountCallbacks=[],l}return Nce(o,[{key:"getScrollSpyContainer",value:function(){var l=this.props.containerId,c=this.props.container;return l&&!c?document.getElementById(l):c&&c.nodeType?c:document}},{key:"componentDidMount",value:function(){if(this.props.spy||this.props.hashSpy){var l=this.getScrollSpyContainer();if(!Dy.default.isMounted(l)){var c=Dy.default.mount(l,this.props.spyThrottle);this.beforeUnmountCallbacks.push(c)}this.props.hashSpy&&(tl.default.isMounted()||tl.default.mount(n),tl.default.mapContainer(this.props.to,l)),Dy.default.addSpyHandler(this.spyHandler,l),this.setState({container:l})}}},{key:"componentWillUnmount",value:function(){Dy.default.unmount(this.stateHandler,this.spyHandler),this.beforeUnmountCallbacks.forEach(function(l){return l()})}},{key:"render",value:function(){var l="";this.state&&this.state.active?l=((this.props.className||"")+" "+(this.props.activeClass||"active")).trim():l=this.props.className;var c={};this.state&&this.state.active?c=Ly({},this.props.style,this.props.activeStyle):c=Ly({},this.props.style);var d=Ly({},this.props);for(var h in hk)d.hasOwnProperty(h)&&delete d[h];return d.className=l,d.style=c,d.onClick=this.handleClick,fk.default.createElement(t,d)}}]),o}(fk.default.PureComponent),i=function(){var o=this;this.scrollTo=function(a,l){n.scrollTo(a,Ly({},o.state,l))},this.handleClick=function(a){o.props.onClick&&o.props.onClick(a),a.stopPropagation&&a.stopPropagation(),a.preventDefault&&a.preventDefault(),o.scrollTo(o.props.to,o.props)},this.spyHandler=function(a,l){var c=o.getScrollSpyContainer();if(!(tl.default.isMounted()&&!tl.default.isInitialized())){var d=o.props.horizontal,h=o.props.to,p=null,m=void 0,v=void 0;if(d){var x=0,y=0,g=0;if(c.getBoundingClientRect){var w=c.getBoundingClientRect();g=w.left}if(!p||o.props.isDynamic){if(p=n.get(h),!p)return;var b=p.getBoundingClientRect();x=b.left-g+a,y=x+b.width}var E=a-o.props.offset;m=E>=Math.floor(x)&&E<Math.floor(y),v=E<Math.floor(x)||E>=Math.floor(y)}else{var C=0,A=0,I=0;if(c.getBoundingClientRect){var D=c.getBoundingClientRect();I=D.top}if(!p||o.props.isDynamic){if(p=n.get(h),!p)return;var N=p.getBoundingClientRect();C=N.top-I+l,A=C+N.height}var R=l-o.props.offset;m=R>=Math.floor(C)&&R<Math.floor(A),v=R<Math.floor(C)||R>=Math.floor(A)}var F=n.getActiveLink();if(v){if(h===F&&n.setActiveLink(void 0),o.props.hashSpy&&tl.default.getHash()===h){var j=o.props.saveHashHistory,G=j===void 0?!1:j;tl.default.changeHash("",G)}o.props.spy&&o.state.active&&(o.setState({active:!1}),o.props.onSetInactive&&o.props.onSetInactive(h,p))}if(m&&(F!==h||o.state.active===!1)){n.setActiveLink(h);var $=o.props.saveHashHistory,ne=$===void 0?!1:$;o.props.hashSpy&&tl.default.changeHash(h,ne),o.props.spy&&(o.setState({active:!0}),o.props.onSetActive&&o.props.onSetActive(h,p))}}}};return r.propTypes=hk,r.defaultProps={offset:0},r};Object.defineProperty(KA,"__esModule",{value:!0});var jce=P,pk=S5(jce),Hce=tg,Wce=S5(Hce);function S5(t){return t&&t.__esModule?t:{default:t}}function Gce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mk(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Xce(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var $ce=function(t){Xce(e,t);function e(){var n,r,i,s;Gce(this,e);for(var o=arguments.length,a=Array(o),l=0;l<o;l++)a[l]=arguments[l];return s=(r=(i=mk(this,(n=e.__proto__||Object.getPrototypeOf(e)).call.apply(n,[this].concat(a))),i),i.render=function(){return pk.default.createElement("a",i.props,i.props.children)},r),mk(i,s)}return e}(pk.default.Component);KA.default=(0,Wce.default)($ce);var nP={};Object.defineProperty(nP,"__esModule",{value:!0});var Yce=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),qce=P,gk=b5(qce),Zce=tg,Kce=b5(Zce);function b5(t){return t&&t.__esModule?t:{default:t}}function Qce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Jce(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function eue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var tue=function(t){eue(e,t);function e(){return Qce(this,e),Jce(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return Yce(e,[{key:"render",value:function(){return gk.default.createElement("button",this.props,this.props.children)}}]),e}(gk.default.Component);nP.default=(0,Kce.default)(tue);var rP={},bw={};Object.defineProperty(bw,"__esModule",{value:!0});var nue=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rue=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),iue=P,vk=Mw(iue),sue=Yl;Mw(sue);var oue=Qf,yk=Mw(oue),aue=yw,xk=Mw(aue);function Mw(t){return t&&t.__esModule?t:{default:t}}function lue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cue(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function uue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}bw.default=function(t){var e=function(n){uue(r,n);function r(i){lue(this,r);var s=cue(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,i));return s.childBindings={domNode:null},s}return rue(r,[{key:"componentDidMount",value:function(){if(typeof window>"u")return!1;this.registerElems(this.props.name)}},{key:"componentDidUpdate",value:function(s){this.props.name!==s.name&&this.registerElems(this.props.name)}},{key:"componentWillUnmount",value:function(){if(typeof window>"u")return!1;yk.default.unregister(this.props.name)}},{key:"registerElems",value:function(s){yk.default.register(s,this.childBindings.domNode)}},{key:"render",value:function(){return vk.default.createElement(t,nue({},this.props,{parentBindings:this.childBindings}))}}]),r}(vk.default.Component);return e.propTypes={name:xk.default.string,id:xk.default.string},e};Object.defineProperty(rP,"__esModule",{value:!0});var _k=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},due=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),fue=P,wk=iP(fue),hue=bw,pue=iP(hue),mue=yw,Sk=iP(mue);function iP(t){return t&&t.__esModule?t:{default:t}}function gue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vue(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function yue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var M5=function(t){yue(e,t);function e(){return gue(this,e),vue(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return due(e,[{key:"render",value:function(){var r=this,i=_k({},this.props);return delete i.name,i.parentBindings&&delete i.parentBindings,wk.default.createElement("div",_k({},i,{ref:function(o){r.props.parentBindings.domNode=o}}),this.props.children)}}]),e}(wk.default.Component);M5.propTypes={name:Sk.default.string,id:Sk.default.string};rP.default=(0,pue.default)(M5);var zb=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bk=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function Mk(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ek(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Tk(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var ky=P,Cc=ng,Vb=Qf,Un=yw,nl=Sw,Ck={to:Un.string.isRequired,containerId:Un.string,container:Un.object,activeClass:Un.string,spy:Un.bool,smooth:Un.oneOfType([Un.bool,Un.string]),offset:Un.number,delay:Un.number,isDynamic:Un.bool,onClick:Un.func,duration:Un.oneOfType([Un.number,Un.func]),absolute:Un.bool,onSetActive:Un.func,onSetInactive:Un.func,ignoreCancelEvents:Un.bool,hashSpy:Un.bool,spyThrottle:Un.number},xue={Scroll:function(e,n){console.warn("Helpers.Scroll is deprecated since v1.7.0");var r=n||Vb,i=function(o){Tk(a,o);function a(l){Mk(this,a);var c=Ek(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,l));return s.call(c),c.state={active:!1},c}return bk(a,[{key:"getScrollSpyContainer",value:function(){var c=this.props.containerId,d=this.props.container;return c?document.getElementById(c):d&&d.nodeType?d:document}},{key:"componentDidMount",value:function(){if(this.props.spy||this.props.hashSpy){var c=this.getScrollSpyContainer();Cc.isMounted(c)||Cc.mount(c,this.props.spyThrottle),this.props.hashSpy&&(nl.isMounted()||nl.mount(r),nl.mapContainer(this.props.to,c)),this.props.spy&&Cc.addStateHandler(this.stateHandler),Cc.addSpyHandler(this.spyHandler,c),this.setState({container:c})}}},{key:"componentWillUnmount",value:function(){Cc.unmount(this.stateHandler,this.spyHandler)}},{key:"render",value:function(){var c="";this.state&&this.state.active?c=((this.props.className||"")+" "+(this.props.activeClass||"active")).trim():c=this.props.className;var d=zb({},this.props);for(var h in Ck)d.hasOwnProperty(h)&&delete d[h];return d.className=c,d.onClick=this.handleClick,ky.createElement(e,d)}}]),a}(ky.Component),s=function(){var a=this;this.scrollTo=function(l,c){r.scrollTo(l,zb({},a.state,c))},this.handleClick=function(l){a.props.onClick&&a.props.onClick(l),l.stopPropagation&&l.stopPropagation(),l.preventDefault&&l.preventDefault(),a.scrollTo(a.props.to,a.props)},this.stateHandler=function(){r.getActiveLink()!==a.props.to&&(a.state!==null&&a.state.active&&a.props.onSetInactive&&a.props.onSetInactive(),a.setState({active:!1}))},this.spyHandler=function(l){var c=a.getScrollSpyContainer();if(!(nl.isMounted()&&!nl.isInitialized())){var d=a.props.to,h=null,p=0,m=0,v=0;if(c.getBoundingClientRect){var x=c.getBoundingClientRect();v=x.top}if(!h||a.props.isDynamic){if(h=r.get(d),!h)return;var y=h.getBoundingClientRect();p=y.top-v+l,m=p+y.height}var g=l-a.props.offset,w=g>=Math.floor(p)&&g<Math.floor(m),b=g<Math.floor(p)||g>=Math.floor(m),E=r.getActiveLink();if(b)return d===E&&r.setActiveLink(void 0),a.props.hashSpy&&nl.getHash()===d&&nl.changeHash(),a.props.spy&&a.state.active&&(a.setState({active:!1}),a.props.onSetInactive&&a.props.onSetInactive()),Cc.updateStates();if(w&&E!==d)return r.setActiveLink(d),a.props.hashSpy&&nl.changeHash(d),a.props.spy&&(a.setState({active:!0}),a.props.onSetActive&&a.props.onSetActive(d)),Cc.updateStates()}}};return i.propTypes=Ck,i.defaultProps={offset:0},i},Element:function(e){console.warn("Helpers.Element is deprecated since v1.7.0");var n=function(r){Tk(i,r);function i(s){Mk(this,i);var o=Ek(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,s));return o.childBindings={domNode:null},o}return bk(i,[{key:"componentDidMount",value:function(){if(typeof window>"u")return!1;this.registerElems(this.props.name)}},{key:"componentDidUpdate",value:function(o){this.props.name!==o.name&&this.registerElems(this.props.name)}},{key:"componentWillUnmount",value:function(){if(typeof window>"u")return!1;Vb.unregister(this.props.name)}},{key:"registerElems",value:function(o){Vb.register(o,this.childBindings.domNode)}},{key:"render",value:function(){return ky.createElement(e,zb({},this.props,{parentBindings:this.childBindings}))}}]),i}(ky.Component);return n.propTypes={name:Un.string,id:Un.string},n}},_ue=xue;Object.defineProperty(Yn,"__esModule",{value:!0});Yn.Helpers=Yn.ScrollElement=Yn.ScrollLink=Yn.animateScroll=Yn.scrollSpy=Yn.Events=k5=Yn.scroller=Yn.Element=Yn.Button=Yn.Link=void 0;var wue=KA,E5=Vo(wue),Sue=nP,T5=Vo(Sue),bue=rP,C5=Vo(bue),Mue=Qf,A5=Vo(Mue),Eue=sg,P5=Vo(Eue),Tue=ng,R5=Vo(Tue),Cue=xw,I5=Vo(Cue),Aue=tg,N5=Vo(Aue),Pue=bw,L5=Vo(Pue),Rue=_ue,D5=Vo(Rue);function Vo(t){return t&&t.__esModule?t:{default:t}}Yn.Link=E5.default;Yn.Button=T5.default;Yn.Element=C5.default;var k5=Yn.scroller=A5.default;Yn.Events=P5.default;Yn.scrollSpy=R5.default;Yn.animateScroll=I5.default;Yn.ScrollLink=N5.default;Yn.ScrollElement=L5.default;Yn.Helpers=D5.default;Yn.default={Link:E5.default,Button:T5.default,Element:C5.default,scroller:A5.default,Events:P5.default,scrollSpy:R5.default,animateScroll:I5.default,ScrollLink:N5.default,ScrollElement:L5.default,Helpers:D5.default};const Iue=()=>{const t=D_(),e=()=>{t("/contact"),setTimeout(()=>{k5.scrollTo("contact",{duration:800,delay:100,smooth:!0,offset:-80})},100)};return S.jsxs(pi,{size:"1x1",className:"p-6 relative overflow-hidden",children:[S.jsxs($e.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.6},className:"h-full flex flex-col justify-center text-center relative z-10",children:[S.jsx($e.h2,{className:"text-2xl md:text-3xl font-bold text-[#191970] mb-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},children:"Ready to Transform Your Business?"}),S.jsx($e.p,{className:"text-muted-foreground mb-4 text-primary",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},children:"Let's build something amazing together"}),S.jsx($e.div,{className:"space-y-3",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.6},children:S.jsxs(bs,{onClick:e,className:"w-full group bg-orange-500  hover:bg-orange-600 text-white font-semibold py-2 px-4 rounded-lg transition-colors",children:["Start Your Project",S.jsx(JF,{className:"ml-2 h-4 w-4 group-hover:translate-x-1 transition-transform"})]})})]}),S.jsx($e.div,{className:"absolute inset-0 rounded-2xl border-2 border-primary/30",animate:{scale:[1,1.05,1],opacity:[.3,.6,.3]},transition:{duration:3,repeat:1/0,ease:"easeInOut"}}),S.jsx($e.div,{className:"absolute inset-0 rounded-2xl bg-gradient-primary opacity-0",animate:{opacity:[0,.1,0]},transition:{duration:2,repeat:1/0,ease:"easeInOut"}})]})},Nue=()=>S.jsx("a",{href:"http://www.justiceline.net/",target:"_blank",rel:"noopener noreferrer",className:"block h-full",children:S.jsx(pi,{size:"1x1",className:"p-6 flex items-center justify-center cursor-pointer hover:shadow-lg transition-shadow",children:S.jsxs($e.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},className:"h-full flex flex-col items-center justify-center text-center",children:[S.jsx("div",{className:"w-50 h-50 flex items-center justify-center",children:S.jsx("img",{src:"https://res.cloudinary.com/dnlhh8ueh/image/upload/v1757570421/JUSTICE_LINE_3.2_k97trj.png",alt:"JusticeLine Logo",className:"w-30 h-20 object-contain"})}),S.jsxs("p",{className:"mb-4 text-[#510705] text-base leading-relaxed",children:["We built ",S.jsx("span",{className:"font-semibold",children:"JusticeLine"}),"  a legal research platform that provides access to over",S.jsxs("strong",{className:"ml-1",children:[S.jsx("br",{}),"1 million+ judgments and statutes in ",S.jsx("br",{}),"one app"]}),".",S.jsx("br",{}),"It helps professionals find the right ",S.jsx("br",{}),"legal information quickly and efficiently."]}),S.jsx($e.div,{className:"absolute inset-0 rounded-2xl border-2 border-primary/30",animate:{scale:[1,1.05,1],opacity:[.3,.6,.3]},transition:{duration:3,repeat:1/0,ease:"easeInOut"}})]})})}),lg=()=>{const[t,e]=P.useState(!1),[n,r]=P.useState(!1);return S.jsxs(S.Fragment,{children:[S.jsx($e.footer,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"glass mt-16 mx-6 mb-6 p-8 rounded-2xl border border-glass-border/50",children:S.jsxs("div",{className:"text-center space-y-4",children:[S.jsxs("div",{className:"text-sm text-muted-foreground",children:[" 2025 ",S.jsx("strong",{children:"Virach IT & Software Solutions Pvt Ltd"}),". All rights reserved."]}),S.jsxs("div",{className:"flex justify-center space-x-6 text-sm",children:[S.jsx($e.button,{onClick:()=>r(!0),className:"text-muted-foreground hover:text-primary transition-colors",whileHover:{scale:1.05},children:"Privacy Policy"}),S.jsx($e.button,{onClick:()=>e(!0),className:"text-muted-foreground hover:text-primary transition-colors",whileHover:{scale:1.05},children:"Terms of Service"})]})]})}),t&&S.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 p-4 mt-20",children:S.jsxs($e.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.8,opacity:0},transition:{duration:.3},className:"glass max-w-3xl w-full max-h-[80vh] overflow-y-auto p-6 rounded-2xl relative",children:[S.jsx("button",{onClick:()=>e(!1),className:"absolute top-3 right-3 text-gray-500 hover:text-primary",children:S.jsx(qp,{size:20})}),S.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Terms of Service"}),S.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Last Updated: 28/02/2025"}),S.jsxs("div",{className:"space-y-4 text-sm leading-relaxed text-gray-700",children:[S.jsxs("p",{children:["Welcome to ",S.jsx("strong",{children:"Virach IT & Software Solutions Pvt Ltd"}),". By accessing or using our services, websites, applications, or solutions (collectively, the Services), you agree to be bound by these Terms of Service (Terms). If you do not agree, please do not use our Services."]}),S.jsx("h3",{className:"font-semibold",children:"1. Eligibility"}),S.jsx("p",{children:"You must be legally capable of entering into binding contracts to use our Services."}),S.jsx("h3",{className:"font-semibold",children:"2. Services Provided"}),S.jsxs("ul",{className:"list-disc list-inside",children:[S.jsx("li",{children:"IT consulting and support services"}),S.jsx("li",{children:"Software development, integration, and maintenance"}),S.jsx("li",{children:"Web and mobile application development"}),S.jsx("li",{children:"Cloud solutions and data services"}),S.jsx("li",{children:"Custom enterprise solutions"})]}),S.jsx("p",{children:"The scope of services may vary depending on the agreement signed with the client."}),S.jsx("h3",{className:"font-semibold",children:"3. User Responsibilities"}),S.jsxs("ul",{className:"list-disc list-inside",children:[S.jsx("li",{children:"Provide accurate and complete information when required."}),S.jsx("li",{children:"Use our Services only for lawful purposes."}),S.jsx("li",{children:"Not attempt to disrupt, hack, or misuse our systems."}),S.jsx("li",{children:"Maintain the confidentiality of your account credentials."})]}),S.jsx("h3",{className:"font-semibold",children:"4. Fees and Payments"}),S.jsx("p",{children:"Fees for services are communicated through written agreements, proposals, or invoices. Payments must be made within the agreed timeline. Late payments may attract penalties or suspension of services."}),S.jsx("h3",{className:"font-semibold",children:"5. Intellectual Property"}),S.jsx("p",{children:"All software, code, designs, and content created by Virach IT & Software Solutions remain the property of the company unless otherwise stated in a written contract. Clients are granted a limited license to use deliverables for their business purposes."}),S.jsx("h3",{className:"font-semibold",children:"6. Confidentiality"}),S.jsx("p",{children:"Both parties agree to keep confidential information (such as business data, source code, strategies) secure and not disclose it to third parties without consent."}),S.jsx("h3",{className:"font-semibold",children:"7. Limitation of Liability"}),S.jsx("p",{children:"Virach IT & Software Solutions will not be liable for indirect, incidental, or consequential damages. Our total liability for any claim shall not exceed the fees paid for the service giving rise to the claim."}),S.jsx("h3",{className:"font-semibold",children:"8. Termination"}),S.jsx("p",{children:"We may suspend or terminate your access to Services if you breach these Terms, fail to make payments, or misuse our Services. Clients may terminate the service agreement by giving written notice as per the contract terms."}),S.jsx("h3",{className:"font-semibold",children:"9. Governing Law"}),S.jsx("p",{children:"These Terms are governed by the laws of India, and any disputes shall be subject to the jurisdiction of the courts in Andhra Pradesh."}),S.jsx("h3",{className:"font-semibold",children:"10. Changes to Terms"}),S.jsx("p",{children:"We reserve the right to update or modify these Terms at any time. Updated Terms will be posted on our website with a revised effective date."}),S.jsx("h3",{className:"font-semibold",children:"11. Contact Us"}),S.jsxs("p",{children:[" Email:"," ",S.jsx("a",{href:"mailto:support@virach.in",className:"text-primary",children:"support@virach.in"})]})]}),S.jsx("div",{className:"mt-6 flex justify-end",children:S.jsx("button",{onClick:()=>e(!1),className:"px-6 py-2 rounded-xl bg-primary text-white hover:bg-primary/80 transition",children:"OK"})})]})}),n&&S.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 p-4 mt-20",children:S.jsxs($e.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.8,opacity:0},transition:{duration:.3},className:"glass max-w-3xl w-full max-h-[80vh] overflow-y-auto p-6 rounded-2xl relative",children:[S.jsx("button",{onClick:()=>r(!1),className:"absolute top-3 right-3 text-gray-500 hover:text-primary",children:S.jsx(qp,{size:20})}),S.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Privacy Policy"}),S.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Effective Date: 28/02/2025"}),S.jsxs("div",{className:"space-y-4 text-sm leading-relaxed text-gray-700",children:[S.jsxs("p",{children:["At ",S.jsx("strong",{children:"Virach IT & Software Solutions Pvt. Ltd."})," (Company, we, our, or us), we respect your privacy and are committed to protecting the personal information you share with us. This Privacy Policy explains how we collect, use, disclose, and safeguard your information when you use our websites, applications, and services (collectively, the Services)."]}),S.jsx("h3",{className:"font-semibold",children:"1. Information We Collect"}),S.jsxs("ul",{className:"list-disc list-inside",children:[S.jsxs("li",{children:[S.jsx("strong",{children:"Personal Information:"})," Name, email address, phone number, company name, billing details, and any information you provide when contacting us or using our Services."]}),S.jsxs("li",{children:[S.jsx("strong",{children:"Technical Information:"})," IP address, browser type, device information, operating system, and usage data when you interact with our Services."]}),S.jsxs("li",{children:[S.jsx("strong",{children:"Project/Service Data:"})," Files, code, or business data shared with us while providing IT or software solutions."]})]}),S.jsx("h3",{className:"font-semibold",children:"2. How We Use Your Information"}),S.jsxs("ul",{className:"list-disc list-inside",children:[S.jsx("li",{children:"Provide, maintain, and improve our Services."}),S.jsx("li",{children:"Communicate with you regarding projects, updates, and support."}),S.jsx("li",{children:"Process payments and manage billing."}),S.jsx("li",{children:"Ensure security and prevent misuse of our systems."}),S.jsx("li",{children:"Comply with legal and regulatory requirements."})]}),S.jsx("h3",{className:"font-semibold",children:"3. Sharing of Information"}),S.jsxs("ul",{className:"list-disc list-inside",children:[S.jsx("li",{children:"With trusted third-party service providers (e.g., cloud hosting, payment gateways) strictly for business purposes."}),S.jsx("li",{children:"When required by law, regulation, or legal process."}),S.jsx("li",{children:"To protect the rights, property, or safety of our Company, clients, or the public."})]}),S.jsx("h3",{className:"font-semibold",children:"4. Data Security"}),S.jsx("p",{children:"We use reasonable technical and organizational measures to safeguard your information against unauthorized access, alteration, or disclosure. However, no method of transmission over the internet is 100% secure."}),S.jsx("h3",{className:"font-semibold",children:"5. Data Retention"}),S.jsx("p",{children:"We retain personal and project-related data only as long as necessary for business, contractual, or legal purposes."}),S.jsx("h3",{className:"font-semibold",children:"6. Your Rights"}),S.jsxs("ul",{className:"list-disc list-inside",children:[S.jsx("li",{children:"Access, update, or correct your personal information."}),S.jsx("li",{children:"Request deletion of your personal data (subject to legal and contractual obligations)."}),S.jsx("li",{children:"Opt-out of marketing communications."})]}),S.jsx("h3",{className:"font-semibold",children:"7. Cookies & Tracking"}),S.jsx("p",{children:"Our website may use cookies and similar technologies to improve user experience and analyse site performance. You may manage cookie preferences through your browser settings."}),S.jsx("h3",{className:"font-semibold",children:"8. Third-Party Links"}),S.jsx("p",{children:"Our Services may contain links to third-party websites. We are not responsible for their privacy practices and encourage you to review their policies."}),S.jsx("h3",{className:"font-semibold",children:"9. Governing Law"}),S.jsx("p",{children:"This Privacy Policy is governed by the laws of India, and any disputes shall be subject to the jurisdiction of the courts in Andhra Pradesh."}),S.jsx("h3",{className:"font-semibold",children:"10. Changes to Privacy Policy"}),S.jsx("p",{children:"We may update this Privacy Policy from time to time. Any updates will be posted on our website with a revised effective date."}),S.jsx("h3",{className:"font-semibold",children:"11. Contact Us"}),S.jsxs("p",{children:[" Email:"," ",S.jsx("a",{href:"mailto:support@virach.in",className:"text-primary",children:"support@virach.in"})]})]}),S.jsx("div",{className:"mt-6 flex justify-end",children:S.jsx("button",{onClick:()=>r(!1),className:"px-6 py-2 rounded-xl bg-primary text-white hover:bg-primary/80 transition",children:"OK"})})]})})]})},Lue=()=>S.jsxs("div",{className:"min-h-screen min-h-[100dvh] bg-fixed bg-cover bg-center bg-no-repeat relative mt-16",style:{backgroundImage:"url('https://images.unsplash.com/photo-1718220216044-006f43e3a9b1?q=80&w=1380&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D')"},children:[S.jsx("div",{className:"absolute inset-0 bg-black/50"}),S.jsxs("div",{className:"relative z-10",children:[S.jsx("section",{id:"home",className:"min-h-[80vh] flex items-start justify-center pt-6 md:pt-8",children:S.jsx("div",{className:"container mx-auto px-4",children:S.jsx(bf,{className:"max-w-7xl mx-auto mt-6 md:mt-6",children:S.jsx(Ple,{})})})}),S.jsx("section",{className:"py-16",children:S.jsx("div",{className:"container mx-auto px-4",children:S.jsxs(bf,{className:"max-w-7xl mx-auto",children:[S.jsx(Ile,{}),S.jsx(g5,{}),S.jsx(m5,{}),S.jsx(Iue,{}),S.jsx(Nue,{})]})})}),S.jsx(lg,{})]})]}),Due=()=>S.jsx(pi,{size:"1x1",className:"p-6",children:S.jsxs($e.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.6},className:"h-full flex flex-col justify-center",children:[S.jsx($e.h2,{className:"text-2xl md:text-3xl font-bold text-midnight mb-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},children:"About"}),S.jsxs($e.div,{className:"space-y-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},children:[S.jsx("p",{className:"text-muted-foreground leading-relaxed text-primary",children:"We are a team of passionate innovators dedicated to transforming the digital landscape through cutting-edge technology solutions."}),S.jsxs($e.div,{className:"p-4 glass rounded-lg",whileHover:{scale:1.02},transition:{duration:.2},children:[S.jsx("h3",{className:"font-semibold text-midnight mb-2",children:"Our Mission"}),S.jsx("p",{className:"text-sm text-muted-foreground text-primary",children:"To build and transform businesses with world-class digital solutions that drive measurable growth, operational excellence, and long-term success."})]})]}),S.jsx($e.div,{className:"absolute bottom-4 right-4 opacity-10",animate:{rotate:[0,360],scale:[1,1.1,1]},transition:{duration:20,repeat:1/0,ease:"linear"},children:S.jsxs("svg",{width:"60",height:"60",viewBox:"0 0 100 100",children:[S.jsx("circle",{cx:"50",cy:"50",r:"40",fill:"none",stroke:"currentColor",strokeWidth:"2"}),S.jsx("circle",{cx:"50",cy:"50",r:"25",fill:"none",stroke:"currentColor",strokeWidth:"1"}),S.jsx("circle",{cx:"50",cy:"50",r:"10",fill:"currentColor"})]})})]})}),kue=[{icon:sU,title:"Innovation",description:"Breaking boundaries with visionary, results-driven ideas",color:"text-midnight",iconColor:"text-midnight",bg:"bg-primary/10"},{icon:Yp,title:"Collaboration",description:"Partnering closely with clients to achieve shared objectives",color:"text-midnight",iconColor:"text-midnight",bg:"bg-midnight/10"},{icon:h9,title:"Excellence",description:"Delivering exceptional value through precision and expertise",color:"text-midnight",iconColor:"text-midnight",bg:"bg-accent/10"},{icon:t9,title:"Quality",description:"Upholding the highest standards in every project we deliver",color:"text-midnight",iconColor:"text-midnight",bg:"bg-accent/10"}],Oue=()=>{const[t,e]=P.useState(null);return S.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:kue.map((n,r)=>{const i=n.icon,s=t===r;return S.jsx(pi,{size:"1x1",className:"p-4",delay:r*.1,children:S.jsxs($e.div,{className:"h-full flex flex-col relative group",onHoverStart:()=>e(r),onHoverEnd:()=>e(null),whileHover:{scale:1.02,y:-5},transition:{duration:.2},children:[S.jsx($e.div,{className:"absolute inset-0 bg-gradient-glow opacity-0 group-hover:opacity-100 transition-opacity duration-300 rounded-2xl blur-xl",animate:s?{scale:1.1}:{scale:1}}),S.jsx($e.div,{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/10 to-transparent rounded-2xl",initial:{x:"-100%"},animate:s?{x:"100%"}:{x:"-100%"},transition:{duration:.6}}),S.jsx($e.div,{className:`p-3 rounded-xl glass w-fit mb-4 ${n.bg} relative z-10`,whileHover:{rotate:[0,-5,5,0],scale:1.15},transition:{duration:.4},children:S.jsx(i,{className:`h-8 w-8 ${n.iconColor}`})}),S.jsxs("div",{className:"relative z-10 flex-1",children:[S.jsx($e.h3,{className:`text-2xl font-bold mb-3 ${n.color}`,animate:{scale:s?1.05:1},transition:{duration:.2},children:n.title}),S.jsx($e.p,{className:"text-muted-foreground text-primary",animate:{opacity:s?1:.8},transition:{duration:.2},children:n.description})]})]})},n.title)})})},Fue=()=>S.jsxs("div",{className:"min-h-screen min-h-[100dvh] bg-fixed bg-cover bg-center bg-no-repeat relative mt-16",style:{backgroundImage:"url('https://plus.unsplash.com/premium_photo-1663047091392-425566f3ea56?q=80&w=1170&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D')"},children:[S.jsx("div",{className:"absolute inset-0 bg-black/50"}),S.jsxs("div",{className:"relative z-10 min-h-screen pt-20",children:[S.jsx("section",{className:"py-16",children:S.jsx("div",{className:"container mx-auto px-4",children:S.jsxs($e.div,{initial:{opacity:0,y:40},animate:{opacity:1,y:0},transition:{duration:.8},className:"text-center mb-16",children:[S.jsx("h1",{className:"text-5xl md:text-7xl font-bold text-darkorange mb-6",children:"About"}),S.jsx("p",{className:"text-xl text-muted-foreground max-w-3xl mx-auto text-white",children:"We are a team of passionate innovators dedicated to transforming the digital landscape through cutting-edge technology solutions."})]})})}),S.jsx("section",{className:"py-16",children:S.jsx("div",{className:"container mx-auto px-4",children:S.jsxs(bf,{className:"max-w-7xl mx-auto",children:[S.jsx(Due,{}),S.jsx(Oue,{}),S.jsx(g5,{})]})})}),S.jsx(lg,{})]})]}),Uue=[{icon:e9,title:"Web Development",description:" Scalable, secure, and high-performance websites tailored to your business goals.",features:["Responsive Design","SEO Optimization","Performance Focused","Modern Frameworks"]},{icon:lU,title:"Mobile Applications",description:" Intuitive, feature-rich mobile applications for Android and iOS.",features:["Cross-Platform","Native Performance","Offline Support","Push Notifications"]},{icon:aU,title:"UI/UX Design",description:"Engaging, user-friendly designs that deliver seamless experiences.",features:["User Research","Prototyping","Design Systems","Accessibility"]},{icon:iU,title:"Cloud Solutions",description:"Flexible, reliable, and secure cloud infrastructure for modern businesses.",features:["AWS/Azure/GCP","Microservices","Auto-scaling","DevOps"]},{icon:eU,title:"Automation",description:"Streamlined workflows that save time, cut costs, and boost efficiency.",features:["Process Automation","AI Integration","Workflow Optimization","Custom Bots"]},{icon:ZG,title:"Data Analytics",description:"Actionable insights to drive smarter decisions and measurable results.",features:["Data Visualization","Real-time Analytics","Custom Dashboards","ML/AI Insights"]}],Bue=()=>{const[t]=EY();return P.useEffect(()=>{const e=t.get("solution");if(e){const n=document.getElementById(e);n&&n.scrollIntoView({behavior:"smooth",block:"center"})}},[t]),S.jsxs("div",{className:"min-h-screen min-h-[100dvh] bg-fixed bg-cover bg-center bg-no-repeat relative mt-16",style:{backgroundImage:"url('https://plus.unsplash.com/premium_photo-1661492233417-1a32cea3405a?q=80&w=1170&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D')"},children:[S.jsx("div",{className:"absolute inset-0 bg-black/50"}),S.jsxs("div",{className:"relative z-10 min-h-screen pt-20",children:[S.jsx("section",{className:"py-16",children:S.jsx("div",{className:"container mx-auto px-4",children:S.jsxs($e.div,{initial:{opacity:0,y:40},animate:{opacity:1,y:0},transition:{duration:.8},className:"text-center mb-16",children:[S.jsx("h1",{className:"text-5xl md:text-7xl font-bold text-darkorange mb-6",children:"Our Solutions"}),S.jsx("p",{className:"text-xl text-muted-foreground max-w-3xl mx-auto text-white",children:"Comprehensive technology solutions designed to transform your business and drive growth in the digital age."})]})})}),S.jsx("section",{className:"py-8",children:S.jsx("div",{className:"container mx-auto px-4",children:S.jsx(bf,{className:"max-w-7xl mx-auto",children:S.jsx(m5,{})})})}),S.jsx("section",{className:"py-16",children:S.jsx("div",{className:"container mx-auto px-4 max-w-7xl",children:S.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Uue.map((e,n)=>{const r=e.icon,i=e.title.toLowerCase().replace(/\s+/g,"-").replace(/\//g,"-");return S.jsx("div",{id:i,children:S.jsx(pi,{size:"1x1",className:"p-6",delay:n*.1,children:S.jsxs($e.div,{className:"h-full flex flex-col",whileHover:{scale:1.02},transition:{duration:.2},children:[S.jsx($e.div,{className:"p-3 rounded-xl glass w-fit mb-4",whileHover:{rotate:5,scale:1.1},transition:{duration:.2},children:S.jsx(r,{className:"h-8 w-8 text-midnight"})}),S.jsx("h3",{className:"text-2xl font-bold text-foreground mb-3 text-midnight",children:e.title}),S.jsx("p",{className:"text-muted-foreground mb-4 flex-1 text-primary",children:e.description}),S.jsx("div",{className:"space-y-2",children:e.features.map((s,o)=>S.jsxs($e.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:n*.1+o*.05},className:"flex items-center space-x-2",children:[S.jsx("div",{className:"w-2 h-2 rounded-full bg-midnight"}),S.jsx("span",{className:"text-sm text-muted-foreground text-primary",children:s})]},s))})]})})},e.title)})})})}),S.jsx(lg,{})]})]})},Kt=P.forwardRef(({className:t,type:e,...n},r)=>S.jsx("input",{type:e,className:wn("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));Kt.displayName="Input";const su=P.forwardRef(({className:t,...e},n)=>S.jsx("textarea",{className:wn("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));su.displayName="Textarea";function Ak(t,[e,n]){return Math.min(n,Math.max(e,t))}var zue=P.createContext(void 0);function Vue(t){const e=P.useContext(zue);return t||e||"ltr"}var jb=0;function O5(){P.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??Pk()),document.body.insertAdjacentElement("beforeend",t[1]??Pk()),jb++,()=>{jb===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),jb--}},[])}function Pk(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Hb="focusScope.autoFocusOnMount",Wb="focusScope.autoFocusOnUnmount",Rk={bubbles:!1,cancelable:!0},jue="FocusScope",sP=P.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...o}=t,[a,l]=P.useState(null),c=rs(i),d=rs(s),h=P.useRef(null),p=In(e,x=>l(x)),m=P.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;P.useEffect(()=>{if(r){let x=function(b){if(m.paused||!a)return;const E=b.target;a.contains(E)?h.current=E:sl(h.current,{select:!0})},y=function(b){if(m.paused||!a)return;const E=b.relatedTarget;E!==null&&(a.contains(E)||sl(h.current,{select:!0}))},g=function(b){if(document.activeElement===document.body)for(const C of b)C.removedNodes.length>0&&sl(a)};document.addEventListener("focusin",x),document.addEventListener("focusout",y);const w=new MutationObserver(g);return a&&w.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",x),document.removeEventListener("focusout",y),w.disconnect()}}},[r,a,m.paused]),P.useEffect(()=>{if(a){Nk.add(m);const x=document.activeElement;if(!a.contains(x)){const g=new CustomEvent(Hb,Rk);a.addEventListener(Hb,c),a.dispatchEvent(g),g.defaultPrevented||(Hue(Yue(F5(a)),{select:!0}),document.activeElement===x&&sl(a))}return()=>{a.removeEventListener(Hb,c),setTimeout(()=>{const g=new CustomEvent(Wb,Rk);a.addEventListener(Wb,d),a.dispatchEvent(g),g.defaultPrevented||sl(x??document.body,{select:!0}),a.removeEventListener(Wb,d),Nk.remove(m)},0)}}},[a,c,d,m]);const v=P.useCallback(x=>{if(!n&&!r||m.paused)return;const y=x.key==="Tab"&&!x.altKey&&!x.ctrlKey&&!x.metaKey,g=document.activeElement;if(y&&g){const w=x.currentTarget,[b,E]=Wue(w);b&&E?!x.shiftKey&&g===E?(x.preventDefault(),n&&sl(b,{select:!0})):x.shiftKey&&g===b&&(x.preventDefault(),n&&sl(E,{select:!0})):g===w&&x.preventDefault()}},[n,r,m.paused]);return S.jsx(mn.div,{tabIndex:-1,...o,ref:p,onKeyDown:v})});sP.displayName=jue;function Hue(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(sl(r,{select:e}),document.activeElement!==n)return}function Wue(t){const e=F5(t),n=Ik(e,t),r=Ik(e.reverse(),t);return[n,r]}function F5(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Ik(t,e){for(const n of t)if(!Gue(n,{upTo:e}))return n}function Gue(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function Xue(t){return t instanceof HTMLInputElement&&"select"in t}function sl(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&Xue(t)&&e&&t.select()}}var Nk=$ue();function $ue(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=Lk(t,e),t.unshift(e)},remove(e){var n;t=Lk(t,e),(n=t[0])==null||n.resume()}}}function Lk(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function Yue(t){return t.filter(e=>e.tagName!=="A")}function que(t){const e=P.useRef({value:t,previous:t});return P.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var Zue=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},hd=new WeakMap,Oy=new WeakMap,Fy={},Gb=0,U5=function(t){return t&&(t.host||U5(t.parentNode))},Kue=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=U5(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},Que=function(t,e,n,r){var i=Kue(e,Array.isArray(t)?t:[t]);Fy[n]||(Fy[n]=new WeakMap);var s=Fy[n],o=[],a=new Set,l=new Set(i),c=function(h){!h||a.has(h)||(a.add(h),c(h.parentNode))};i.forEach(c);var d=function(h){!h||l.has(h)||Array.prototype.forEach.call(h.children,function(p){if(a.has(p))d(p);else try{var m=p.getAttribute(r),v=m!==null&&m!=="false",x=(hd.get(p)||0)+1,y=(s.get(p)||0)+1;hd.set(p,x),s.set(p,y),o.push(p),x===1&&v&&Oy.set(p,!0),y===1&&p.setAttribute(n,"true"),v||p.setAttribute(r,"true")}catch(g){console.error("aria-hidden: cannot operate on ",p,g)}})};return d(e),a.clear(),Gb++,function(){o.forEach(function(h){var p=hd.get(h)-1,m=s.get(h)-1;hd.set(h,p),s.set(h,m),p||(Oy.has(h)||h.removeAttribute(r),Oy.delete(h)),m||h.removeAttribute(n)}),Gb--,Gb||(hd=new WeakMap,hd=new WeakMap,Oy=new WeakMap,Fy={})}},B5=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=Zue(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),Que(r,i,n,"aria-hidden")):function(){return null}},bo=function(){return bo=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},bo.apply(this,arguments)};function z5(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Jue(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}var u0="right-scroll-bar-position",d0="width-before-scroll-bar",ede="with-scroll-bars-hidden",tde="--removed-body-scroll-bar-size";function Xb(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function nde(t,e){var n=P.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var rde=typeof window<"u"?P.useLayoutEffect:P.useEffect,Dk=new WeakMap;function ide(t,e){var n=nde(null,function(r){return t.forEach(function(i){return Xb(i,r)})});return rde(function(){var r=Dk.get(n);if(r){var i=new Set(r),s=new Set(t),o=n.current;i.forEach(function(a){s.has(a)||Xb(a,null)}),s.forEach(function(a){i.has(a)||Xb(a,o)})}Dk.set(n,t)},[t]),n}function sde(t){return t}function ode(t,e){e===void 0&&(e=sde);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(s){var o=e(s,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(s){for(r=!0;n.length;){var o=n;n=[],o.forEach(s)}n={push:function(a){return s(a)},filter:function(){return n}}},assignMedium:function(s){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(s),o=n}var l=function(){var d=o;o=[],d.forEach(s)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(d){o.push(d),c()},filter:function(d){return o=o.filter(d),n}}}};return i}function ade(t){t===void 0&&(t={});var e=ode(null);return e.options=bo({async:!0,ssr:!1},t),e}var V5=function(t){var e=t.sideCar,n=z5(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return P.createElement(r,bo({},n))};V5.isSideCarExport=!0;function lde(t,e){return t.useMedium(e),V5}var j5=ade(),$b=function(){},Ew=P.forwardRef(function(t,e){var n=P.useRef(null),r=P.useState({onScrollCapture:$b,onWheelCapture:$b,onTouchMoveCapture:$b}),i=r[0],s=r[1],o=t.forwardProps,a=t.children,l=t.className,c=t.removeScrollBar,d=t.enabled,h=t.shards,p=t.sideCar,m=t.noIsolation,v=t.inert,x=t.allowPinchZoom,y=t.as,g=y===void 0?"div":y,w=t.gapMode,b=z5(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),E=p,C=ide([n,e]),A=bo(bo({},b),i);return P.createElement(P.Fragment,null,d&&P.createElement(E,{sideCar:j5,removeScrollBar:c,shards:h,noIsolation:m,inert:v,setCallbacks:s,allowPinchZoom:!!x,lockRef:n,gapMode:w}),o?P.cloneElement(P.Children.only(a),bo(bo({},A),{ref:C})):P.createElement(g,bo({},A,{className:l,ref:C}),a))});Ew.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Ew.classNames={fullWidth:d0,zeroRight:u0};var cde=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function ude(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=cde();return e&&t.setAttribute("nonce",e),t}function dde(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function fde(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var hde=function(){var t=0,e=null;return{add:function(n){t==0&&(e=ude())&&(dde(e,n),fde(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},pde=function(){var t=hde();return function(e,n){P.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},H5=function(){var t=pde(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},mde={left:0,top:0,right:0,gap:0},Yb=function(t){return parseInt(t||"",10)||0},gde=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[Yb(n),Yb(r),Yb(i)]},vde=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return mde;var e=gde(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},yde=H5(),ef="data-scroll-locked",xde=function(t,e,n,r){var i=t.left,s=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(ede,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(ef,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(u0,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(d0,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(u0," .").concat(u0,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(d0," .").concat(d0,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(ef,`] {
    `).concat(tde,": ").concat(a,`px;
  }
`)},kk=function(){var t=parseInt(document.body.getAttribute(ef)||"0",10);return isFinite(t)?t:0},_de=function(){P.useEffect(function(){return document.body.setAttribute(ef,(kk()+1).toString()),function(){var t=kk()-1;t<=0?document.body.removeAttribute(ef):document.body.setAttribute(ef,t.toString())}},[])},wde=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;_de();var s=P.useMemo(function(){return vde(i)},[i]);return P.createElement(yde,{styles:xde(s,!e,i,n?"":"!important")})},KE=!1;if(typeof window<"u")try{var Uy=Object.defineProperty({},"passive",{get:function(){return KE=!0,!0}});window.addEventListener("test",Uy,Uy),window.removeEventListener("test",Uy,Uy)}catch{KE=!1}var pd=KE?{passive:!1}:!1,Sde=function(t){return t.tagName==="TEXTAREA"},W5=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!Sde(t)&&n[e]==="visible")},bde=function(t){return W5(t,"overflowY")},Mde=function(t){return W5(t,"overflowX")},Ok=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=G5(t,r);if(i){var s=X5(t,r),o=s[1],a=s[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},Ede=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},Tde=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},G5=function(t,e){return t==="v"?bde(e):Mde(e)},X5=function(t,e){return t==="v"?Ede(e):Tde(e)},Cde=function(t,e){return t==="h"&&e==="rtl"?-1:1},Ade=function(t,e,n,r,i){var s=Cde(t,window.getComputedStyle(e).direction),o=s*r,a=n.target,l=e.contains(a),c=!1,d=o>0,h=0,p=0;do{var m=X5(t,a),v=m[0],x=m[1],y=m[2],g=x-y-s*v;(v||g)&&G5(t,a)&&(h+=g,p+=v),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(d&&(Math.abs(h)<1||!i)||!d&&(Math.abs(p)<1||!i))&&(c=!0),c},By=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},Fk=function(t){return[t.deltaX,t.deltaY]},Uk=function(t){return t&&"current"in t?t.current:t},Pde=function(t,e){return t[0]===e[0]&&t[1]===e[1]},Rde=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},Ide=0,md=[];function Nde(t){var e=P.useRef([]),n=P.useRef([0,0]),r=P.useRef(),i=P.useState(Ide++)[0],s=P.useState(H5)[0],o=P.useRef(t);P.useEffect(function(){o.current=t},[t]),P.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var x=Jue([t.lockRef.current],(t.shards||[]).map(Uk),!0).filter(Boolean);return x.forEach(function(y){return y.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),x.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var a=P.useCallback(function(x,y){if("touches"in x&&x.touches.length===2||x.type==="wheel"&&x.ctrlKey)return!o.current.allowPinchZoom;var g=By(x),w=n.current,b="deltaX"in x?x.deltaX:w[0]-g[0],E="deltaY"in x?x.deltaY:w[1]-g[1],C,A=x.target,I=Math.abs(b)>Math.abs(E)?"h":"v";if("touches"in x&&I==="h"&&A.type==="range")return!1;var D=Ok(I,A);if(!D)return!0;if(D?C=I:(C=I==="v"?"h":"v",D=Ok(I,A)),!D)return!1;if(!r.current&&"changedTouches"in x&&(b||E)&&(r.current=C),!C)return!0;var N=r.current||C;return Ade(N,y,x,N==="h"?b:E,!0)},[]),l=P.useCallback(function(x){var y=x;if(!(!md.length||md[md.length-1]!==s)){var g="deltaY"in y?Fk(y):By(y),w=e.current.filter(function(C){return C.name===y.type&&(C.target===y.target||y.target===C.shadowParent)&&Pde(C.delta,g)})[0];if(w&&w.should){y.cancelable&&y.preventDefault();return}if(!w){var b=(o.current.shards||[]).map(Uk).filter(Boolean).filter(function(C){return C.contains(y.target)}),E=b.length>0?a(y,b[0]):!o.current.noIsolation;E&&y.cancelable&&y.preventDefault()}}},[]),c=P.useCallback(function(x,y,g,w){var b={name:x,delta:y,target:g,should:w,shadowParent:Lde(g)};e.current.push(b),setTimeout(function(){e.current=e.current.filter(function(E){return E!==b})},1)},[]),d=P.useCallback(function(x){n.current=By(x),r.current=void 0},[]),h=P.useCallback(function(x){c(x.type,Fk(x),x.target,a(x,t.lockRef.current))},[]),p=P.useCallback(function(x){c(x.type,By(x),x.target,a(x,t.lockRef.current))},[]);P.useEffect(function(){return md.push(s),t.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:p}),document.addEventListener("wheel",l,pd),document.addEventListener("touchmove",l,pd),document.addEventListener("touchstart",d,pd),function(){md=md.filter(function(x){return x!==s}),document.removeEventListener("wheel",l,pd),document.removeEventListener("touchmove",l,pd),document.removeEventListener("touchstart",d,pd)}},[]);var m=t.removeScrollBar,v=t.inert;return P.createElement(P.Fragment,null,v?P.createElement(s,{styles:Rde(i)}):null,m?P.createElement(wde,{gapMode:t.gapMode}):null)}function Lde(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const Dde=lde(j5,Nde);var oP=P.forwardRef(function(t,e){return P.createElement(Ew,bo({},t,{ref:e,sideCar:Dde}))});oP.classNames=Ew.classNames;var kde=[" ","Enter","ArrowUp","ArrowDown"],Ode=[" ","Enter"],cg="Select",[Tw,Cw,Fde]=TF(cg),[Jf,$he]=w_(cg,[Fde,A_]),Aw=A_(),[Ude,ec]=Jf(cg),[Bde,zde]=Jf(cg),$5=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:i,onOpenChange:s,value:o,defaultValue:a,onValueChange:l,dir:c,name:d,autoComplete:h,disabled:p,required:m,form:v}=t,x=Aw(e),[y,g]=P.useState(null),[w,b]=P.useState(null),[E,C]=P.useState(!1),A=Vue(c),[I=!1,D]=F0({prop:r,defaultProp:i,onChange:s}),[N,R]=F0({prop:o,defaultProp:a,onChange:l}),F=P.useRef(null),j=y?v||!!y.closest("form"):!0,[G,$]=P.useState(new Set),ne=Array.from(G).map(J=>J.props.value).join(";");return S.jsx(FX,{...x,children:S.jsxs(Ude,{required:m,scope:e,trigger:y,onTriggerChange:g,valueNode:w,onValueNodeChange:b,valueNodeHasChildren:E,onValueNodeHasChildrenChange:C,contentId:qd(),value:N,onValueChange:R,open:I,onOpenChange:D,dir:A,triggerPointerDownPosRef:F,disabled:p,children:[S.jsx(Tw.Provider,{scope:e,children:S.jsx(Bde,{scope:t.__scopeSelect,onNativeOptionAdd:P.useCallback(J=>{$(re=>new Set(re).add(J))},[]),onNativeOptionRemove:P.useCallback(J=>{$(re=>{const k=new Set(re);return k.delete(J),k})},[]),children:n})}),j?S.jsxs(yj,{"aria-hidden":!0,required:m,tabIndex:-1,name:d,autoComplete:h,value:N,onChange:J=>R(J.target.value),disabled:p,form:v,children:[N===void 0?S.jsx("option",{value:""}):null,Array.from(G)]},ne):null]})})};$5.displayName=cg;var Y5="SelectTrigger",q5=P.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...i}=t,s=Aw(n),o=ec(Y5,n),a=o.disabled||r,l=In(e,o.onTriggerChange),c=Cw(n),d=P.useRef("touch"),[h,p,m]=xj(x=>{const y=c().filter(b=>!b.disabled),g=y.find(b=>b.value===o.value),w=_j(y,x,g);w!==void 0&&o.onValueChange(w.value)}),v=x=>{a||(o.onOpenChange(!0),m()),x&&(o.triggerPointerDownPosRef.current={x:Math.round(x.pageX),y:Math.round(x.pageY)})};return S.jsx(FU,{asChild:!0,...s,children:S.jsx(mn.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":vj(o.value)?"":void 0,...i,ref:l,onClick:zt(i.onClick,x=>{x.currentTarget.focus(),d.current!=="mouse"&&v(x)}),onPointerDown:zt(i.onPointerDown,x=>{d.current=x.pointerType;const y=x.target;y.hasPointerCapture(x.pointerId)&&y.releasePointerCapture(x.pointerId),x.button===0&&x.ctrlKey===!1&&x.pointerType==="mouse"&&(v(x),x.preventDefault())}),onKeyDown:zt(i.onKeyDown,x=>{const y=h.current!=="";!(x.ctrlKey||x.altKey||x.metaKey)&&x.key.length===1&&p(x.key),!(y&&x.key===" ")&&kde.includes(x.key)&&(v(),x.preventDefault())})})})});q5.displayName=Y5;var Z5="SelectValue",K5=P.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,children:s,placeholder:o="",...a}=t,l=ec(Z5,n),{onValueNodeHasChildrenChange:c}=l,d=s!==void 0,h=In(e,l.onValueNodeChange);return ni(()=>{c(d)},[c,d]),S.jsx(mn.span,{...a,ref:h,style:{pointerEvents:"none"},children:vj(l.value)?S.jsx(S.Fragment,{children:o}):s})});K5.displayName=Z5;var Vde="SelectIcon",Q5=P.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...i}=t;return S.jsx(mn.span,{"aria-hidden":!0,...i,ref:e,children:r||""})});Q5.displayName=Vde;var jde="SelectPortal",J5=t=>S.jsx(S_,{asChild:!0,...t});J5.displayName=jde;var gu="SelectContent",ej=P.forwardRef((t,e)=>{const n=ec(gu,t.__scopeSelect),[r,i]=P.useState();if(ni(()=>{i(new DocumentFragment)},[]),!n.open){const s=r;return s?Yl.createPortal(S.jsx(tj,{scope:t.__scopeSelect,children:S.jsx(Tw.Slot,{scope:t.__scopeSelect,children:S.jsx("div",{children:t.children})})}),s):null}return S.jsx(nj,{...t,ref:e})});ej.displayName=gu;var zs=10,[tj,tc]=Jf(gu),Hde="SelectContentImpl",nj=P.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:s,onPointerDownOutside:o,side:a,sideOffset:l,align:c,alignOffset:d,arrowPadding:h,collisionBoundary:p,collisionPadding:m,sticky:v,hideWhenDetached:x,avoidCollisions:y,...g}=t,w=ec(gu,n),[b,E]=P.useState(null),[C,A]=P.useState(null),I=In(e,me=>E(me)),[D,N]=P.useState(null),[R,F]=P.useState(null),j=Cw(n),[G,$]=P.useState(!1),ne=P.useRef(!1);P.useEffect(()=>{if(b)return B5(b)},[b]),O5();const J=P.useCallback(me=>{const[ke,...tt]=j().map(qe=>qe.ref.current),[Fe]=tt.slice(-1),nt=document.activeElement;for(const qe of me)if(qe===nt||(qe==null||qe.scrollIntoView({block:"nearest"}),qe===ke&&C&&(C.scrollTop=0),qe===Fe&&C&&(C.scrollTop=C.scrollHeight),qe==null||qe.focus(),document.activeElement!==nt))return},[j,C]),re=P.useCallback(()=>J([D,b]),[J,D,b]);P.useEffect(()=>{G&&re()},[G,re]);const{onOpenChange:k,triggerPointerDownPosRef:W}=w;P.useEffect(()=>{if(b){let me={x:0,y:0};const ke=Fe=>{var nt,qe;me={x:Math.abs(Math.round(Fe.pageX)-(((nt=W.current)==null?void 0:nt.x)??0)),y:Math.abs(Math.round(Fe.pageY)-(((qe=W.current)==null?void 0:qe.y)??0))}},tt=Fe=>{me.x<=10&&me.y<=10?Fe.preventDefault():b.contains(Fe.target)||k(!1),document.removeEventListener("pointermove",ke),W.current=null};return W.current!==null&&(document.addEventListener("pointermove",ke),document.addEventListener("pointerup",tt,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ke),document.removeEventListener("pointerup",tt,{capture:!0})}}},[b,k,W]),P.useEffect(()=>{const me=()=>k(!1);return window.addEventListener("blur",me),window.addEventListener("resize",me),()=>{window.removeEventListener("blur",me),window.removeEventListener("resize",me)}},[k]);const[q,ee]=xj(me=>{const ke=j().filter(nt=>!nt.disabled),tt=ke.find(nt=>nt.ref.current===document.activeElement),Fe=_j(ke,me,tt);Fe&&setTimeout(()=>Fe.ref.current.focus())}),de=P.useCallback((me,ke,tt)=>{const Fe=!ne.current&&!tt;(w.value!==void 0&&w.value===ke||Fe)&&(N(me),Fe&&(ne.current=!0))},[w.value]),Ae=P.useCallback(()=>b==null?void 0:b.focus(),[b]),ae=P.useCallback((me,ke,tt)=>{const Fe=!ne.current&&!tt;(w.value!==void 0&&w.value===ke||Fe)&&F(me)},[w.value]),be=r==="popper"?QE:rj,Ee=be===QE?{side:a,sideOffset:l,align:c,alignOffset:d,arrowPadding:h,collisionBoundary:p,collisionPadding:m,sticky:v,hideWhenDetached:x,avoidCollisions:y}:{};return S.jsx(tj,{scope:n,content:b,viewport:C,onViewportChange:A,itemRefCallback:de,selectedItem:D,onItemLeave:Ae,itemTextRefCallback:ae,focusSelectedItem:re,selectedItemText:R,position:r,isPositioned:G,searchRef:q,children:S.jsx(oP,{as:kl,allowPinchZoom:!0,children:S.jsx(sP,{asChild:!0,trapped:w.open,onMountAutoFocus:me=>{me.preventDefault()},onUnmountAutoFocus:zt(i,me=>{var ke;(ke=w.trigger)==null||ke.focus({preventScroll:!0}),me.preventDefault()}),children:S.jsx(Om,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:me=>me.preventDefault(),onDismiss:()=>w.onOpenChange(!1),children:S.jsx(be,{role:"listbox",id:w.contentId,"data-state":w.open?"open":"closed",dir:w.dir,onContextMenu:me=>me.preventDefault(),...g,...Ee,onPlaced:()=>$(!0),ref:I,style:{display:"flex",flexDirection:"column",outline:"none",...g.style},onKeyDown:zt(g.onKeyDown,me=>{const ke=me.ctrlKey||me.altKey||me.metaKey;if(me.key==="Tab"&&me.preventDefault(),!ke&&me.key.length===1&&ee(me.key),["ArrowUp","ArrowDown","Home","End"].includes(me.key)){let Fe=j().filter(nt=>!nt.disabled).map(nt=>nt.ref.current);if(["ArrowUp","End"].includes(me.key)&&(Fe=Fe.slice().reverse()),["ArrowUp","ArrowDown"].includes(me.key)){const nt=me.target,qe=Fe.indexOf(nt);Fe=Fe.slice(qe+1)}setTimeout(()=>J(Fe)),me.preventDefault()}})})})})})})});nj.displayName=Hde;var Wde="SelectItemAlignedPosition",rj=P.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...i}=t,s=ec(gu,n),o=tc(gu,n),[a,l]=P.useState(null),[c,d]=P.useState(null),h=In(e,I=>d(I)),p=Cw(n),m=P.useRef(!1),v=P.useRef(!0),{viewport:x,selectedItem:y,selectedItemText:g,focusSelectedItem:w}=o,b=P.useCallback(()=>{if(s.trigger&&s.valueNode&&a&&c&&x&&y&&g){const I=s.trigger.getBoundingClientRect(),D=c.getBoundingClientRect(),N=s.valueNode.getBoundingClientRect(),R=g.getBoundingClientRect();if(s.dir!=="rtl"){const nt=R.left-D.left,qe=N.left-nt,Ye=I.left-qe,V=I.width+Ye,Oe=Math.max(V,D.width),Re=window.innerWidth-zs,Ue=Ak(qe,[zs,Math.max(zs,Re-Oe)]);a.style.minWidth=V+"px",a.style.left=Ue+"px"}else{const nt=D.right-R.right,qe=window.innerWidth-N.right-nt,Ye=window.innerWidth-I.right-qe,V=I.width+Ye,Oe=Math.max(V,D.width),Re=window.innerWidth-zs,Ue=Ak(qe,[zs,Math.max(zs,Re-Oe)]);a.style.minWidth=V+"px",a.style.right=Ue+"px"}const F=p(),j=window.innerHeight-zs*2,G=x.scrollHeight,$=window.getComputedStyle(c),ne=parseInt($.borderTopWidth,10),J=parseInt($.paddingTop,10),re=parseInt($.borderBottomWidth,10),k=parseInt($.paddingBottom,10),W=ne+J+G+k+re,q=Math.min(y.offsetHeight*5,W),ee=window.getComputedStyle(x),de=parseInt(ee.paddingTop,10),Ae=parseInt(ee.paddingBottom,10),ae=I.top+I.height/2-zs,be=j-ae,Ee=y.offsetHeight/2,me=y.offsetTop+Ee,ke=ne+J+me,tt=W-ke;if(ke<=ae){const nt=F.length>0&&y===F[F.length-1].ref.current;a.style.bottom="0px";const qe=c.clientHeight-x.offsetTop-x.offsetHeight,Ye=Math.max(be,Ee+(nt?Ae:0)+qe+re),V=ke+Ye;a.style.height=V+"px"}else{const nt=F.length>0&&y===F[0].ref.current;a.style.top="0px";const Ye=Math.max(ae,ne+x.offsetTop+(nt?de:0)+Ee)+tt;a.style.height=Ye+"px",x.scrollTop=ke-ae+x.offsetTop}a.style.margin=`${zs}px 0`,a.style.minHeight=q+"px",a.style.maxHeight=j+"px",r==null||r(),requestAnimationFrame(()=>m.current=!0)}},[p,s.trigger,s.valueNode,a,c,x,y,g,s.dir,r]);ni(()=>b(),[b]);const[E,C]=P.useState();ni(()=>{c&&C(window.getComputedStyle(c).zIndex)},[c]);const A=P.useCallback(I=>{I&&v.current===!0&&(b(),w==null||w(),v.current=!1)},[b,w]);return S.jsx(Xde,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:m,onScrollButtonChange:A,children:S.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:E},children:S.jsx(mn.div,{...i,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});rj.displayName=Wde;var Gde="SelectPopperPosition",QE=P.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=zs,...s}=t,o=Aw(n);return S.jsx(UU,{...o,...s,ref:e,align:r,collisionPadding:i,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});QE.displayName=Gde;var[Xde,aP]=Jf(gu,{}),JE="SelectViewport",ij=P.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...i}=t,s=tc(JE,n),o=aP(JE,n),a=In(e,s.onViewportChange),l=P.useRef(0);return S.jsxs(S.Fragment,{children:[S.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),S.jsx(Tw.Slot,{scope:n,children:S.jsx(mn.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:zt(i.onScroll,c=>{const d=c.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:p}=o;if(p!=null&&p.current&&h){const m=Math.abs(l.current-d.scrollTop);if(m>0){const v=window.innerHeight-zs*2,x=parseFloat(h.style.minHeight),y=parseFloat(h.style.height),g=Math.max(x,y);if(g<v){const w=g+m,b=Math.min(v,w),E=w-b;h.style.height=b+"px",h.style.bottom==="0px"&&(d.scrollTop=E>0?E:0,h.style.justifyContent="flex-end")}}}l.current=d.scrollTop})})})]})});ij.displayName=JE;var sj="SelectGroup",[$de,Yde]=Jf(sj),qde=P.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=qd();return S.jsx($de,{scope:n,id:i,children:S.jsx(mn.div,{role:"group","aria-labelledby":i,...r,ref:e})})});qde.displayName=sj;var oj="SelectLabel",aj=P.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=Yde(oj,n);return S.jsx(mn.div,{id:i.id,...r,ref:e})});aj.displayName=oj;var Bx="SelectItem",[Zde,lj]=Jf(Bx),cj=P.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:s,...o}=t,a=ec(Bx,n),l=tc(Bx,n),c=a.value===r,[d,h]=P.useState(s??""),[p,m]=P.useState(!1),v=In(e,w=>{var b;return(b=l.itemRefCallback)==null?void 0:b.call(l,w,r,i)}),x=qd(),y=P.useRef("touch"),g=()=>{i||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return S.jsx(Zde,{scope:n,value:r,disabled:i,textId:x,isSelected:c,onItemTextChange:P.useCallback(w=>{h(b=>b||((w==null?void 0:w.textContent)??"").trim())},[]),children:S.jsx(Tw.ItemSlot,{scope:n,value:r,disabled:i,textValue:d,children:S.jsx(mn.div,{role:"option","aria-labelledby":x,"data-highlighted":p?"":void 0,"aria-selected":c&&p,"data-state":c?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...o,ref:v,onFocus:zt(o.onFocus,()=>m(!0)),onBlur:zt(o.onBlur,()=>m(!1)),onClick:zt(o.onClick,()=>{y.current!=="mouse"&&g()}),onPointerUp:zt(o.onPointerUp,()=>{y.current==="mouse"&&g()}),onPointerDown:zt(o.onPointerDown,w=>{y.current=w.pointerType}),onPointerMove:zt(o.onPointerMove,w=>{var b;y.current=w.pointerType,i?(b=l.onItemLeave)==null||b.call(l):y.current==="mouse"&&w.currentTarget.focus({preventScroll:!0})}),onPointerLeave:zt(o.onPointerLeave,w=>{var b;w.currentTarget===document.activeElement&&((b=l.onItemLeave)==null||b.call(l))}),onKeyDown:zt(o.onKeyDown,w=>{var E;((E=l.searchRef)==null?void 0:E.current)!==""&&w.key===" "||(Ode.includes(w.key)&&g(),w.key===" "&&w.preventDefault())})})})})});cj.displayName=Bx;var Jh="SelectItemText",uj=P.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,...s}=t,o=ec(Jh,n),a=tc(Jh,n),l=lj(Jh,n),c=zde(Jh,n),[d,h]=P.useState(null),p=In(e,g=>h(g),l.onItemTextChange,g=>{var w;return(w=a.itemTextRefCallback)==null?void 0:w.call(a,g,l.value,l.disabled)}),m=d==null?void 0:d.textContent,v=P.useMemo(()=>S.jsx("option",{value:l.value,disabled:l.disabled,children:m},l.value),[l.disabled,l.value,m]),{onNativeOptionAdd:x,onNativeOptionRemove:y}=c;return ni(()=>(x(v),()=>y(v)),[x,y,v]),S.jsxs(S.Fragment,{children:[S.jsx(mn.span,{id:l.textId,...s,ref:p}),l.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Yl.createPortal(s.children,o.valueNode):null]})});uj.displayName=Jh;var dj="SelectItemIndicator",fj=P.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return lj(dj,n).isSelected?S.jsx(mn.span,{"aria-hidden":!0,...r,ref:e}):null});fj.displayName=dj;var eT="SelectScrollUpButton",hj=P.forwardRef((t,e)=>{const n=tc(eT,t.__scopeSelect),r=aP(eT,t.__scopeSelect),[i,s]=P.useState(!1),o=In(e,r.onScrollButtonChange);return ni(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollTop>0;s(c)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),i?S.jsx(mj,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}}):null});hj.displayName=eT;var tT="SelectScrollDownButton",pj=P.forwardRef((t,e)=>{const n=tc(tT,t.__scopeSelect),r=aP(tT,t.__scopeSelect),[i,s]=P.useState(!1),o=In(e,r.onScrollButtonChange);return ni(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollHeight-l.clientHeight,d=Math.ceil(l.scrollTop)<c;s(d)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),i?S.jsx(mj,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}}):null});pj.displayName=tT;var mj=P.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=t,s=tc("SelectScrollButton",n),o=P.useRef(null),a=Cw(n),l=P.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return P.useEffect(()=>()=>l(),[l]),ni(()=>{var d;const c=a().find(h=>h.ref.current===document.activeElement);(d=c==null?void 0:c.ref.current)==null||d.scrollIntoView({block:"nearest"})},[a]),S.jsx(mn.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:zt(i.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:zt(i.onPointerMove,()=>{var c;(c=s.onItemLeave)==null||c.call(s),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:zt(i.onPointerLeave,()=>{l()})})}),Kde="SelectSeparator",gj=P.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return S.jsx(mn.div,{"aria-hidden":!0,...r,ref:e})});gj.displayName=Kde;var nT="SelectArrow",Qde=P.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=Aw(n),s=ec(nT,n),o=tc(nT,n);return s.open&&o.position==="popper"?S.jsx(BU,{...i,...r,ref:e}):null});Qde.displayName=nT;function vj(t){return t===""||t===void 0}var yj=P.forwardRef((t,e)=>{const{value:n,...r}=t,i=P.useRef(null),s=In(e,i),o=que(n);return P.useEffect(()=>{const a=i.current,l=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==n&&d){const h=new Event("change",{bubbles:!0});d.call(a,n),a.dispatchEvent(h)}},[o,n]),S.jsx(Fm,{asChild:!0,children:S.jsx("select",{...r,ref:s,defaultValue:n})})});yj.displayName="BubbleSelect";function xj(t){const e=rs(t),n=P.useRef(""),r=P.useRef(0),i=P.useCallback(o=>{const a=n.current+o;e(a),function l(c){n.current=c,window.clearTimeout(r.current),c!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(a)},[e]),s=P.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return P.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,s]}function _j(t,e,n){const i=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,s=n?t.indexOf(n):-1;let o=Jde(t,Math.max(s,0));i.length===1&&(o=o.filter(c=>c!==n));const l=o.find(c=>c.textValue.toLowerCase().startsWith(i.toLowerCase()));return l!==n?l:void 0}function Jde(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var efe=$5,wj=q5,tfe=K5,nfe=Q5,rfe=J5,Sj=ej,ife=ij,bj=aj,Mj=cj,sfe=uj,ofe=fj,Ej=hj,Tj=pj,Cj=gj;const Bk=efe,zk=tfe,rT=P.forwardRef(({className:t,children:e,...n},r)=>S.jsxs(wj,{ref:r,className:wn("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,S.jsx(nfe,{asChild:!0,children:S.jsx(nU,{className:"h-4 w-4 opacity-50"})})]}));rT.displayName=wj.displayName;const Aj=P.forwardRef(({className:t,...e},n)=>S.jsx(Ej,{ref:n,className:wn("flex cursor-default items-center justify-center py-1",t),...e,children:S.jsx(QG,{className:"h-4 w-4"})}));Aj.displayName=Ej.displayName;const Pj=P.forwardRef(({className:t,...e},n)=>S.jsx(Tj,{ref:n,className:wn("flex cursor-default items-center justify-center py-1",t),...e,children:S.jsx(nU,{className:"h-4 w-4"})}));Pj.displayName=Tj.displayName;const iT=P.forwardRef(({className:t,children:e,position:n="popper",...r},i)=>S.jsx(rfe,{children:S.jsxs(Sj,{ref:i,className:wn("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[S.jsx(Aj,{}),S.jsx(ife,{className:wn("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),S.jsx(Pj,{})]})}));iT.displayName=Sj.displayName;const afe=P.forwardRef(({className:t,...e},n)=>S.jsx(bj,{ref:n,className:wn("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));afe.displayName=bj.displayName;const ol=P.forwardRef(({className:t,children:e,...n},r)=>S.jsxs(Mj,{ref:r,className:wn("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-primary focus:text-primary-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[S.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:S.jsx(ofe,{children:S.jsx(KG,{className:"h-4 w-4"})})}),S.jsx(sfe,{children:e})]}));ol.displayName=Mj.displayName;const lfe=P.forwardRef(({className:t,...e},n)=>S.jsx(Cj,{ref:n,className:wn("-mx-1 my-1 h-px bg-muted",t),...e}));lfe.displayName=Cj.displayName;var ug=t=>t.type==="checkbox",Xc=t=>t instanceof Date,ui=t=>t==null;const Rj=t=>typeof t=="object";var ir=t=>!ui(t)&&!Array.isArray(t)&&Rj(t)&&!Xc(t),Ij=t=>ir(t)&&t.target?ug(t.target)?t.target.checked:t.target.value:t,cfe=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,Nj=(t,e)=>t.has(cfe(e)),ufe=t=>{const e=t.constructor&&t.constructor.prototype;return ir(e)&&e.hasOwnProperty("isPrototypeOf")},lP=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Ai(t){let e;const n=Array.isArray(t);if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(lP&&(t instanceof Blob||t instanceof FileList))&&(n||ir(t)))if(e=n?[]:{},!n&&!ufe(t))e=t;else for(const r in t)t.hasOwnProperty(r)&&(e[r]=Ai(t[r]));else return t;return e}var Pw=t=>Array.isArray(t)?t.filter(Boolean):[],Kn=t=>t===void 0,Ge=(t,e,n)=>{if(!e||!ir(t))return n;const r=Pw(e.split(/[,[\].]+?/)).reduce((i,s)=>ui(i)?i:i[s],t);return Kn(r)||r===t?Kn(t[e])?n:t[e]:r},xs=t=>typeof t=="boolean",cP=t=>/^\w*$/.test(t),Lj=t=>Pw(t.replace(/["|']|\]/g,"").split(/\.|\[/)),_n=(t,e,n)=>{let r=-1;const i=cP(e)?[e]:Lj(e),s=i.length,o=s-1;for(;++r<s;){const a=i[r];let l=n;if(r!==o){const c=t[a];l=ir(c)||Array.isArray(c)?c:isNaN(+i[r+1])?{}:[]}if(a==="__proto__")return;t[a]=l,t=t[a]}return t};const zx={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Ys={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},na={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Dj=Le.createContext(null),Rw=()=>Le.useContext(Dj),dfe=t=>{const{children:e,...n}=t;return Le.createElement(Dj.Provider,{value:n},e)};var kj=(t,e,n,r=!0)=>{const i={defaultValues:e._defaultValues};for(const s in t)Object.defineProperty(i,s,{get:()=>{const o=s;return e._proxyFormState[o]!==Ys.all&&(e._proxyFormState[o]=!r||Ys.all),n&&(n[o]=!0),t[o]}});return i},Pi=t=>ir(t)&&!Object.keys(t).length,Oj=(t,e,n,r)=>{n(t);const{name:i,...s}=t;return Pi(s)||Object.keys(s).length>=Object.keys(e).length||Object.keys(s).find(o=>e[o]===(!r||Ys.all))},Ap=t=>Array.isArray(t)?t:[t],Fj=(t,e,n)=>!t||!e||t===e||Ap(t).some(r=>r&&(n?r===e:r.startsWith(e)||e.startsWith(r)));function uP(t){const e=Le.useRef(t);e.current=t,Le.useEffect(()=>{const n=!t.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{n&&n.unsubscribe()}},[t.disabled])}function ffe(t){const e=Rw(),{control:n=e.control,disabled:r,name:i,exact:s}=t||{},[o,a]=Le.useState(n._formState),l=Le.useRef(!0),c=Le.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),d=Le.useRef(i);return d.current=i,uP({disabled:r,next:h=>l.current&&Fj(d.current,h.name,s)&&Oj(h,c.current,n._updateFormState)&&a({...n._formState,...h}),subject:n._subjects.state}),Le.useEffect(()=>(l.current=!0,c.current.isValid&&n._updateValid(!0),()=>{l.current=!1}),[n]),kj(o,n,c.current,!1)}var To=t=>typeof t=="string",Uj=(t,e,n,r,i)=>To(t)?(r&&e.watch.add(t),Ge(n,t,i)):Array.isArray(t)?t.map(s=>(r&&e.watch.add(s),Ge(n,s))):(r&&(e.watchAll=!0),n);function hfe(t){const e=Rw(),{control:n=e.control,name:r,defaultValue:i,disabled:s,exact:o}=t||{},a=Le.useRef(r);a.current=r,uP({disabled:s,subject:n._subjects.values,next:d=>{Fj(a.current,d.name,o)&&c(Ai(Uj(a.current,n._names,d.values||n._formValues,!1,i)))}});const[l,c]=Le.useState(n._getWatch(r,i));return Le.useEffect(()=>n._removeUnmounted()),l}function pfe(t){const e=Rw(),{name:n,disabled:r,control:i=e.control,shouldUnregister:s}=t,o=Nj(i._names.array,n),a=hfe({control:i,name:n,defaultValue:Ge(i._formValues,n,Ge(i._defaultValues,n,t.defaultValue)),exact:!0}),l=ffe({control:i,name:n,exact:!0}),c=Le.useRef(i.register(n,{...t.rules,value:a,...xs(t.disabled)?{disabled:t.disabled}:{}}));return Le.useEffect(()=>{const d=i._options.shouldUnregister||s,h=(p,m)=>{const v=Ge(i._fields,p);v&&v._f&&(v._f.mount=m)};if(h(n,!0),d){const p=Ai(Ge(i._options.defaultValues,n));_n(i._defaultValues,n,p),Kn(Ge(i._formValues,n))&&_n(i._formValues,n,p)}return()=>{(o?d&&!i._state.action:d)?i.unregister(n):h(n,!1)}},[n,i,o,s]),Le.useEffect(()=>{Ge(i._fields,n)&&i._updateDisabledField({disabled:r,fields:i._fields,name:n,value:Ge(i._fields,n)._f.value})},[r,n,i]),{field:{name:n,value:a,...xs(r)||l.disabled?{disabled:l.disabled||r}:{},onChange:Le.useCallback(d=>c.current.onChange({target:{value:Ij(d),name:n},type:zx.CHANGE}),[n]),onBlur:Le.useCallback(()=>c.current.onBlur({target:{value:Ge(i._formValues,n),name:n},type:zx.BLUR}),[n,i]),ref:Le.useCallback(d=>{const h=Ge(i._fields,n);h&&d&&(h._f.ref={focus:()=>d.focus(),select:()=>d.select(),setCustomValidity:p=>d.setCustomValidity(p),reportValidity:()=>d.reportValidity()})},[i._fields,n])},formState:l,fieldState:Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!Ge(l.errors,n)},isDirty:{enumerable:!0,get:()=>!!Ge(l.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!Ge(l.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!Ge(l.validatingFields,n)},error:{enumerable:!0,get:()=>Ge(l.errors,n)}})}}const mfe=t=>t.render(pfe(t));var Bj=(t,e,n,r,i)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:i||!0}}:{},Vk=t=>({isOnSubmit:!t||t===Ys.onSubmit,isOnBlur:t===Ys.onBlur,isOnChange:t===Ys.onChange,isOnAll:t===Ys.all,isOnTouch:t===Ys.onTouched}),jk=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const Pp=(t,e,n,r)=>{for(const i of n||Object.keys(t)){const s=Ge(t,i);if(s){const{_f:o,...a}=s;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],i)&&!r)return!0;if(o.ref&&e(o.ref,o.name)&&!r)return!0;if(Pp(a,e))break}else if(ir(a)&&Pp(a,e))break}}};var gfe=(t,e,n)=>{const r=Ap(Ge(t,n));return _n(r,"root",e[n]),_n(t,n,r),t},dP=t=>t.type==="file",fa=t=>typeof t=="function",Vx=t=>{if(!lP)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},f0=t=>To(t),fP=t=>t.type==="radio",jx=t=>t instanceof RegExp;const Hk={value:!1,isValid:!1},Wk={value:!0,isValid:!0};var zj=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!Kn(t[0].attributes.value)?Kn(t[0].value)||t[0].value===""?Wk:{value:t[0].value,isValid:!0}:Wk:Hk}return Hk};const Gk={isValid:!1,value:null};var Vj=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,Gk):Gk;function Xk(t,e,n="validate"){if(f0(t)||Array.isArray(t)&&t.every(f0)||xs(t)&&!t)return{type:n,message:f0(t)?t:"",ref:e}}var gd=t=>ir(t)&&!jx(t)?t:{value:t,message:""},$k=async(t,e,n,r,i)=>{const{ref:s,refs:o,required:a,maxLength:l,minLength:c,min:d,max:h,pattern:p,validate:m,name:v,valueAsNumber:x,mount:y,disabled:g}=t._f,w=Ge(e,v);if(!y||g)return{};const b=o?o[0]:s,E=j=>{r&&b.reportValidity&&(b.setCustomValidity(xs(j)?"":j||""),b.reportValidity())},C={},A=fP(s),I=ug(s),D=A||I,N=(x||dP(s))&&Kn(s.value)&&Kn(w)||Vx(s)&&s.value===""||w===""||Array.isArray(w)&&!w.length,R=Bj.bind(null,v,n,C),F=(j,G,$,ne=na.maxLength,J=na.minLength)=>{const re=j?G:$;C[v]={type:j?ne:J,message:re,ref:s,...R(j?ne:J,re)}};if(i?!Array.isArray(w)||!w.length:a&&(!D&&(N||ui(w))||xs(w)&&!w||I&&!zj(o).isValid||A&&!Vj(o).isValid)){const{value:j,message:G}=f0(a)?{value:!!a,message:a}:gd(a);if(j&&(C[v]={type:na.required,message:G,ref:b,...R(na.required,G)},!n))return E(G),C}if(!N&&(!ui(d)||!ui(h))){let j,G;const $=gd(h),ne=gd(d);if(!ui(w)&&!isNaN(w)){const J=s.valueAsNumber||w&&+w;ui($.value)||(j=J>$.value),ui(ne.value)||(G=J<ne.value)}else{const J=s.valueAsDate||new Date(w),re=q=>new Date(new Date().toDateString()+" "+q),k=s.type=="time",W=s.type=="week";To($.value)&&w&&(j=k?re(w)>re($.value):W?w>$.value:J>new Date($.value)),To(ne.value)&&w&&(G=k?re(w)<re(ne.value):W?w<ne.value:J<new Date(ne.value))}if((j||G)&&(F(!!j,$.message,ne.message,na.max,na.min),!n))return E(C[v].message),C}if((l||c)&&!N&&(To(w)||i&&Array.isArray(w))){const j=gd(l),G=gd(c),$=!ui(j.value)&&w.length>+j.value,ne=!ui(G.value)&&w.length<+G.value;if(($||ne)&&(F($,j.message,G.message),!n))return E(C[v].message),C}if(p&&!N&&To(w)){const{value:j,message:G}=gd(p);if(jx(j)&&!w.match(j)&&(C[v]={type:na.pattern,message:G,ref:s,...R(na.pattern,G)},!n))return E(G),C}if(m){if(fa(m)){const j=await m(w,e),G=Xk(j,b);if(G&&(C[v]={...G,...R(na.validate,G.message)},!n))return E(G.message),C}else if(ir(m)){let j={};for(const G in m){if(!Pi(j)&&!n)break;const $=Xk(await m[G](w,e),b,G);$&&(j={...$,...R(G,$.message)},E($.message),n&&(C[v]=j))}if(!Pi(j)&&(C[v]={ref:b,...j},!n))return C}}return E(!0),C};function vfe(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=Kn(t)?r++:t[e[r++]];return t}function yfe(t){for(const e in t)if(t.hasOwnProperty(e)&&!Kn(t[e]))return!1;return!0}function mr(t,e){const n=Array.isArray(e)?e:cP(e)?[e]:Lj(e),r=n.length===1?t:vfe(t,n),i=n.length-1,s=n[i];return r&&delete r[s],i!==0&&(ir(r)&&Pi(r)||Array.isArray(r)&&yfe(r))&&mr(t,n.slice(0,-1)),t}var qb=()=>{let t=[];return{get observers(){return t},next:i=>{for(const s of t)s.next&&s.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(s=>s!==i)}}),unsubscribe:()=>{t=[]}}},sT=t=>ui(t)||!Rj(t);function fl(t,e){if(sT(t)||sT(e))return t===e;if(Xc(t)&&Xc(e))return t.getTime()===e.getTime();const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(const i of n){const s=t[i];if(!r.includes(i))return!1;if(i!=="ref"){const o=e[i];if(Xc(s)&&Xc(o)||ir(s)&&ir(o)||Array.isArray(s)&&Array.isArray(o)?!fl(s,o):s!==o)return!1}}return!0}var jj=t=>t.type==="select-multiple",xfe=t=>fP(t)||ug(t),Zb=t=>Vx(t)&&t.isConnected,Hj=t=>{for(const e in t)if(fa(t[e]))return!0;return!1};function Hx(t,e={}){const n=Array.isArray(t);if(ir(t)||n)for(const r in t)Array.isArray(t[r])||ir(t[r])&&!Hj(t[r])?(e[r]=Array.isArray(t[r])?[]:{},Hx(t[r],e[r])):ui(t[r])||(e[r]=!0);return e}function Wj(t,e,n){const r=Array.isArray(t);if(ir(t)||r)for(const i in t)Array.isArray(t[i])||ir(t[i])&&!Hj(t[i])?Kn(e)||sT(n[i])?n[i]=Array.isArray(t[i])?Hx(t[i],[]):{...Hx(t[i])}:Wj(t[i],ui(e)?{}:e[i],n[i]):n[i]=!fl(t[i],e[i]);return n}var Hh=(t,e)=>Wj(t,e,Hx(e)),Gj=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>Kn(t)?t:e?t===""?NaN:t&&+t:n&&To(t)?new Date(t):r?r(t):t;function Kb(t){const e=t.ref;if(!(t.refs?t.refs.every(n=>n.disabled):e.disabled))return dP(e)?e.files:fP(e)?Vj(t.refs).value:jj(e)?[...e.selectedOptions].map(({value:n})=>n):ug(e)?zj(t.refs).value:Gj(Kn(e.value)?t.ref.value:e.value,t)}var _fe=(t,e,n,r)=>{const i={};for(const s of t){const o=Ge(e,s);o&&_n(i,s,o._f)}return{criteriaMode:n,names:[...t],fields:i,shouldUseNativeValidation:r}},Wh=t=>Kn(t)?t:jx(t)?t.source:ir(t)?jx(t.value)?t.value.source:t.value:t;const Yk="AsyncFunction";var wfe=t=>(!t||!t.validate)&&!!(fa(t.validate)&&t.validate.constructor.name===Yk||ir(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===Yk)),Sfe=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate);function qk(t,e,n){const r=Ge(t,n);if(r||cP(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const s=i.join("."),o=Ge(e,s),a=Ge(t,s);if(o&&!Array.isArray(o)&&n!==s)return{name:n};if(a&&a.type)return{name:s,error:a};i.pop()}return{name:n}}var bfe=(t,e,n,r,i)=>i.isOnAll?!1:!n&&i.isOnTouch?!(e||t):(n?r.isOnBlur:i.isOnBlur)?!t:(n?r.isOnChange:i.isOnChange)?t:!0,Mfe=(t,e)=>!Pw(Ge(t,e)).length&&mr(t,e);const Efe={mode:Ys.onSubmit,reValidateMode:Ys.onChange,shouldFocusError:!0};function Tfe(t={}){let e={...Efe,...t},n={submitCount:0,isDirty:!1,isLoading:fa(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},r={},i=ir(e.defaultValues)||ir(e.values)?Ai(e.defaultValues||e.values)||{}:{},s=e.shouldUnregister?{}:Ai(i),o={action:!1,mount:!1,watch:!1},a={mount:new Set,unMount:new Set,array:new Set,watch:new Set},l,c=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},h={values:qb(),array:qb(),state:qb()},p=Vk(e.mode),m=Vk(e.reValidateMode),v=e.criteriaMode===Ys.all,x=B=>Z=>{clearTimeout(c),c=setTimeout(B,Z)},y=async B=>{if(!t.disabled&&(d.isValid||B)){const Z=e.resolver?Pi((await D()).errors):await R(r,!0);Z!==n.isValid&&h.state.next({isValid:Z})}},g=(B,Z)=>{!t.disabled&&(d.isValidating||d.validatingFields)&&((B||Array.from(a.mount)).forEach(Q=>{Q&&(Z?_n(n.validatingFields,Q,Z):mr(n.validatingFields,Q))}),h.state.next({validatingFields:n.validatingFields,isValidating:!Pi(n.validatingFields)}))},w=(B,Z=[],Q,ge,Se=!0,U=!0)=>{if(ge&&Q&&!t.disabled){if(o.action=!0,U&&Array.isArray(Ge(r,B))){const O=Q(Ge(r,B),ge.argA,ge.argB);Se&&_n(r,B,O)}if(U&&Array.isArray(Ge(n.errors,B))){const O=Q(Ge(n.errors,B),ge.argA,ge.argB);Se&&_n(n.errors,B,O),Mfe(n.errors,B)}if(d.touchedFields&&U&&Array.isArray(Ge(n.touchedFields,B))){const O=Q(Ge(n.touchedFields,B),ge.argA,ge.argB);Se&&_n(n.touchedFields,B,O)}d.dirtyFields&&(n.dirtyFields=Hh(i,s)),h.state.next({name:B,isDirty:j(B,Z),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else _n(s,B,Z)},b=(B,Z)=>{_n(n.errors,B,Z),h.state.next({errors:n.errors})},E=B=>{n.errors=B,h.state.next({errors:n.errors,isValid:!1})},C=(B,Z,Q,ge)=>{const Se=Ge(r,B);if(Se){const U=Ge(s,B,Kn(Q)?Ge(i,B):Q);Kn(U)||ge&&ge.defaultChecked||Z?_n(s,B,Z?U:Kb(Se._f)):ne(B,U),o.mount&&y()}},A=(B,Z,Q,ge,Se)=>{let U=!1,O=!1;const te={name:B};if(!t.disabled){const ue=!!(Ge(r,B)&&Ge(r,B)._f&&Ge(r,B)._f.disabled);if(!Q||ge){d.isDirty&&(O=n.isDirty,n.isDirty=te.isDirty=j(),U=O!==te.isDirty);const ye=ue||fl(Ge(i,B),Z);O=!!(!ue&&Ge(n.dirtyFields,B)),ye||ue?mr(n.dirtyFields,B):_n(n.dirtyFields,B,!0),te.dirtyFields=n.dirtyFields,U=U||d.dirtyFields&&O!==!ye}if(Q){const ye=Ge(n.touchedFields,B);ye||(_n(n.touchedFields,B,Q),te.touchedFields=n.touchedFields,U=U||d.touchedFields&&ye!==Q)}U&&Se&&h.state.next(te)}return U?te:{}},I=(B,Z,Q,ge)=>{const Se=Ge(n.errors,B),U=d.isValid&&xs(Z)&&n.isValid!==Z;if(t.delayError&&Q?(l=x(()=>b(B,Q)),l(t.delayError)):(clearTimeout(c),l=null,Q?_n(n.errors,B,Q):mr(n.errors,B)),(Q?!fl(Se,Q):Se)||!Pi(ge)||U){const O={...ge,...U&&xs(Z)?{isValid:Z}:{},errors:n.errors,name:B};n={...n,...O},h.state.next(O)}},D=async B=>{g(B,!0);const Z=await e.resolver(s,e.context,_fe(B||a.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return g(B),Z},N=async B=>{const{errors:Z}=await D(B);if(B)for(const Q of B){const ge=Ge(Z,Q);ge?_n(n.errors,Q,ge):mr(n.errors,Q)}else n.errors=Z;return Z},R=async(B,Z,Q={valid:!0})=>{for(const ge in B){const Se=B[ge];if(Se){const{_f:U,...O}=Se;if(U){const te=a.array.has(U.name),ue=Se._f&&wfe(Se._f);ue&&d.validatingFields&&g([ge],!0);const ye=await $k(Se,s,v,e.shouldUseNativeValidation&&!Z,te);if(ue&&d.validatingFields&&g([ge]),ye[U.name]&&(Q.valid=!1,Z))break;!Z&&(Ge(ye,U.name)?te?gfe(n.errors,ye,U.name):_n(n.errors,U.name,ye[U.name]):mr(n.errors,U.name))}!Pi(O)&&await R(O,Z,Q)}}return Q.valid},F=()=>{for(const B of a.unMount){const Z=Ge(r,B);Z&&(Z._f.refs?Z._f.refs.every(Q=>!Zb(Q)):!Zb(Z._f.ref))&&Ee(B)}a.unMount=new Set},j=(B,Z)=>!t.disabled&&(B&&Z&&_n(s,B,Z),!fl(ee(),i)),G=(B,Z,Q)=>Uj(B,a,{...o.mount?s:Kn(Z)?i:To(B)?{[B]:Z}:Z},Q,Z),$=B=>Pw(Ge(o.mount?s:i,B,t.shouldUnregister?Ge(i,B,[]):[])),ne=(B,Z,Q={})=>{const ge=Ge(r,B);let Se=Z;if(ge){const U=ge._f;U&&(!U.disabled&&_n(s,B,Gj(Z,U)),Se=Vx(U.ref)&&ui(Z)?"":Z,jj(U.ref)?[...U.ref.options].forEach(O=>O.selected=Se.includes(O.value)):U.refs?ug(U.ref)?U.refs.length>1?U.refs.forEach(O=>(!O.defaultChecked||!O.disabled)&&(O.checked=Array.isArray(Se)?!!Se.find(te=>te===O.value):Se===O.value)):U.refs[0]&&(U.refs[0].checked=!!Se):U.refs.forEach(O=>O.checked=O.value===Se):dP(U.ref)?U.ref.value="":(U.ref.value=Se,U.ref.type||h.values.next({name:B,values:{...s}})))}(Q.shouldDirty||Q.shouldTouch)&&A(B,Se,Q.shouldTouch,Q.shouldDirty,!0),Q.shouldValidate&&q(B)},J=(B,Z,Q)=>{for(const ge in Z){const Se=Z[ge],U=`${B}.${ge}`,O=Ge(r,U);(a.array.has(B)||ir(Se)||O&&!O._f)&&!Xc(Se)?J(U,Se,Q):ne(U,Se,Q)}},re=(B,Z,Q={})=>{const ge=Ge(r,B),Se=a.array.has(B),U=Ai(Z);_n(s,B,U),Se?(h.array.next({name:B,values:{...s}}),(d.isDirty||d.dirtyFields)&&Q.shouldDirty&&h.state.next({name:B,dirtyFields:Hh(i,s),isDirty:j(B,U)})):ge&&!ge._f&&!ui(U)?J(B,U,Q):ne(B,U,Q),jk(B,a)&&h.state.next({...n}),h.values.next({name:o.mount?B:void 0,values:{...s}})},k=async B=>{o.mount=!0;const Z=B.target;let Q=Z.name,ge=!0;const Se=Ge(r,Q),U=()=>Z.type?Kb(Se._f):Ij(B),O=te=>{ge=Number.isNaN(te)||Xc(te)&&isNaN(te.getTime())||fl(te,Ge(s,Q,te))};if(Se){let te,ue;const ye=U(),ve=B.type===zx.BLUR||B.type===zx.FOCUS_OUT,rt=!Sfe(Se._f)&&!e.resolver&&!Ge(n.errors,Q)&&!Se._f.deps||bfe(ve,Ge(n.touchedFields,Q),n.isSubmitted,m,p),He=jk(Q,a,ve);_n(s,Q,ye),ve?(Se._f.onBlur&&Se._f.onBlur(B),l&&l(0)):Se._f.onChange&&Se._f.onChange(B);const it=A(Q,ye,ve,!1),ct=!Pi(it)||He;if(!ve&&h.values.next({name:Q,type:B.type,values:{...s}}),rt)return d.isValid&&(t.mode==="onBlur"?ve&&y():y()),ct&&h.state.next({name:Q,...He?{}:it});if(!ve&&He&&h.state.next({...n}),e.resolver){const{errors:Ie}=await D([Q]);if(O(ye),ge){const Qe=qk(n.errors,r,Q),gt=qk(Ie,r,Qe.name||Q);te=gt.error,Q=gt.name,ue=Pi(Ie)}}else g([Q],!0),te=(await $k(Se,s,v,e.shouldUseNativeValidation))[Q],g([Q]),O(ye),ge&&(te?ue=!1:d.isValid&&(ue=await R(r,!0)));ge&&(Se._f.deps&&q(Se._f.deps),I(Q,ue,te,it))}},W=(B,Z)=>{if(Ge(n.errors,Z)&&B.focus)return B.focus(),1},q=async(B,Z={})=>{let Q,ge;const Se=Ap(B);if(e.resolver){const U=await N(Kn(B)?B:Se);Q=Pi(U),ge=B?!Se.some(O=>Ge(U,O)):Q}else B?(ge=(await Promise.all(Se.map(async U=>{const O=Ge(r,U);return await R(O&&O._f?{[U]:O}:O)}))).every(Boolean),!(!ge&&!n.isValid)&&y()):ge=Q=await R(r);return h.state.next({...!To(B)||d.isValid&&Q!==n.isValid?{}:{name:B},...e.resolver||!B?{isValid:Q}:{},errors:n.errors}),Z.shouldFocus&&!ge&&Pp(r,W,B?Se:a.mount),ge},ee=B=>{const Z={...o.mount?s:i};return Kn(B)?Z:To(B)?Ge(Z,B):B.map(Q=>Ge(Z,Q))},de=(B,Z)=>({invalid:!!Ge((Z||n).errors,B),isDirty:!!Ge((Z||n).dirtyFields,B),error:Ge((Z||n).errors,B),isValidating:!!Ge(n.validatingFields,B),isTouched:!!Ge((Z||n).touchedFields,B)}),Ae=B=>{B&&Ap(B).forEach(Z=>mr(n.errors,Z)),h.state.next({errors:B?n.errors:{}})},ae=(B,Z,Q)=>{const ge=(Ge(r,B,{_f:{}})._f||{}).ref,Se=Ge(n.errors,B)||{},{ref:U,message:O,type:te,...ue}=Se;_n(n.errors,B,{...ue,...Z,ref:ge}),h.state.next({name:B,errors:n.errors,isValid:!1}),Q&&Q.shouldFocus&&ge&&ge.focus&&ge.focus()},be=(B,Z)=>fa(B)?h.values.subscribe({next:Q=>B(G(void 0,Z),Q)}):G(B,Z,!0),Ee=(B,Z={})=>{for(const Q of B?Ap(B):a.mount)a.mount.delete(Q),a.array.delete(Q),Z.keepValue||(mr(r,Q),mr(s,Q)),!Z.keepError&&mr(n.errors,Q),!Z.keepDirty&&mr(n.dirtyFields,Q),!Z.keepTouched&&mr(n.touchedFields,Q),!Z.keepIsValidating&&mr(n.validatingFields,Q),!e.shouldUnregister&&!Z.keepDefaultValue&&mr(i,Q);h.values.next({values:{...s}}),h.state.next({...n,...Z.keepDirty?{isDirty:j()}:{}}),!Z.keepIsValid&&y()},me=({disabled:B,name:Z,field:Q,fields:ge,value:Se})=>{if(xs(B)&&o.mount||B){const U=B?void 0:Kn(Se)?Kb(Q?Q._f:Ge(ge,Z)._f):Se;_n(s,Z,U),A(Z,U,!1,!1,!0)}},ke=(B,Z={})=>{let Q=Ge(r,B);const ge=xs(Z.disabled)||xs(t.disabled);return _n(r,B,{...Q||{},_f:{...Q&&Q._f?Q._f:{ref:{name:B}},name:B,mount:!0,...Z}}),a.mount.add(B),Q?me({field:Q,disabled:xs(Z.disabled)?Z.disabled:t.disabled,name:B,value:Z.value}):C(B,!0,Z.value),{...ge?{disabled:Z.disabled||t.disabled}:{},...e.progressive?{required:!!Z.required,min:Wh(Z.min),max:Wh(Z.max),minLength:Wh(Z.minLength),maxLength:Wh(Z.maxLength),pattern:Wh(Z.pattern)}:{},name:B,onChange:k,onBlur:k,ref:Se=>{if(Se){ke(B,Z),Q=Ge(r,B);const U=Kn(Se.value)&&Se.querySelectorAll&&Se.querySelectorAll("input,select,textarea")[0]||Se,O=xfe(U),te=Q._f.refs||[];if(O?te.find(ue=>ue===U):U===Q._f.ref)return;_n(r,B,{_f:{...Q._f,...O?{refs:[...te.filter(Zb),U,...Array.isArray(Ge(i,B))?[{}]:[]],ref:{type:U.type,name:B}}:{ref:U}}}),C(B,!1,void 0,U)}else Q=Ge(r,B,{}),Q._f&&(Q._f.mount=!1),(e.shouldUnregister||Z.shouldUnregister)&&!(Nj(a.array,B)&&o.action)&&a.unMount.add(B)}}},tt=()=>e.shouldFocusError&&Pp(r,W,a.mount),Fe=B=>{xs(B)&&(h.state.next({disabled:B}),Pp(r,(Z,Q)=>{const ge=Ge(r,Q);ge&&(Z.disabled=ge._f.disabled||B,Array.isArray(ge._f.refs)&&ge._f.refs.forEach(Se=>{Se.disabled=ge._f.disabled||B}))},0,!1))},nt=(B,Z)=>async Q=>{let ge;Q&&(Q.preventDefault&&Q.preventDefault(),Q.persist&&Q.persist());let Se=Ai(s);if(h.state.next({isSubmitting:!0}),e.resolver){const{errors:U,values:O}=await D();n.errors=U,Se=O}else await R(r);if(mr(n.errors,"root"),Pi(n.errors)){h.state.next({errors:{}});try{await B(Se,Q)}catch(U){ge=U}}else Z&&await Z({...n.errors},Q),tt(),setTimeout(tt);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Pi(n.errors)&&!ge,submitCount:n.submitCount+1,errors:n.errors}),ge)throw ge},qe=(B,Z={})=>{Ge(r,B)&&(Kn(Z.defaultValue)?re(B,Ai(Ge(i,B))):(re(B,Z.defaultValue),_n(i,B,Ai(Z.defaultValue))),Z.keepTouched||mr(n.touchedFields,B),Z.keepDirty||(mr(n.dirtyFields,B),n.isDirty=Z.defaultValue?j(B,Ai(Ge(i,B))):j()),Z.keepError||(mr(n.errors,B),d.isValid&&y()),h.state.next({...n}))},Ye=(B,Z={})=>{const Q=B?Ai(B):i,ge=Ai(Q),Se=Pi(B),U=Se?i:ge;if(Z.keepDefaultValues||(i=Q),!Z.keepValues){if(Z.keepDirtyValues){const O=new Set([...a.mount,...Object.keys(Hh(i,s))]);for(const te of Array.from(O))Ge(n.dirtyFields,te)?_n(U,te,Ge(s,te)):re(te,Ge(U,te))}else{if(lP&&Kn(B))for(const O of a.mount){const te=Ge(r,O);if(te&&te._f){const ue=Array.isArray(te._f.refs)?te._f.refs[0]:te._f.ref;if(Vx(ue)){const ye=ue.closest("form");if(ye){ye.reset();break}}}}r={}}s=t.shouldUnregister?Z.keepDefaultValues?Ai(i):{}:Ai(U),h.array.next({values:{...U}}),h.values.next({values:{...U}})}a={mount:Z.keepDirtyValues?a.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!d.isValid||!!Z.keepIsValid||!!Z.keepDirtyValues,o.watch=!!t.shouldUnregister,h.state.next({submitCount:Z.keepSubmitCount?n.submitCount:0,isDirty:Se?!1:Z.keepDirty?n.isDirty:!!(Z.keepDefaultValues&&!fl(B,i)),isSubmitted:Z.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:Se?{}:Z.keepDirtyValues?Z.keepDefaultValues&&s?Hh(i,s):n.dirtyFields:Z.keepDefaultValues&&B?Hh(i,B):Z.keepDirty?n.dirtyFields:{},touchedFields:Z.keepTouched?n.touchedFields:{},errors:Z.keepErrors?n.errors:{},isSubmitSuccessful:Z.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},V=(B,Z)=>Ye(fa(B)?B(s):B,Z);return{control:{register:ke,unregister:Ee,getFieldState:de,handleSubmit:nt,setError:ae,_executeSchema:D,_getWatch:G,_getDirty:j,_updateValid:y,_removeUnmounted:F,_updateFieldArray:w,_updateDisabledField:me,_getFieldArray:$,_reset:Ye,_resetDefaultValues:()=>fa(e.defaultValues)&&e.defaultValues().then(B=>{V(B,e.resetOptions),h.state.next({isLoading:!1})}),_updateFormState:B=>{n={...n,...B}},_disableForm:Fe,_subjects:h,_proxyFormState:d,_setErrors:E,get _fields(){return r},get _formValues(){return s},get _state(){return o},set _state(B){o=B},get _defaultValues(){return i},get _names(){return a},set _names(B){a=B},get _formState(){return n},set _formState(B){n=B},get _options(){return e},set _options(B){e={...e,...B}}},trigger:q,register:ke,handleSubmit:nt,watch:be,setValue:re,getValues:ee,reset:V,resetField:qe,clearErrors:Ae,unregister:Ee,setError:ae,setFocus:(B,Z={})=>{const Q=Ge(r,B),ge=Q&&Q._f;if(ge){const Se=ge.refs?ge.refs[0]:ge.ref;Se.focus&&(Se.focus(),Z.shouldSelect&&Se.select())}},getFieldState:de}}function hP(t={}){const e=Le.useRef(),n=Le.useRef(),[r,i]=Le.useState({isDirty:!1,isValidating:!1,isLoading:fa(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:fa(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...Tfe(t),formState:r});const s=e.current.control;return s._options=t,uP({subject:s._subjects.state,next:o=>{Oj(o,s._proxyFormState,s._updateFormState,!0)&&i({...s._formState})}}),Le.useEffect(()=>s._disableForm(t.disabled),[s,t.disabled]),Le.useEffect(()=>{if(s._proxyFormState.isDirty){const o=s._getDirty();o!==r.isDirty&&s._subjects.state.next({isDirty:o})}},[s,r.isDirty]),Le.useEffect(()=>{t.values&&!fl(t.values,n.current)?(s._reset(t.values,s._options.resetOptions),n.current=t.values,i(o=>({...o}))):s._resetDefaultValues()},[t.values,s]),Le.useEffect(()=>{t.errors&&s._setErrors(t.errors)},[t.errors,s]),Le.useEffect(()=>{s._state.mount||(s._updateValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),Le.useEffect(()=>{t.shouldUnregister&&s._subjects.values.next({values:s._getWatch()})},[t.shouldUnregister,s]),Le.useEffect(()=>{e.current&&(e.current.watch=e.current.watch.bind({}))},[r]),e.current.formState=kj(r,s),e.current}const Zk=(t,e,n)=>{if(t&&"reportValidity"in t){const r=Ge(n,e);t.setCustomValidity(r&&r.message||""),t.reportValidity()}},Xj=(t,e)=>{for(const n in e.fields){const r=e.fields[n];r&&r.ref&&"reportValidity"in r.ref?Zk(r.ref,n,t):r.refs&&r.refs.forEach(i=>Zk(i,n,t))}},Cfe=(t,e)=>{e.shouldUseNativeValidation&&Xj(t,e);const n={};for(const r in t){const i=Ge(e.fields,r),s=Object.assign(t[r]||{},{ref:i&&i.ref});if(Afe(e.names||Object.keys(t),r)){const o=Object.assign({},Ge(n,r));_n(o,"root",s),_n(n,r,o)}else _n(n,r,s)}return n},Afe=(t,e)=>t.some(n=>n.startsWith(e+"."));var Pfe=function(t,e){for(var n={};t.length;){var r=t[0],i=r.code,s=r.message,o=r.path.join(".");if(!n[o])if("unionErrors"in r){var a=r.unionErrors[0].errors[0];n[o]={message:a.message,type:a.code}}else n[o]={message:s,type:i};if("unionErrors"in r&&r.unionErrors.forEach(function(d){return d.errors.forEach(function(h){return t.push(h)})}),e){var l=n[o].types,c=l&&l[r.code];n[o]=Bj(o,e,n,i,c?[].concat(c,r.message):r.message)}t.shift()}return n},pP=function(t,e,n){return n===void 0&&(n={}),function(r,i,s){try{return Promise.resolve(function(o,a){try{var l=Promise.resolve(t[n.mode==="sync"?"parse":"parseAsync"](r,e)).then(function(c){return s.shouldUseNativeValidation&&Xj({},s),{errors:{},values:n.raw?r:c}})}catch(c){return a(c)}return l&&l.then?l.then(void 0,a):l}(0,function(o){if(function(a){return Array.isArray(a==null?void 0:a.errors)}(o))return{values:{},errors:Cfe(Pfe(o.errors,!s.shouldUseNativeValidation&&s.criteriaMode==="all"),s)};throw o}))}catch(o){return Promise.reject(o)}}},fn;(function(t){t.assertEqual=i=>i;function e(i){}t.assertIs=e;function n(i){throw new Error}t.assertNever=n,t.arrayToEnum=i=>{const s={};for(const o of i)s[o]=o;return s},t.getValidEnumValues=i=>{const s=t.objectKeys(i).filter(a=>typeof i[i[a]]!="number"),o={};for(const a of s)o[a]=i[a];return t.objectValues(o)},t.objectValues=i=>t.objectKeys(i).map(function(s){return i[s]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const s=[];for(const o in i)Object.prototype.hasOwnProperty.call(i,o)&&s.push(o);return s},t.find=(i,s)=>{for(const o of i)if(s(o))return o},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&isFinite(i)&&Math.floor(i)===i;function r(i,s=" | "){return i.map(o=>typeof o=="string"?`'${o}'`:o).join(s)}t.joinValues=r,t.jsonStringifyReplacer=(i,s)=>typeof s=="bigint"?s.toString():s})(fn||(fn={}));var Kk;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(Kk||(Kk={}));const ut=fn.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Fc=t=>{switch(typeof t){case"undefined":return ut.undefined;case"string":return ut.string;case"number":return isNaN(t)?ut.nan:ut.number;case"boolean":return ut.boolean;case"function":return ut.function;case"bigint":return ut.bigint;case"symbol":return ut.symbol;case"object":return Array.isArray(t)?ut.array:t===null?ut.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?ut.promise:typeof Map<"u"&&t instanceof Map?ut.map:typeof Set<"u"&&t instanceof Set?ut.set:typeof Date<"u"&&t instanceof Date?ut.date:ut.object;default:return ut.unknown}},Ve=fn.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class As extends Error{constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const n=e||function(s){return s.message},r={_errors:[]},i=s=>{for(const o of s.issues)if(o.code==="invalid_union")o.unionErrors.map(i);else if(o.code==="invalid_return_type")i(o.returnTypeError);else if(o.code==="invalid_arguments")i(o.argumentsError);else if(o.path.length===0)r._errors.push(n(o));else{let a=r,l=0;for(;l<o.path.length;){const c=o.path[l];l===o.path.length-1?(a[c]=a[c]||{_errors:[]},a[c]._errors.push(n(o))):a[c]=a[c]||{_errors:[]},a=a[c],l++}}};return i(this),r}static assert(e){if(!(e instanceof As))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,fn.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const i of this.issues)i.path.length>0?(n[i.path[0]]=n[i.path[0]]||[],n[i.path[0]].push(e(i))):r.push(e(i));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}As.create=t=>new As(t);const Tm=(t,e)=>{let n;switch(t.code){case Ve.invalid_type:t.received===ut.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case Ve.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,fn.jsonStringifyReplacer)}`;break;case Ve.unrecognized_keys:n=`Unrecognized key(s) in object: ${fn.joinValues(t.keys,", ")}`;break;case Ve.invalid_union:n="Invalid input";break;case Ve.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${fn.joinValues(t.options)}`;break;case Ve.invalid_enum_value:n=`Invalid enum value. Expected ${fn.joinValues(t.options)}, received '${t.received}'`;break;case Ve.invalid_arguments:n="Invalid function arguments";break;case Ve.invalid_return_type:n="Invalid function return type";break;case Ve.invalid_date:n="Invalid date";break;case Ve.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:fn.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case Ve.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case Ve.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case Ve.custom:n="Invalid input";break;case Ve.invalid_intersection_types:n="Intersection results could not be merged";break;case Ve.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case Ve.not_finite:n="Number must be finite";break;default:n=e.defaultError,fn.assertNever(t)}return{message:n}};let Rfe=Tm;function oT(){return Rfe}const aT=t=>{const{data:e,path:n,errorMaps:r,issueData:i}=t,s=[...n,...i.path||[]],o={...i,path:s};if(i.message!==void 0)return{...i,path:s,message:i.message};let a="";const l=r.filter(c=>!!c).slice().reverse();for(const c of l)a=c(o,{data:e,defaultError:a}).message;return{...i,path:s,message:a}};function ot(t,e){const n=oT(),r=aT({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===Tm?void 0:Tm].filter(i=>!!i)});t.common.issues.push(r)}class vi{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const i of n){if(i.status==="aborted")return Pt;i.status==="dirty"&&e.dirty(),r.push(i.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const i of n){const s=await i.key,o=await i.value;r.push({key:s,value:o})}return vi.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const i of n){const{key:s,value:o}=i;if(s.status==="aborted"||o.status==="aborted")return Pt;s.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),s.value!=="__proto__"&&(typeof o.value<"u"||i.alwaysSet)&&(r[s.value]=o.value)}return{status:e.value,value:r}}}const Pt=Object.freeze({status:"aborted"}),ep=t=>({status:"dirty",value:t}),Bi=t=>({status:"valid",value:t}),Qk=t=>t.status==="aborted",Jk=t=>t.status==="dirty",Wx=t=>t.status==="valid",Gx=t=>typeof Promise<"u"&&t instanceof Promise;function Xx(t,e,n,r){if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(t)}function $j(t,e,n,r,i){if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,n),n}var _t;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(_t||(_t={}));var tp,np;class Fo{constructor(e,n,r,i){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const e3=(t,e)=>{if(Wx(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new As(t.common.issues);return this._error=n,this._error}}};function Ot(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:i}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(o,a)=>{var l,c;const{message:d}=t;return o.code==="invalid_enum_value"?{message:d??a.defaultError}:typeof a.data>"u"?{message:(l=d??r)!==null&&l!==void 0?l:a.defaultError}:o.code!=="invalid_type"?{message:a.defaultError}:{message:(c=d??n)!==null&&c!==void 0?c:a.defaultError}},description:i}}class Qt{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return Fc(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:Fc(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new vi,ctx:{common:e.parent.common,data:e.data,parsedType:Fc(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(Gx(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){var r;const i={common:{issues:[],async:(r=n==null?void 0:n.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Fc(e)},s=this._parseSync({data:e,path:i.path,parent:i});return e3(i,s)}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Fc(e)},i=this._parse({data:e,path:r.path,parent:r}),s=await(Gx(i)?i:Promise.resolve(i));return e3(r,s)}refine(e,n){const r=i=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(i):n;return this._refinement((i,s)=>{const o=e(i),a=()=>s.addIssue({code:Ve.custom,...r(i)});return typeof Promise<"u"&&o instanceof Promise?o.then(l=>l?!0:(a(),!1)):o?!0:(a(),!1)})}refinement(e,n){return this._refinement((r,i)=>e(r)?!0:(i.addIssue(typeof n=="function"?n(r,i):n),!1))}_refinement(e){return new Ia({schema:this,typeName:At.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return va.create(this,this._def)}nullable(){return yu.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Do.create(this,this._def)}promise(){return Am.create(this,this._def)}or(e){return qx.create([this,e],this._def)}and(e){return Zx.create(this,e,this._def)}transform(e){return new Ia({...Ot(this._def),schema:this,typeName:At.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new t_({...Ot(this._def),innerType:this,defaultValue:n,typeName:At.ZodDefault})}brand(){return new Kj({typeName:At.ZodBranded,type:this,...Ot(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new n_({...Ot(this._def),innerType:this,catchValue:n,typeName:At.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return Iw.create(this,e)}readonly(){return r_.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Ife=/^c[^\s-]{8,}$/i,Nfe=/^[0-9a-z]+$/,Lfe=/^[0-9A-HJKMNP-TV-Z]{26}$/,Dfe=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,kfe=/^[a-z0-9_-]{21}$/i,Ofe=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Ffe=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Ufe="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Qb;const Bfe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,zfe=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,Vfe=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Yj="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",jfe=new RegExp(`^${Yj}$`);function qj(t){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`),e}function Hfe(t){return new RegExp(`^${qj(t)}$`)}function Wfe(t){let e=`${Yj}T${qj(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function Gfe(t,e){return!!((e==="v4"||!e)&&Bfe.test(t)||(e==="v6"||!e)&&zfe.test(t))}class ha extends Qt{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==ut.string){const s=this._getOrReturnCtx(e);return ot(s,{code:Ve.invalid_type,expected:ut.string,received:s.parsedType}),Pt}const r=new vi;let i;for(const s of this._def.checks)if(s.kind==="min")e.data.length<s.value&&(i=this._getOrReturnCtx(e,i),ot(i,{code:Ve.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="max")e.data.length>s.value&&(i=this._getOrReturnCtx(e,i),ot(i,{code:Ve.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="length"){const o=e.data.length>s.value,a=e.data.length<s.value;(o||a)&&(i=this._getOrReturnCtx(e,i),o?ot(i,{code:Ve.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):a&&ot(i,{code:Ve.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),r.dirty())}else if(s.kind==="email")Ffe.test(e.data)||(i=this._getOrReturnCtx(e,i),ot(i,{validation:"email",code:Ve.invalid_string,message:s.message}),r.dirty());else if(s.kind==="emoji")Qb||(Qb=new RegExp(Ufe,"u")),Qb.test(e.data)||(i=this._getOrReturnCtx(e,i),ot(i,{validation:"emoji",code:Ve.invalid_string,message:s.message}),r.dirty());else if(s.kind==="uuid")Dfe.test(e.data)||(i=this._getOrReturnCtx(e,i),ot(i,{validation:"uuid",code:Ve.invalid_string,message:s.message}),r.dirty());else if(s.kind==="nanoid")kfe.test(e.data)||(i=this._getOrReturnCtx(e,i),ot(i,{validation:"nanoid",code:Ve.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid")Ife.test(e.data)||(i=this._getOrReturnCtx(e,i),ot(i,{validation:"cuid",code:Ve.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid2")Nfe.test(e.data)||(i=this._getOrReturnCtx(e,i),ot(i,{validation:"cuid2",code:Ve.invalid_string,message:s.message}),r.dirty());else if(s.kind==="ulid")Lfe.test(e.data)||(i=this._getOrReturnCtx(e,i),ot(i,{validation:"ulid",code:Ve.invalid_string,message:s.message}),r.dirty());else if(s.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),ot(i,{validation:"url",code:Ve.invalid_string,message:s.message}),r.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),ot(i,{validation:"regex",code:Ve.invalid_string,message:s.message}),r.dirty())):s.kind==="trim"?e.data=e.data.trim():s.kind==="includes"?e.data.includes(s.value,s.position)||(i=this._getOrReturnCtx(e,i),ot(i,{code:Ve.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),r.dirty()):s.kind==="toLowerCase"?e.data=e.data.toLowerCase():s.kind==="toUpperCase"?e.data=e.data.toUpperCase():s.kind==="startsWith"?e.data.startsWith(s.value)||(i=this._getOrReturnCtx(e,i),ot(i,{code:Ve.invalid_string,validation:{startsWith:s.value},message:s.message}),r.dirty()):s.kind==="endsWith"?e.data.endsWith(s.value)||(i=this._getOrReturnCtx(e,i),ot(i,{code:Ve.invalid_string,validation:{endsWith:s.value},message:s.message}),r.dirty()):s.kind==="datetime"?Wfe(s).test(e.data)||(i=this._getOrReturnCtx(e,i),ot(i,{code:Ve.invalid_string,validation:"datetime",message:s.message}),r.dirty()):s.kind==="date"?jfe.test(e.data)||(i=this._getOrReturnCtx(e,i),ot(i,{code:Ve.invalid_string,validation:"date",message:s.message}),r.dirty()):s.kind==="time"?Hfe(s).test(e.data)||(i=this._getOrReturnCtx(e,i),ot(i,{code:Ve.invalid_string,validation:"time",message:s.message}),r.dirty()):s.kind==="duration"?Ofe.test(e.data)||(i=this._getOrReturnCtx(e,i),ot(i,{validation:"duration",code:Ve.invalid_string,message:s.message}),r.dirty()):s.kind==="ip"?Gfe(e.data,s.version)||(i=this._getOrReturnCtx(e,i),ot(i,{validation:"ip",code:Ve.invalid_string,message:s.message}),r.dirty()):s.kind==="base64"?Vfe.test(e.data)||(i=this._getOrReturnCtx(e,i),ot(i,{validation:"base64",code:Ve.invalid_string,message:s.message}),r.dirty()):fn.assertNever(s);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(i=>e.test(i),{validation:n,code:Ve.invalid_string,..._t.errToObj(r)})}_addCheck(e){return new ha({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",..._t.errToObj(e)})}url(e){return this._addCheck({kind:"url",..._t.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",..._t.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",..._t.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",..._t.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",..._t.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",..._t.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",..._t.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",..._t.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",..._t.errToObj(e)})}datetime(e){var n,r;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(n=e==null?void 0:e.offset)!==null&&n!==void 0?n:!1,local:(r=e==null?void 0:e.local)!==null&&r!==void 0?r:!1,..._t.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,..._t.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",..._t.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,..._t.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,..._t.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,..._t.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,..._t.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,..._t.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,..._t.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,..._t.errToObj(n)})}nonempty(e){return this.min(1,_t.errToObj(e))}trim(){return new ha({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new ha({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new ha({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}ha.create=t=>{var e;return new ha({checks:[],typeName:At.ZodString,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...Ot(t)})};function Xfe(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,i=n>r?n:r,s=parseInt(t.toFixed(i).replace(".","")),o=parseInt(e.toFixed(i).replace(".",""));return s%o/Math.pow(10,i)}class Lf extends Qt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==ut.number){const s=this._getOrReturnCtx(e);return ot(s,{code:Ve.invalid_type,expected:ut.number,received:s.parsedType}),Pt}let r;const i=new vi;for(const s of this._def.checks)s.kind==="int"?fn.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),ot(r,{code:Ve.invalid_type,expected:"integer",received:"float",message:s.message}),i.dirty()):s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),ot(r,{code:Ve.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),ot(r,{code:Ve.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="multipleOf"?Xfe(e.data,s.value)!==0&&(r=this._getOrReturnCtx(e,r),ot(r,{code:Ve.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):s.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),ot(r,{code:Ve.not_finite,message:s.message}),i.dirty()):fn.assertNever(s);return{status:i.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,_t.toString(n))}gt(e,n){return this.setLimit("min",e,!1,_t.toString(n))}lte(e,n){return this.setLimit("max",e,!0,_t.toString(n))}lt(e,n){return this.setLimit("max",e,!1,_t.toString(n))}setLimit(e,n,r,i){return new Lf({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:_t.toString(i)}]})}_addCheck(e){return new Lf({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:_t.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:_t.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:_t.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:_t.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:_t.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:_t.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:_t.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:_t.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:_t.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&fn.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}Lf.create=t=>new Lf({checks:[],typeName:At.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...Ot(t)});class Df extends Qt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==ut.bigint){const s=this._getOrReturnCtx(e);return ot(s,{code:Ve.invalid_type,expected:ut.bigint,received:s.parsedType}),Pt}let r;const i=new vi;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),ot(r,{code:Ve.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),ot(r,{code:Ve.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="multipleOf"?e.data%s.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),ot(r,{code:Ve.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):fn.assertNever(s);return{status:i.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,_t.toString(n))}gt(e,n){return this.setLimit("min",e,!1,_t.toString(n))}lte(e,n){return this.setLimit("max",e,!0,_t.toString(n))}lt(e,n){return this.setLimit("max",e,!1,_t.toString(n))}setLimit(e,n,r,i){return new Df({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:_t.toString(i)}]})}_addCheck(e){return new Df({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:_t.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:_t.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:_t.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:_t.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:_t.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Df.create=t=>{var e;return new Df({checks:[],typeName:At.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...Ot(t)})};class lT extends Qt{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==ut.boolean){const r=this._getOrReturnCtx(e);return ot(r,{code:Ve.invalid_type,expected:ut.boolean,received:r.parsedType}),Pt}return Bi(e.data)}}lT.create=t=>new lT({typeName:At.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...Ot(t)});class Cm extends Qt{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==ut.date){const s=this._getOrReturnCtx(e);return ot(s,{code:Ve.invalid_type,expected:ut.date,received:s.parsedType}),Pt}if(isNaN(e.data.getTime())){const s=this._getOrReturnCtx(e);return ot(s,{code:Ve.invalid_date}),Pt}const r=new vi;let i;for(const s of this._def.checks)s.kind==="min"?e.data.getTime()<s.value&&(i=this._getOrReturnCtx(e,i),ot(i,{code:Ve.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),r.dirty()):s.kind==="max"?e.data.getTime()>s.value&&(i=this._getOrReturnCtx(e,i),ot(i,{code:Ve.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),r.dirty()):fn.assertNever(s);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Cm({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:_t.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:_t.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}Cm.create=t=>new Cm({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:At.ZodDate,...Ot(t)});class cT extends Qt{_parse(e){if(this._getType(e)!==ut.symbol){const r=this._getOrReturnCtx(e);return ot(r,{code:Ve.invalid_type,expected:ut.symbol,received:r.parsedType}),Pt}return Bi(e.data)}}cT.create=t=>new cT({typeName:At.ZodSymbol,...Ot(t)});class $x extends Qt{_parse(e){if(this._getType(e)!==ut.undefined){const r=this._getOrReturnCtx(e);return ot(r,{code:Ve.invalid_type,expected:ut.undefined,received:r.parsedType}),Pt}return Bi(e.data)}}$x.create=t=>new $x({typeName:At.ZodUndefined,...Ot(t)});class Yx extends Qt{_parse(e){if(this._getType(e)!==ut.null){const r=this._getOrReturnCtx(e);return ot(r,{code:Ve.invalid_type,expected:ut.null,received:r.parsedType}),Pt}return Bi(e.data)}}Yx.create=t=>new Yx({typeName:At.ZodNull,...Ot(t)});class uT extends Qt{constructor(){super(...arguments),this._any=!0}_parse(e){return Bi(e.data)}}uT.create=t=>new uT({typeName:At.ZodAny,...Ot(t)});class tf extends Qt{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Bi(e.data)}}tf.create=t=>new tf({typeName:At.ZodUnknown,...Ot(t)});class Wl extends Qt{_parse(e){const n=this._getOrReturnCtx(e);return ot(n,{code:Ve.invalid_type,expected:ut.never,received:n.parsedType}),Pt}}Wl.create=t=>new Wl({typeName:At.ZodNever,...Ot(t)});class dT extends Qt{_parse(e){if(this._getType(e)!==ut.undefined){const r=this._getOrReturnCtx(e);return ot(r,{code:Ve.invalid_type,expected:ut.void,received:r.parsedType}),Pt}return Bi(e.data)}}dT.create=t=>new dT({typeName:At.ZodVoid,...Ot(t)});class Do extends Qt{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),i=this._def;if(n.parsedType!==ut.array)return ot(n,{code:Ve.invalid_type,expected:ut.array,received:n.parsedType}),Pt;if(i.exactLength!==null){const o=n.data.length>i.exactLength.value,a=n.data.length<i.exactLength.value;(o||a)&&(ot(n,{code:o?Ve.too_big:Ve.too_small,minimum:a?i.exactLength.value:void 0,maximum:o?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&n.data.length<i.minLength.value&&(ot(n,{code:Ve.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&n.data.length>i.maxLength.value&&(ot(n,{code:Ve.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((o,a)=>i.type._parseAsync(new Fo(n,o,n.path,a)))).then(o=>vi.mergeArray(r,o));const s=[...n.data].map((o,a)=>i.type._parseSync(new Fo(n,o,n.path,a)));return vi.mergeArray(r,s)}get element(){return this._def.type}min(e,n){return new Do({...this._def,minLength:{value:e,message:_t.toString(n)}})}max(e,n){return new Do({...this._def,maxLength:{value:e,message:_t.toString(n)}})}length(e,n){return new Do({...this._def,exactLength:{value:e,message:_t.toString(n)}})}nonempty(e){return this.min(1,e)}}Do.create=(t,e)=>new Do({type:t,minLength:null,maxLength:null,exactLength:null,typeName:At.ZodArray,...Ot(e)});function xd(t){if(t instanceof qn){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=va.create(xd(r))}return new qn({...t._def,shape:()=>e})}else return t instanceof Do?new Do({...t._def,type:xd(t.element)}):t instanceof va?va.create(xd(t.unwrap())):t instanceof yu?yu.create(xd(t.unwrap())):t instanceof Ra?Ra.create(t.items.map(e=>xd(e))):t}class qn extends Qt{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=fn.objectKeys(e);return this._cached={shape:e,keys:n}}_parse(e){if(this._getType(e)!==ut.object){const c=this._getOrReturnCtx(e);return ot(c,{code:Ve.invalid_type,expected:ut.object,received:c.parsedType}),Pt}const{status:r,ctx:i}=this._processInputParams(e),{shape:s,keys:o}=this._getCached(),a=[];if(!(this._def.catchall instanceof Wl&&this._def.unknownKeys==="strip"))for(const c in i.data)o.includes(c)||a.push(c);const l=[];for(const c of o){const d=s[c],h=i.data[c];l.push({key:{status:"valid",value:c},value:d._parse(new Fo(i,h,i.path,c)),alwaysSet:c in i.data})}if(this._def.catchall instanceof Wl){const c=this._def.unknownKeys;if(c==="passthrough")for(const d of a)l.push({key:{status:"valid",value:d},value:{status:"valid",value:i.data[d]}});else if(c==="strict")a.length>0&&(ot(i,{code:Ve.unrecognized_keys,keys:a}),r.dirty());else if(c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const c=this._def.catchall;for(const d of a){const h=i.data[d];l.push({key:{status:"valid",value:d},value:c._parse(new Fo(i,h,i.path,d)),alwaysSet:d in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const c=[];for(const d of l){const h=await d.key,p=await d.value;c.push({key:h,value:p,alwaysSet:d.alwaysSet})}return c}).then(c=>vi.mergeObjectSync(r,c)):vi.mergeObjectSync(r,l)}get shape(){return this._def.shape()}strict(e){return _t.errToObj,new qn({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var i,s,o,a;const l=(o=(s=(i=this._def).errorMap)===null||s===void 0?void 0:s.call(i,n,r).message)!==null&&o!==void 0?o:r.defaultError;return n.code==="unrecognized_keys"?{message:(a=_t.errToObj(e).message)!==null&&a!==void 0?a:l}:{message:l}}}:{}})}strip(){return new qn({...this._def,unknownKeys:"strip"})}passthrough(){return new qn({...this._def,unknownKeys:"passthrough"})}extend(e){return new qn({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new qn({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:At.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new qn({...this._def,catchall:e})}pick(e){const n={};return fn.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new qn({...this._def,shape:()=>n})}omit(e){const n={};return fn.objectKeys(this.shape).forEach(r=>{e[r]||(n[r]=this.shape[r])}),new qn({...this._def,shape:()=>n})}deepPartial(){return xd(this)}partial(e){const n={};return fn.objectKeys(this.shape).forEach(r=>{const i=this.shape[r];e&&!e[r]?n[r]=i:n[r]=i.optional()}),new qn({...this._def,shape:()=>n})}required(e){const n={};return fn.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])n[r]=this.shape[r];else{let s=this.shape[r];for(;s instanceof va;)s=s._def.innerType;n[r]=s}}),new qn({...this._def,shape:()=>n})}keyof(){return Zj(fn.objectKeys(this.shape))}}qn.create=(t,e)=>new qn({shape:()=>t,unknownKeys:"strip",catchall:Wl.create(),typeName:At.ZodObject,...Ot(e)});qn.strictCreate=(t,e)=>new qn({shape:()=>t,unknownKeys:"strict",catchall:Wl.create(),typeName:At.ZodObject,...Ot(e)});qn.lazycreate=(t,e)=>new qn({shape:t,unknownKeys:"strip",catchall:Wl.create(),typeName:At.ZodObject,...Ot(e)});class qx extends Qt{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function i(s){for(const a of s)if(a.result.status==="valid")return a.result;for(const a of s)if(a.result.status==="dirty")return n.common.issues.push(...a.ctx.common.issues),a.result;const o=s.map(a=>new As(a.ctx.common.issues));return ot(n,{code:Ve.invalid_union,unionErrors:o}),Pt}if(n.common.async)return Promise.all(r.map(async s=>{const o={...n,common:{...n.common,issues:[]},parent:null};return{result:await s._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(i);{let s;const o=[];for(const l of r){const c={...n,common:{...n.common,issues:[]},parent:null},d=l._parseSync({data:n.data,path:n.path,parent:c});if(d.status==="valid")return d;d.status==="dirty"&&!s&&(s={result:d,ctx:c}),c.common.issues.length&&o.push(c.common.issues)}if(s)return n.common.issues.push(...s.ctx.common.issues),s.result;const a=o.map(l=>new As(l));return ot(n,{code:Ve.invalid_union,unionErrors:a}),Pt}}get options(){return this._def.options}}qx.create=(t,e)=>new qx({options:t,typeName:At.ZodUnion,...Ot(e)});const ia=t=>t instanceof Qx?ia(t.schema):t instanceof Ia?ia(t.innerType()):t instanceof Jx?[t.value]:t instanceof vu?t.options:t instanceof e_?fn.objectValues(t.enum):t instanceof t_?ia(t._def.innerType):t instanceof $x?[void 0]:t instanceof Yx?[null]:t instanceof va?[void 0,...ia(t.unwrap())]:t instanceof yu?[null,...ia(t.unwrap())]:t instanceof Kj||t instanceof r_?ia(t.unwrap()):t instanceof n_?ia(t._def.innerType):[];class mP extends Qt{_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==ut.object)return ot(n,{code:Ve.invalid_type,expected:ut.object,received:n.parsedType}),Pt;const r=this.discriminator,i=n.data[r],s=this.optionsMap.get(i);return s?n.common.async?s._parseAsync({data:n.data,path:n.path,parent:n}):s._parseSync({data:n.data,path:n.path,parent:n}):(ot(n,{code:Ve.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),Pt)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,n,r){const i=new Map;for(const s of n){const o=ia(s.shape[e]);if(!o.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const a of o){if(i.has(a))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(a)}`);i.set(a,s)}}return new mP({typeName:At.ZodDiscriminatedUnion,discriminator:e,options:n,optionsMap:i,...Ot(r)})}}function fT(t,e){const n=Fc(t),r=Fc(e);if(t===e)return{valid:!0,data:t};if(n===ut.object&&r===ut.object){const i=fn.objectKeys(e),s=fn.objectKeys(t).filter(a=>i.indexOf(a)!==-1),o={...t,...e};for(const a of s){const l=fT(t[a],e[a]);if(!l.valid)return{valid:!1};o[a]=l.data}return{valid:!0,data:o}}else if(n===ut.array&&r===ut.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let s=0;s<t.length;s++){const o=t[s],a=e[s],l=fT(o,a);if(!l.valid)return{valid:!1};i.push(l.data)}return{valid:!0,data:i}}else return n===ut.date&&r===ut.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class Zx extends Qt{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=(s,o)=>{if(Qk(s)||Qk(o))return Pt;const a=fT(s.value,o.value);return a.valid?((Jk(s)||Jk(o))&&n.dirty(),{status:n.value,value:a.data}):(ot(r,{code:Ve.invalid_intersection_types}),Pt)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([s,o])=>i(s,o)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}Zx.create=(t,e,n)=>new Zx({left:t,right:e,typeName:At.ZodIntersection,...Ot(n)});class Ra extends Qt{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ut.array)return ot(r,{code:Ve.invalid_type,expected:ut.array,received:r.parsedType}),Pt;if(r.data.length<this._def.items.length)return ot(r,{code:Ve.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Pt;!this._def.rest&&r.data.length>this._def.items.length&&(ot(r,{code:Ve.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const s=[...r.data].map((o,a)=>{const l=this._def.items[a]||this._def.rest;return l?l._parse(new Fo(r,o,r.path,a)):null}).filter(o=>!!o);return r.common.async?Promise.all(s).then(o=>vi.mergeArray(n,o)):vi.mergeArray(n,s)}get items(){return this._def.items}rest(e){return new Ra({...this._def,rest:e})}}Ra.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Ra({items:t,typeName:At.ZodTuple,rest:null,...Ot(e)})};class Kx extends Qt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ut.object)return ot(r,{code:Ve.invalid_type,expected:ut.object,received:r.parsedType}),Pt;const i=[],s=this._def.keyType,o=this._def.valueType;for(const a in r.data)i.push({key:s._parse(new Fo(r,a,r.path,a)),value:o._parse(new Fo(r,r.data[a],r.path,a)),alwaysSet:a in r.data});return r.common.async?vi.mergeObjectAsync(n,i):vi.mergeObjectSync(n,i)}get element(){return this._def.valueType}static create(e,n,r){return n instanceof Qt?new Kx({keyType:e,valueType:n,typeName:At.ZodRecord,...Ot(r)}):new Kx({keyType:ha.create(),valueType:e,typeName:At.ZodRecord,...Ot(n)})}}class hT extends Qt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ut.map)return ot(r,{code:Ve.invalid_type,expected:ut.map,received:r.parsedType}),Pt;const i=this._def.keyType,s=this._def.valueType,o=[...r.data.entries()].map(([a,l],c)=>({key:i._parse(new Fo(r,a,r.path,[c,"key"])),value:s._parse(new Fo(r,l,r.path,[c,"value"]))}));if(r.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const l of o){const c=await l.key,d=await l.value;if(c.status==="aborted"||d.status==="aborted")return Pt;(c.status==="dirty"||d.status==="dirty")&&n.dirty(),a.set(c.value,d.value)}return{status:n.value,value:a}})}else{const a=new Map;for(const l of o){const c=l.key,d=l.value;if(c.status==="aborted"||d.status==="aborted")return Pt;(c.status==="dirty"||d.status==="dirty")&&n.dirty(),a.set(c.value,d.value)}return{status:n.value,value:a}}}}hT.create=(t,e,n)=>new hT({valueType:e,keyType:t,typeName:At.ZodMap,...Ot(n)});class kf extends Qt{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ut.set)return ot(r,{code:Ve.invalid_type,expected:ut.set,received:r.parsedType}),Pt;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(ot(r,{code:Ve.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),n.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(ot(r,{code:Ve.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),n.dirty());const s=this._def.valueType;function o(l){const c=new Set;for(const d of l){if(d.status==="aborted")return Pt;d.status==="dirty"&&n.dirty(),c.add(d.value)}return{status:n.value,value:c}}const a=[...r.data.values()].map((l,c)=>s._parse(new Fo(r,l,r.path,c)));return r.common.async?Promise.all(a).then(l=>o(l)):o(a)}min(e,n){return new kf({...this._def,minSize:{value:e,message:_t.toString(n)}})}max(e,n){return new kf({...this._def,maxSize:{value:e,message:_t.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}kf.create=(t,e)=>new kf({valueType:t,minSize:null,maxSize:null,typeName:At.ZodSet,...Ot(e)});class Rp extends Qt{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==ut.function)return ot(n,{code:Ve.invalid_type,expected:ut.function,received:n.parsedType}),Pt;function r(a,l){return aT({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,oT(),Tm].filter(c=>!!c),issueData:{code:Ve.invalid_arguments,argumentsError:l}})}function i(a,l){return aT({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,oT(),Tm].filter(c=>!!c),issueData:{code:Ve.invalid_return_type,returnTypeError:l}})}const s={errorMap:n.common.contextualErrorMap},o=n.data;if(this._def.returns instanceof Am){const a=this;return Bi(async function(...l){const c=new As([]),d=await a._def.args.parseAsync(l,s).catch(m=>{throw c.addIssue(r(l,m)),c}),h=await Reflect.apply(o,this,d);return await a._def.returns._def.type.parseAsync(h,s).catch(m=>{throw c.addIssue(i(h,m)),c})})}else{const a=this;return Bi(function(...l){const c=a._def.args.safeParse(l,s);if(!c.success)throw new As([r(l,c.error)]);const d=Reflect.apply(o,this,c.data),h=a._def.returns.safeParse(d,s);if(!h.success)throw new As([i(d,h.error)]);return h.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new Rp({...this._def,args:Ra.create(e).rest(tf.create())})}returns(e){return new Rp({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,n,r){return new Rp({args:e||Ra.create([]).rest(tf.create()),returns:n||tf.create(),typeName:At.ZodFunction,...Ot(r)})}}class Qx extends Qt{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}Qx.create=(t,e)=>new Qx({getter:t,typeName:At.ZodLazy,...Ot(e)});class Jx extends Qt{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return ot(n,{received:n.data,code:Ve.invalid_literal,expected:this._def.value}),Pt}return{status:"valid",value:e.data}}get value(){return this._def.value}}Jx.create=(t,e)=>new Jx({value:t,typeName:At.ZodLiteral,...Ot(e)});function Zj(t,e){return new vu({values:t,typeName:At.ZodEnum,...Ot(e)})}class vu extends Qt{constructor(){super(...arguments),tp.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return ot(n,{expected:fn.joinValues(r),received:n.parsedType,code:Ve.invalid_type}),Pt}if(Xx(this,tp)||$j(this,tp,new Set(this._def.values)),!Xx(this,tp).has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return ot(n,{received:n.data,code:Ve.invalid_enum_value,options:r}),Pt}return Bi(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return vu.create(e,{...this._def,...n})}exclude(e,n=this._def){return vu.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}tp=new WeakMap;vu.create=Zj;class e_ extends Qt{constructor(){super(...arguments),np.set(this,void 0)}_parse(e){const n=fn.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==ut.string&&r.parsedType!==ut.number){const i=fn.objectValues(n);return ot(r,{expected:fn.joinValues(i),received:r.parsedType,code:Ve.invalid_type}),Pt}if(Xx(this,np)||$j(this,np,new Set(fn.getValidEnumValues(this._def.values))),!Xx(this,np).has(e.data)){const i=fn.objectValues(n);return ot(r,{received:r.data,code:Ve.invalid_enum_value,options:i}),Pt}return Bi(e.data)}get enum(){return this._def.values}}np=new WeakMap;e_.create=(t,e)=>new e_({values:t,typeName:At.ZodNativeEnum,...Ot(e)});class Am extends Qt{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==ut.promise&&n.common.async===!1)return ot(n,{code:Ve.invalid_type,expected:ut.promise,received:n.parsedType}),Pt;const r=n.parsedType===ut.promise?n.data:Promise.resolve(n.data);return Bi(r.then(i=>this._def.type.parseAsync(i,{path:n.path,errorMap:n.common.contextualErrorMap})))}}Am.create=(t,e)=>new Am({type:t,typeName:At.ZodPromise,...Ot(e)});class Ia extends Qt{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===At.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=this._def.effect||null,s={addIssue:o=>{ot(r,o),o.fatal?n.abort():n.dirty()},get path(){return r.path}};if(s.addIssue=s.addIssue.bind(s),i.type==="preprocess"){const o=i.transform(r.data,s);if(r.common.async)return Promise.resolve(o).then(async a=>{if(n.value==="aborted")return Pt;const l=await this._def.schema._parseAsync({data:a,path:r.path,parent:r});return l.status==="aborted"?Pt:l.status==="dirty"||n.value==="dirty"?ep(l.value):l});{if(n.value==="aborted")return Pt;const a=this._def.schema._parseSync({data:o,path:r.path,parent:r});return a.status==="aborted"?Pt:a.status==="dirty"||n.value==="dirty"?ep(a.value):a}}if(i.type==="refinement"){const o=a=>{const l=i.refinement(a,s);if(r.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?Pt:(a.status==="dirty"&&n.dirty(),o(a.value),{status:n.value,value:a.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>a.status==="aborted"?Pt:(a.status==="dirty"&&n.dirty(),o(a.value).then(()=>({status:n.value,value:a.value}))))}if(i.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!Wx(o))return o;const a=i.transform(o.value,s);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:a}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>Wx(o)?Promise.resolve(i.transform(o.value,s)).then(a=>({status:n.value,value:a})):o);fn.assertNever(i)}}Ia.create=(t,e,n)=>new Ia({schema:t,typeName:At.ZodEffects,effect:e,...Ot(n)});Ia.createWithPreprocess=(t,e,n)=>new Ia({schema:e,effect:{type:"preprocess",transform:t},typeName:At.ZodEffects,...Ot(n)});class va extends Qt{_parse(e){return this._getType(e)===ut.undefined?Bi(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}va.create=(t,e)=>new va({innerType:t,typeName:At.ZodOptional,...Ot(e)});class yu extends Qt{_parse(e){return this._getType(e)===ut.null?Bi(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}yu.create=(t,e)=>new yu({innerType:t,typeName:At.ZodNullable,...Ot(e)});class t_ extends Qt{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===ut.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}t_.create=(t,e)=>new t_({innerType:t,typeName:At.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Ot(e)});class n_ extends Qt{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return Gx(i)?i.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new As(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new As(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}n_.create=(t,e)=>new n_({innerType:t,typeName:At.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Ot(e)});class pT extends Qt{_parse(e){if(this._getType(e)!==ut.nan){const r=this._getOrReturnCtx(e);return ot(r,{code:Ve.invalid_type,expected:ut.nan,received:r.parsedType}),Pt}return{status:"valid",value:e.data}}}pT.create=t=>new pT({typeName:At.ZodNaN,...Ot(t)});class Kj extends Qt{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class Iw extends Qt{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?Pt:s.status==="dirty"?(n.dirty(),ep(s.value)):this._def.out._parseAsync({data:s.value,path:r.path,parent:r})})();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?Pt:i.status==="dirty"?(n.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(e,n){return new Iw({in:e,out:n,typeName:At.ZodPipeline})}}class r_ extends Qt{_parse(e){const n=this._def.innerType._parse(e),r=i=>(Wx(i)&&(i.value=Object.freeze(i.value)),i);return Gx(n)?n.then(i=>r(i)):r(n)}unwrap(){return this._def.innerType}}r_.create=(t,e)=>new r_({innerType:t,typeName:At.ZodReadonly,...Ot(e)});qn.lazycreate;var At;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(At||(At={}));const Rt=ha.create;Lf.create;pT.create;Df.create;lT.create;Cm.create;cT.create;$x.create;Yx.create;uT.create;tf.create;Wl.create;dT.create;Do.create;const gP=qn.create;qn.strictCreate;qx.create;mP.create;Zx.create;Ra.create;Kx.create;hT.create;kf.create;Rp.create;Qx.create;Jx.create;vu.create;e_.create;Am.create;Ia.create;va.create;yu.create;Ia.createWithPreprocess;Iw.create;const $fe={contact:"https://script.google.com/macros/s/AKfycbwfrREUhUitaxfvt7CvGPmYb14frS59PWZnPT1OrsnhnrMZaG_oMWJFG8BgaDRlOwQbPg/exec",fresher:"https://script.google.com/macros/s/AKfycbwfrREUhUitaxfvt7CvGPmYb14frS59PWZnPT1OrsnhnrMZaG_oMWJFG8BgaDRlOwQbPg/exec",experienced:"https://script.google.com/macros/s/AKfycbwfrREUhUitaxfvt7CvGPmYb14frS59PWZnPT1OrsnhnrMZaG_oMWJFG8BgaDRlOwQbPg/exec"};function vP(t){const e=$fe[t];if(!e)throw new Error(`Missing Google Script URL for: ${t}. Set corresponding env var.`);return e}class dg{constructor(e=0,n="Network Error"){this.status=e,this.text=n}}const Yfe=()=>{if(!(typeof localStorage>"u"))return{get:t=>Promise.resolve(localStorage.getItem(t)),set:(t,e)=>Promise.resolve(localStorage.setItem(t,e)),remove:t=>Promise.resolve(localStorage.removeItem(t))}},Nr={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:Yfe()},yP=t=>t?typeof t=="string"?{publicKey:t}:t.toString()==="[object Object]"?t:{}:{},qfe=(t,e="https://api.emailjs.com")=>{if(!t)return;const n=yP(t);Nr.publicKey=n.publicKey,Nr.blockHeadless=n.blockHeadless,Nr.storageProvider=n.storageProvider,Nr.blockList=n.blockList,Nr.limitRate=n.limitRate,Nr.origin=n.origin||e},Qj=async(t,e,n={})=>{const r=await fetch(Nr.origin+t,{method:"POST",headers:n,body:e}),i=await r.text(),s=new dg(r.status,i);if(r.ok)return s;throw s},Jj=(t,e,n)=>{if(!t||typeof t!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!e||typeof e!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!n||typeof n!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},Zfe=t=>{if(t&&t.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},eH=t=>t.webdriver||!t.languages||t.languages.length===0,tH=()=>new dg(451,"Unavailable For Headless Browser"),Kfe=(t,e)=>{if(!Array.isArray(t))throw"The BlockList list has to be an array";if(typeof e!="string")throw"The BlockList watchVariable has to be a string"},Qfe=t=>{var e;return!((e=t.list)!=null&&e.length)||!t.watchVariable},Jfe=(t,e)=>t instanceof FormData?t.get(e):t[e],nH=(t,e)=>{if(Qfe(t))return!1;Kfe(t.list,t.watchVariable);const n=Jfe(e,t.watchVariable);return typeof n!="string"?!1:t.list.includes(n)},rH=()=>new dg(403,"Forbidden"),ehe=(t,e)=>{if(typeof t!="number"||t<0)throw"The LimitRate throttle has to be a positive number";if(e&&typeof e!="string")throw"The LimitRate ID has to be a non-empty string"},the=async(t,e,n)=>{const r=Number(await n.get(t)||0);return e-Date.now()+r},iH=async(t,e,n)=>{if(!e.throttle||!n)return!1;ehe(e.throttle,e.id);const r=e.id||t;return await the(r,e.throttle,n)>0?!0:(await n.set(r,Date.now().toString()),!1)},sH=()=>new dg(429,"Too Many Requests"),nhe=async(t,e,n,r)=>{const i=yP(r),s=i.publicKey||Nr.publicKey,o=i.blockHeadless||Nr.blockHeadless,a=i.storageProvider||Nr.storageProvider,l={...Nr.blockList,...i.blockList},c={...Nr.limitRate,...i.limitRate};return o&&eH(navigator)?Promise.reject(tH()):(Jj(s,t,e),Zfe(n),n&&nH(l,n)?Promise.reject(rH()):await iH(location.pathname,c,a)?Promise.reject(sH()):Qj("/api/v1.0/email/send",JSON.stringify({lib_version:"4.4.1",user_id:s,service_id:t,template_id:e,template_params:n}),{"Content-type":"application/json"}))},rhe=t=>{if(!t||t.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},ihe=t=>typeof t=="string"?document.querySelector(t):t,she=async(t,e,n,r)=>{const i=yP(r),s=i.publicKey||Nr.publicKey,o=i.blockHeadless||Nr.blockHeadless,a=Nr.storageProvider||i.storageProvider,l={...Nr.blockList,...i.blockList},c={...Nr.limitRate,...i.limitRate};if(o&&eH(navigator))return Promise.reject(tH());const d=ihe(n);Jj(s,t,e),rhe(d);const h=new FormData(d);return nH(l,h)?Promise.reject(rH()):await iH(location.pathname,c,a)?Promise.reject(sH()):(h.append("lib_version","4.4.1"),h.append("service_id",t),h.append("template_id",e),h.append("user_id",s),Qj("/api/v1.0/email/send-form",h))},xP={init:qfe,send:nhe,sendForm:she,EmailJSResponseStatus:dg},ohe={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_EMAILJS_PUBLIC_KEY:"Ed51CruoXIRPRh6DF",VITE_EMAILJS_SERVICE_ID:"service_8kqtneq",VITE_EMAILJS_TEMPLATE_ID:"template_x10de8h",VITE_GSCRIPT_CONTACT_URL:"https://script.google.com/macros/s/AKfycbwfrREUhUitaxfvt7CvGPmYb14frS59PWZnPT1OrsnhnrMZaG_oMWJFG8BgaDRlOwQbPg/exec",VITE_GSCRIPT_EXPERIENCED_URL:"https://script.google.com/macros/s/AKfycbwfrREUhUitaxfvt7CvGPmYb14frS59PWZnPT1OrsnhnrMZaG_oMWJFG8BgaDRlOwQbPg/exec",VITE_GSCRIPT_FRESHER_URL:"https://script.google.com/macros/s/AKfycbwfrREUhUitaxfvt7CvGPmYb14frS59PWZnPT1OrsnhnrMZaG_oMWJFG8BgaDRlOwQbPg/exec"};xP.init("Ed51CruoXIRPRh6DF");function Jb(t){const e=import.meta&&ohe;return e?e[t]:void 0}async function ahe(t){const e=Jb("VITE_EMAILJS_SERVICE_ID"),n=Jb("VITE_EMAILJS_TEMPLATE_ID"),r=Jb("VITE_EMAILJS_PUBLIC_KEY");if(!e||!n||!r)return{success:!1,message:"EmailJS env vars missing: VITE_EMAILJS_SERVICE_ID, VITE_EMAILJS_TEMPLATE_ID, VITE_EMAILJS_PUBLIC_KEY"};try{return{success:!0,message:(await xP.send(e,n,t,{publicKey:r})).text??"Email sent"}}catch(i){return console.error("EmailJS send error",i),{success:!1,message:"Failed to send email"}}}async function oH(t,e){const n="service_8kqtneq",r="template_eumn2ma",i="Ed51CruoXIRPRh6DF";console.log("EmailJS Debug Info:",{serviceId:n,templateId:r,applicationType:e,payloadKeys:Object.keys(t),payloadSample:{position_applied:t.position_applied,full_name:t.full_name,email_address:t.email_address}});try{const s=await xP.send(n,r,t,{publicKey:i});return console.log("EmailJS Success:",s),{success:!0,message:s.text??"Career application email sent"}}catch(s){return console.error("EmailJS career application send error:",s),console.error("Error details:",{errorType:typeof s,errorMessage:s instanceof Error?s.message:String(s),errorStack:s instanceof Error?s.stack:void 0}),{success:!1,message:`Failed to send career application email: ${s instanceof Error?s.message:String(s)}`}}}const lhe=gP({firstName:Rt().min(2,"First name must be at least 2 characters"),lastName:Rt().min(2,"Last name must be at least 2 characters"),email:Rt().min(1,"Email is required").regex(/^[^\s@]+@[^\s@]+$/,"Please enter a valid email address"),designation:Rt().optional(),countryCode:Rt().min(1,"Please select a country code"),phone:Rt().min(6,"Please enter valid phone number").regex(/^\d+$/,"Phone number must contain only digits"),company:Rt().optional(),service:Rt().min(1,"Please select a service"),message:Rt().min(10,"Message must be at least 10 characters")}),che=[{code:"+1",country:"USA/Canada",flag:""},{code:"+91",country:"India",flag:""},{code:"+44",country:"UK",flag:""},{code:"+49",country:"Germany",flag:""},{code:"+33",country:"France",flag:""},{code:"+86",country:"China",flag:""},{code:"+81",country:"Japan",flag:""},{code:"+82",country:"South Korea",flag:""},{code:"+65",country:"Singapore",flag:""},{code:"+61",country:"Australia",flag:""},{code:"+7",country:"Russia",flag:""},{code:"+55",country:"Brazil",flag:""},{code:"+52",country:"Mexico",flag:""},{code:"+27",country:"South Africa",flag:""},{code:"+971",country:"UAE",flag:""},{code:"+966",country:"Saudi Arabia",flag:""},{code:"+60",country:"Malaysia",flag:""},{code:"+66",country:"Thailand",flag:""},{code:"+84",country:"Vietnam",flag:""},{code:"+62",country:"Indonesia",flag:""}],uhe=[{icon:oU,label:"Email",value:"support@virach.in"},{icon:s9,label:"Address",value:"Krishe Valley, Banjara Hills, Hyderabad, Telangana  500034"},{icon:rU,label:"Hours",value:"MonFri: 9AM6PM (Weekends: Support Available)"}],dhe=()=>{var d,h;const[t,e]=P.useState("+91"),{register:n,handleSubmit:r,setValue:i,formState:{errors:s,isSubmitting:o},reset:a}=hP({resolver:pP(lhe),defaultValues:{countryCode:"+91"},mode:"onChange"}),l=vP("contact"),c=async p=>{const m=`${p.countryCode} ${p.phone}`,v=`${p.countryCode}${p.phone}`,x={"First Name":p.firstName,"Last Name":p.lastName,Email:p.email,Designation:p.designation||"","Country Code":p.countryCode,Phone:p.phone,"Phone Number":m,PhoneNumber:v,phone:p.phone,"Phone Number Text":`'${m}`,PhoneNumberText:`'${v}`,Company:p.company||"",Service:p.service,Message:p.message},y=await mC(x,l),g={first_name:p.firstName,last_name:p.lastName,work_email:p.email,designation:p.designation||"",phone:m,company_name:p.company||"",service:p.service,project:p.message},w=await ahe(g);y.success?(alert(w.success?" Your message was sent and an email confirmation was delivered.":" Your message was sent. (Heads up: email notification failed.)"),a()):alert(" Sorry, there was an error sending your message. Please try again.")};return S.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[S.jsx(pi,{size:"2x1",className:"lg:col-span-2 p-8",children:S.jsxs($e.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.6},children:[S.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-midnight mb-8",children:"Get In Touch"}),S.jsxs("form",{onSubmit:r(c),className:"space-y-6",children:[S.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[S.jsxs($e.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.1},className:"space-y-2",children:[S.jsx(Kt,{...n("firstName"),placeholder:"First Name",className:`glass border-glass-border focus:border-primary placeholder:text-primary ${s.firstName?"border-red-500 animate-pulse":""}`}),s.firstName&&S.jsxs($e.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"flex items-center space-x-1 text-red-500 text-sm",children:[S.jsx(Gu,{className:"h-4 w-4"}),S.jsx("span",{children:s.firstName.message})]})]}),S.jsxs($e.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.2},className:"space-y-2",children:[S.jsx(Kt,{...n("lastName"),placeholder:"Last Name",className:`glass border-glass-border focus:border-primary placeholder:text-primary ${s.lastName?"border-red-500 animate-pulse":""}`}),s.lastName&&S.jsxs($e.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"flex items-center space-x-1 text-red-500 text-sm",children:[S.jsx(Gu,{className:"h-4 w-4"}),S.jsx("span",{children:s.lastName.message})]})]})]}),S.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:S.jsxs($e.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.3},className:"space-y-2",children:[S.jsx(Kt,{...n("email"),type:"email",placeholder:"Work Email",className:`glass border-glass-border focus:border-primary placeholder:text-primary ${s.email?"border-red-500 animate-pulse":""}`}),s.email&&S.jsxs($e.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"flex items-center space-x-1 text-red-500 text-sm",children:[S.jsx(Gu,{className:"h-4 w-4"}),S.jsx("span",{children:s.email.message})]})]})}),S.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[S.jsx($e.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.3},className:"space-y-2",children:S.jsx(Kt,{...n("designation"),placeholder:"Designation / Job Title",className:"glass border-glass-border focus:border-primary placeholder:text-primary"})}),S.jsx($e.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.4},className:"space-y-2",children:S.jsx(Kt,{...n("company"),placeholder:"Company Name",className:"glass border-glass-border focus:border-primary placeholder:text-primary"})})]}),S.jsxs($e.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.5},className:"space-y-2",children:[S.jsxs("div",{className:"flex gap-2",children:[S.jsx("div",{className:"w-1/8",children:S.jsxs(Bk,{defaultValue:"+91",onValueChange:p=>{e(p),i("countryCode",p)},children:[S.jsx(rT,{className:`glass border-glass-border focus:border-primary ${s.countryCode?"border-red-500 animate-pulse":""}`,children:S.jsx(zk,{placeholder:"Country Code"})}),S.jsx(iT,{className:"max-h-60",children:che.map(p=>S.jsx(ol,{value:p.code,children:S.jsxs("span",{className:"flex items-center gap-2",children:[S.jsx("span",{children:p.flag}),S.jsx("span",{children:p.code})]})},p.code))})]})}),S.jsx("div",{className:"flex-1",children:S.jsx(Kt,{...n("phone"),placeholder:"Phone Number ",className:`glass border-glass-border focus:border-primary placeholder:text-primary ${s.phone?"border-red-500 animate-pulse":""}`})})]}),(s.countryCode||s.phone)&&S.jsxs($e.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"flex items-center space-x-1 text-red-500 text-sm",children:[S.jsx(Gu,{className:"h-4 w-4"}),S.jsx("span",{children:((d=s.countryCode)==null?void 0:d.message)||((h=s.phone)==null?void 0:h.message)})]})]}),S.jsxs($e.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.6},className:"space-y-2",children:[S.jsxs(Bk,{onValueChange:p=>i("service",p),children:[S.jsx(rT,{className:`glass border-glass-border focus:border-primary placeholder:text-primary ${s.service?"border-red-500 animate-pulse":""}`,children:S.jsx(zk,{placeholder:"Service Interested In"})}),S.jsxs(iT,{children:[S.jsx(ol,{value:"web",children:"Web Development"}),S.jsx(ol,{value:"mobile",children:"Mobile Apps"}),S.jsx(ol,{value:"ui-ux",children:"UI/UX Design"}),S.jsx(ol,{value:"cloud",children:"Cloud Solutions"}),S.jsx(ol,{value:"automation",children:"Automation"}),S.jsx(ol,{value:"analytics",children:"Data Analytics"})]})]}),s.service&&S.jsxs($e.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"flex items-center space-x-1 text-red-500 text-sm",children:[S.jsx(Gu,{className:"h-4 w-4"}),S.jsx("span",{children:s.service.message})]})]}),S.jsxs($e.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.7},className:"space-y-2",children:[S.jsx(su,{...n("message"),placeholder:"Tell us about your project...",className:`glass border-glass-border focus:border-primary min-h-[120px] placeholder:text-primary ${s.message?"border-red-500 animate-pulse":""}`}),s.message&&S.jsxs($e.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"flex items-center space-x-1 text-red-500 text-sm",children:[S.jsx(Gu,{className:"h-4 w-4"}),S.jsx("span",{children:s.message.message})]})]}),S.jsx($e.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.8},children:S.jsx($e.div,{whileHover:{scale:1.02},whileTap:{scale:.98},children:S.jsxs(bs,{type:"submit",disabled:o,className:"btn-neon w-full group disabled:opacity-50 disabled:cursor-not-allowed",children:[S.jsx(l9,{className:"mr-2 h-5 w-5 group-hover:animate-pulse"}),o?"Sending...":"Send Message"]})})})]})]})}),S.jsx("div",{className:"space-y-6",children:uhe.map((p,m)=>{const v=p.icon;return S.jsx(pi,{size:"1x1",className:"p-4",delay:m*.1,children:S.jsxs($e.div,{className:"flex items-start space-x-3 h-full",whileHover:{scale:1.02},transition:{duration:.2},children:[S.jsx($e.div,{className:"p-2 rounded-lg glass text-primary",whileHover:{rotate:5,scale:1.1},transition:{duration:.2},children:S.jsx(v,{className:"h-5 w-5 text-midnight"})}),S.jsxs("div",{className:"flex-1",children:[S.jsx("h3",{className:"font-semibold text-foreground mb-1 text-midnight",children:p.label}),S.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed text-primary",children:p.value})]})]})},p.label)})})]})},fhe=()=>S.jsxs("div",{className:"min-h-screen min-h-[100dvh] bg-fixed bg-cover bg-center bg-no-repeat relative mt-16",style:{backgroundImage:"url('https://plus.unsplash.com/premium_photo-1661290245627-a48de1658652?q=80&w=1170&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D')"},children:[S.jsx("div",{className:"absolute inset-0 bg-black/50"}),S.jsxs("div",{className:"relative z-10 min-h-screen pt-20",children:[S.jsx("section",{className:"py-16",children:S.jsx("div",{className:"container mx-auto px-4",children:S.jsxs($e.div,{initial:{opacity:0,y:40},animate:{opacity:1,y:0},transition:{duration:.8},className:"text-center mb-16",children:[S.jsx("h1",{className:`text-5xl md:text-7xl font-bold text-darkorange
               mb-6`,children:"Contact Us"}),S.jsx("p",{className:"text-xl text-muted-foreground max-w-3xl mx-auto text-white",children:"Ready to transform your business with innovative technology solutions? Let's start the conversation."})]})})}),S.jsx("section",{id:"contact",className:"py-16",children:S.jsx("div",{className:"container mx-auto px-4",children:S.jsx($e.div,{initial:{opacity:0,y:40},animate:{opacity:1,y:0},transition:{duration:.8,delay:.2},className:"max-w-7xl mx-auto",children:S.jsx(dhe,{})})})}),S.jsx(lg,{})]})]});var _P="Dialog",[aH,Yhe]=w_(_P),[hhe,ro]=aH(_P),lH=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:i,onOpenChange:s,modal:o=!0}=t,a=P.useRef(null),l=P.useRef(null),[c=!1,d]=F0({prop:r,defaultProp:i,onChange:s});return S.jsx(hhe,{scope:e,triggerRef:a,contentRef:l,contentId:qd(),titleId:qd(),descriptionId:qd(),open:c,onOpenChange:d,onOpenToggle:P.useCallback(()=>d(h=>!h),[d]),modal:o,children:n})};lH.displayName=_P;var cH="DialogTrigger",phe=P.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=ro(cH,n),s=In(e,i.triggerRef);return S.jsx(mn.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":bP(i.open),...r,ref:s,onClick:zt(t.onClick,i.onOpenToggle)})});phe.displayName=cH;var wP="DialogPortal",[mhe,uH]=aH(wP,{forceMount:void 0}),dH=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:i}=t,s=ro(wP,e);return S.jsx(mhe,{scope:e,forceMount:n,children:P.Children.map(r,o=>S.jsx(Bf,{present:n||s.open,children:S.jsx(S_,{asChild:!0,container:i,children:o})}))})};dH.displayName=wP;var i_="DialogOverlay",fH=P.forwardRef((t,e)=>{const n=uH(i_,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,s=ro(i_,t.__scopeDialog);return s.modal?S.jsx(Bf,{present:r||s.open,children:S.jsx(ghe,{...i,ref:e})}):null});fH.displayName=i_;var ghe=P.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=ro(i_,n);return S.jsx(oP,{as:kl,allowPinchZoom:!0,shards:[i.contentRef],children:S.jsx(mn.div,{"data-state":bP(i.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),xu="DialogContent",hH=P.forwardRef((t,e)=>{const n=uH(xu,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,s=ro(xu,t.__scopeDialog);return S.jsx(Bf,{present:r||s.open,children:s.modal?S.jsx(vhe,{...i,ref:e}):S.jsx(yhe,{...i,ref:e})})});hH.displayName=xu;var vhe=P.forwardRef((t,e)=>{const n=ro(xu,t.__scopeDialog),r=P.useRef(null),i=In(e,n.contentRef,r);return P.useEffect(()=>{const s=r.current;if(s)return B5(s)},[]),S.jsx(pH,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:zt(t.onCloseAutoFocus,s=>{var o;s.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:zt(t.onPointerDownOutside,s=>{const o=s.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&s.preventDefault()}),onFocusOutside:zt(t.onFocusOutside,s=>s.preventDefault())})}),yhe=P.forwardRef((t,e)=>{const n=ro(xu,t.__scopeDialog),r=P.useRef(!1),i=P.useRef(!1);return S.jsx(pH,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,s),s.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),s.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:s=>{var l,c;(l=t.onInteractOutside)==null||l.call(t,s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=s.target;((c=n.triggerRef.current)==null?void 0:c.contains(o))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),pH=P.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:s,...o}=t,a=ro(xu,n),l=P.useRef(null),c=In(e,l);return O5(),S.jsxs(S.Fragment,{children:[S.jsx(sP,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:s,children:S.jsx(Om,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":bP(a.open),...o,ref:c,onDismiss:()=>a.onOpenChange(!1)})}),S.jsxs(S.Fragment,{children:[S.jsx(xhe,{titleId:a.titleId}),S.jsx(whe,{contentRef:l,descriptionId:a.descriptionId})]})]})}),SP="DialogTitle",mH=P.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=ro(SP,n);return S.jsx(mn.h2,{id:i.titleId,...r,ref:e})});mH.displayName=SP;var gH="DialogDescription",vH=P.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=ro(gH,n);return S.jsx(mn.p,{id:i.descriptionId,...r,ref:e})});vH.displayName=gH;var yH="DialogClose",xH=P.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=ro(yH,n);return S.jsx(mn.button,{type:"button",...r,ref:e,onClick:zt(t.onClick,()=>i.onOpenChange(!1))})});xH.displayName=yH;function bP(t){return t?"open":"closed"}var _H="DialogTitleWarning",[qhe,wH]=oG(_H,{contentName:xu,titleName:SP,docsSlug:"dialog"}),xhe=({titleId:t})=>{const e=wH(_H),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return P.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},_he="DialogDescriptionWarning",whe=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${wH(_he).contentName}}.`;return P.useEffect(()=>{var s;const i=(s=t.current)==null?void 0:s.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},She=lH,bhe=dH,SH=fH,bH=hH,MH=mH,EH=vH,Mhe=xH;const TH=She,Ehe=bhe,CH=P.forwardRef(({className:t,...e},n)=>S.jsx(SH,{ref:n,className:wn("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));CH.displayName=SH.displayName;const MP=P.forwardRef(({className:t,children:e,...n},r)=>S.jsxs(Ehe,{children:[S.jsx(CH,{}),S.jsxs(bH,{ref:r,className:wn("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,S.jsxs(Mhe,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[S.jsx(qp,{className:"h-4 w-4"}),S.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));MP.displayName=bH.displayName;const EP=({className:t,...e})=>S.jsx("div",{className:wn("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});EP.displayName="DialogHeader";const TP=P.forwardRef(({className:t,...e},n)=>S.jsx(MH,{ref:n,className:wn("text-lg font-semibold leading-none tracking-tight",t),...e}));TP.displayName=MH.displayName;const The=P.forwardRef(({className:t,...e},n)=>S.jsx(EH,{ref:n,className:wn("text-sm text-muted-foreground",t),...e}));The.displayName=EH.displayName;var Che="Label",AH=P.forwardRef((t,e)=>S.jsx(mn.label,{...t,ref:e,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));AH.displayName=Che;var PH=AH;const Ahe=hC("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),RH=P.forwardRef(({className:t,...e},n)=>S.jsx(PH,{ref:n,className:wn(Ahe(),t),...e}));RH.displayName=PH.displayName;const IH=dfe,NH=P.createContext({}),an=({...t})=>S.jsx(NH.Provider,{value:{name:t.name},children:S.jsx(mfe,{...t})}),Nw=()=>{const t=P.useContext(NH),e=P.useContext(LH),{getFieldState:n,formState:r}=Rw(),i=n(t.name,r);if(!t)throw new Error("useFormField should be used within <FormField>");const{id:s}=e;return{id:s,name:t.name,formItemId:`${s}-form-item`,formDescriptionId:`${s}-form-item-description`,formMessageId:`${s}-form-item-message`,...i}},LH=P.createContext({}),tn=P.forwardRef(({className:t,...e},n)=>{const r=P.useId();return S.jsx(LH.Provider,{value:{id:r},children:S.jsx("div",{ref:n,className:wn("space-y-2",t),...e})})});tn.displayName="FormItem";const nn=P.forwardRef(({className:t,...e},n)=>{const{error:r,formItemId:i}=Nw();return S.jsx(RH,{ref:n,className:wn(r&&"text-destructive",t),htmlFor:i,...e})});nn.displayName="FormLabel";const rn=P.forwardRef(({...t},e)=>{const{error:n,formItemId:r,formDescriptionId:i,formMessageId:s}=Nw();return S.jsx(kl,{ref:e,id:r,"aria-describedby":n?`${i} ${s}`:`${i}`,"aria-invalid":!!n,...t})});rn.displayName="FormControl";const Phe=P.forwardRef(({className:t,...e},n)=>{const{formDescriptionId:r}=Nw();return S.jsx("p",{ref:n,id:r,className:wn("text-sm text-muted-foreground",t),...e})});Phe.displayName="FormDescription";const sn=P.forwardRef(({className:t,children:e,...n},r)=>{const{error:i,formMessageId:s}=Nw(),o=i?String(i==null?void 0:i.message):e;return o?S.jsx("p",{ref:r,id:s,className:wn("text-sm font-medium text-destructive",t),...n,children:o}):null});sn.displayName="FormMessage";const Rhe=gP({position:Rt().min(1,"Position is required"),fullName:Rt().min(2,"Full name must be at least 2 characters"),address:Rt().min(5,"Please enter your complete address"),phone:Rt().regex(/^\+?[\d\s-()]+$/,"Please enter a valid phone number"),email:Rt().min(1,"Email is required").regex(/^[^\s@]+@[^\s@]+$/,"Please enter a valid email address"),ugSchool:Rt().min(1,"Undergraduate Institution is required"),ugDegree:Rt().min(1,"Undergraduate Degree is required"),ugYearCompleted:Rt().min(4,"Please enter the UG year completed"),pgSchool:Rt().optional(),pgDegree:Rt().optional(),pgYearCompleted:Rt().optional(),skills:Rt().min(10,"Please describe your skills and qualifications"),referenceName:Rt().optional(),referenceRelationship:Rt().optional(),referencePhone:Rt().optional()}),Ihe=({open:t,onOpenChange:e})=>{const[n,r]=P.useState(!1),i=hP({resolver:pP(Rhe),mode:"onChange",defaultValues:{position:"",fullName:"",address:"",phone:"",email:"",ugSchool:"",ugDegree:"",ugYearCompleted:"",pgSchool:"",pgDegree:"",pgYearCompleted:"",skills:"",referenceName:"",referenceRelationship:"",referencePhone:""}}),s=vP("fresher"),o=async a=>{r(!0);try{const l={"Application Type":"Fresher",Position:a.position,"Full Name":a.fullName,Address:a.address,Phone:a.phone,Email:a.email,"Undergraduate School":a.ugSchool,"Undergraduate Degree":a.ugDegree,"Undergraduate Year":a.ugYearCompleted,"Postgraduate School":a.pgSchool||"","Postgraduate Degree":a.pgDegree||"","Postgraduate Year":a.pgYearCompleted||"",Skills:a.skills,"Reference Name":a.referenceName||"","Reference Relationship":a.referenceRelationship||"","Reference Phone":a.referencePhone||""},c=await mC(l,s),d={position_applied:a.position,full_name:a.fullName,address:a.address,phone_number:a.phone,email_address:a.email,ug_institution:a.ugSchool,ug_degree:a.ugDegree,ug_year:a.ugYearCompleted,pg_institution:a.pgSchool||"N/A",pg_degree:a.pgDegree||"N/A",pg_year:a.pgYearCompleted||"N/A",company_name:"N/A (Fresher)",position_held:"N/A (Fresher)",start_date:"N/A",end_date:"N/A",key_responsibilities:"N/A (Fresher)",skills_and_qualifications:a.skills,reference_name:a.referenceName||"N/A",reference_relationship:a.referenceRelationship||"N/A",reference_phone:a.referencePhone||"N/A",submission_date:new Date().toLocaleDateString()},h=await oH(d,"fresher");c.success&&h.success?(_l.success("Your application has been submitted successfully!"),i.reset(),e(!1)):c.success?(_l.success("Application submitted to database, but email notification failed."),i.reset(),e(!1)):_l.error("Failed to submit application. Please try again.")}catch(l){console.error("Error submitting application:",l),_l.error("Failed to submit application. Please try again.")}finally{r(!1)}};return S.jsx(TH,{open:t,onOpenChange:e,children:S.jsxs(MP,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[S.jsxs(EP,{children:[S.jsx(TP,{className:"text-2xl font-bold text-center",children:"Fresher Application Form"}),S.jsx("p",{className:"text-muted-foreground text-center",children:"Welcome to your career journey! Please fill out the form below."})]}),S.jsx(IH,{...i,children:S.jsxs("form",{onSubmit:i.handleSubmit(o),className:"space-y-6",children:[S.jsx(an,{control:i.control,name:"position",render:({field:a})=>S.jsxs(tn,{children:[S.jsx(nn,{children:"Position Applied For"}),S.jsx(rn,{children:S.jsx(Kt,{placeholder:"e.g. Frontend Developer, Software Engineer",...a})}),S.jsx(sn,{})]})}),S.jsxs("div",{className:"space-y-4",children:[S.jsx("h3",{className:"text-lg font-semibold border-b pb-2",children:"Personal Information"}),S.jsx(an,{control:i.control,name:"fullName",render:({field:a})=>S.jsxs(tn,{children:[S.jsx(nn,{children:"Full Name"}),S.jsx(rn,{children:S.jsx(Kt,{placeholder:"Enter your full name",...a})}),S.jsx(sn,{})]})}),S.jsx(an,{control:i.control,name:"address",render:({field:a})=>S.jsxs(tn,{children:[S.jsx(nn,{children:"Address"}),S.jsx(rn,{children:S.jsx(su,{placeholder:"Enter your complete address",...a})}),S.jsx(sn,{})]})}),S.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[S.jsx(an,{control:i.control,name:"phone",render:({field:a})=>S.jsxs(tn,{children:[S.jsx(nn,{children:"Phone Number"}),S.jsx(rn,{children:S.jsx(Kt,{placeholder:"+1 (555) 123-4567",...a})}),S.jsx(sn,{})]})}),S.jsx(an,{control:i.control,name:"email",render:({field:a})=>S.jsxs(tn,{children:[S.jsx(nn,{children:"Email Address"}),S.jsx(rn,{children:S.jsx(Kt,{type:"email",placeholder:"your.email@example.com",...a})}),S.jsx(sn,{})]})})]})]}),S.jsxs("div",{className:"space-y-4",children:[S.jsx("h3",{className:"text-lg font-semibold border-b pb-2",children:"Undergraduate Education"}),S.jsx(an,{control:i.control,name:"ugSchool",render:({field:a})=>S.jsxs(tn,{children:[S.jsx(nn,{children:"UG Institution"}),S.jsx(rn,{children:S.jsx(Kt,{placeholder:"University or College name",...a})}),S.jsx(sn,{})]})}),S.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[S.jsx(an,{control:i.control,name:"ugDegree",render:({field:a})=>S.jsxs(tn,{children:[S.jsx(nn,{children:"UG Degree"}),S.jsx(rn,{children:S.jsx(Kt,{placeholder:"B.Tech, B.Sc, Diploma, etc.",...a})}),S.jsx(sn,{})]})}),S.jsx(an,{control:i.control,name:"ugYearCompleted",render:({field:a})=>S.jsxs(tn,{children:[S.jsx(nn,{children:"UG Year Completed"}),S.jsx(rn,{children:S.jsx(Kt,{placeholder:"2024",...a})}),S.jsx(sn,{})]})})]})]}),S.jsxs("div",{className:"space-y-4",children:[S.jsx("h3",{className:"text-lg font-semibold border-b pb-2",children:"Postgraduate Education (Optional)"}),S.jsx(an,{control:i.control,name:"pgSchool",render:({field:a})=>S.jsxs(tn,{children:[S.jsx(nn,{children:"PG Institution"}),S.jsx(rn,{children:S.jsx(Kt,{placeholder:"University or College name (Optional)",...a})}),S.jsx(sn,{})]})}),S.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[S.jsx(an,{control:i.control,name:"pgDegree",render:({field:a})=>S.jsxs(tn,{children:[S.jsx(nn,{children:"PG Degree"}),S.jsx(rn,{children:S.jsx(Kt,{placeholder:"M.Tech, MBA, M.Sc, etc. (Optional)",...a})}),S.jsx(sn,{})]})}),S.jsx(an,{control:i.control,name:"pgYearCompleted",render:({field:a})=>S.jsxs(tn,{children:[S.jsx(nn,{children:"PG Year Completed"}),S.jsx(rn,{children:S.jsx(Kt,{placeholder:"2026 (Optional)",...a})}),S.jsx(sn,{})]})})]})]}),S.jsxs("div",{className:"space-y-4",children:[S.jsx("h3",{className:"text-lg font-semibold border-b pb-2",children:"Skills & Qualifications"}),S.jsx(an,{control:i.control,name:"skills",render:({field:a})=>S.jsxs(tn,{children:[S.jsx(nn,{children:"Skills & Qualifications"}),S.jsx(rn,{children:S.jsx(su,{placeholder:"List your skills, certifications, programming languages, tools, etc.",className:"min-h-[100px]",...a})}),S.jsx(sn,{})]})})]}),S.jsxs("div",{className:"space-y-4",children:[S.jsx("h3",{className:"text-lg font-semibold border-b pb-2",children:"Reference (Optional)"}),S.jsx(an,{control:i.control,name:"referenceName",render:({field:a})=>S.jsxs(tn,{children:[S.jsx(nn,{children:"Reference Name"}),S.jsx(rn,{children:S.jsx(Kt,{placeholder:"Professor, mentor, or professional contact",...a})}),S.jsx(sn,{})]})}),S.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[S.jsx(an,{control:i.control,name:"referenceRelationship",render:({field:a})=>S.jsxs(tn,{children:[S.jsx(nn,{children:"Relationship"}),S.jsx(rn,{children:S.jsx(Kt,{placeholder:"Professor, Mentor, etc.",...a})}),S.jsx(sn,{})]})}),S.jsx(an,{control:i.control,name:"referencePhone",render:({field:a})=>S.jsxs(tn,{children:[S.jsx(nn,{children:"Reference Phone"}),S.jsx(rn,{children:S.jsx(Kt,{placeholder:"+1 (555) 123-4567",...a})}),S.jsx(sn,{})]})})]})]}),S.jsxs("div",{className:"pt-6 border-t",children:[S.jsx("p",{className:"text-sm text-muted-foreground mb-4 text-center",children:"This form is intended for applicants with no prior work experience."}),S.jsx(bs,{type:"submit",className:"w-full",disabled:n,children:n?"Submitting Application...":"Submit Application"})]})]})})]})})},Nhe=gP({position:Rt().min(1,"Position is required"),fullName:Rt().min(2,"Full name must be at least 2 characters"),address:Rt().min(5,"Please enter your complete address"),phone:Rt().regex(/^\+?[\d\s-()]+$/,"Please enter a valid phone number"),email:Rt().min(1,"Email is required").regex(/^[^\s@]+@[^\s@]+$/,"Please enter a valid email address"),undergradInstitution:Rt().min(1,"Undergraduate school is required"),undergradDegree:Rt().min(1,"Undergraduate degree is required"),undergradYear:Rt().min(4,"Enter valid year"),postgradInstitution:Rt().optional(),postgradDegree:Rt().optional(),postgradYear:Rt().optional(),company:Rt().min(1,"Company name is required"),employmentPosition:Rt().min(1,"Position is required"),startDate:Rt().min(1,"Start date is required"),endDate:Rt().min(1,"End date is required"),responsibilities:Rt().min(10,"Please describe your key responsibilities"),skills:Rt().min(10,"Please describe your skills and qualifications"),referenceName:Rt().optional(),referenceRelationship:Rt().optional(),referencePhone:Rt().optional()}),Lhe=({open:t,onOpenChange:e})=>{const[n,r]=P.useState(!1),i=hP({resolver:pP(Nhe),defaultValues:{position:"",fullName:"",address:"",phone:"",email:"",undergradInstitution:"",undergradDegree:"",undergradYear:"",postgradInstitution:"",postgradDegree:"",postgradYear:"",company:"",employmentPosition:"",startDate:"",endDate:"",responsibilities:"",skills:"",referenceName:"",referenceRelationship:"",referencePhone:""}}),s=vP("experienced"),o=async a=>{r(!0);try{const l={"Application Type":"Experienced Professional",Position:a.position,"Full Name":a.fullName,Address:a.address,Phone:a.phone,Email:a.email,"Undergraduate School":a.undergradInstitution,"Undergraduate Degree":a.undergradDegree,"Undergraduate Year":a.undergradYear,"Postgraduate School":a.postgradInstitution||"","Postgraduate Degree":a.postgradDegree||"","Postgraduate Year":a.postgradYear||"",Company:a.company,"Employment Position":a.employmentPosition,"Start Date":a.startDate,"End Date":a.endDate,Responsibilities:a.responsibilities,Skills:a.skills,"Reference Name":a.referenceName||"","Reference Relationship":a.referenceRelationship||"","Reference Phone":a.referencePhone||""},c=await mC(l,s),d={position_applied:a.position,full_name:a.fullName,address:a.address,phone_number:a.phone,email_address:a.email,ug_institution:a.undergradInstitution,ug_degree:a.undergradDegree,ug_year:a.undergradYear,pg_institution:a.postgradInstitution||"N/A",pg_degree:a.postgradDegree||"N/A",pg_year:a.postgradYear||"N/A",company_name:a.company,position_held:a.employmentPosition,start_date:a.startDate,end_date:a.endDate,key_responsibilities:a.responsibilities,skills_and_qualifications:a.skills,reference_name:a.referenceName||"N/A",reference_relationship:a.referenceRelationship||"N/A",reference_phone:a.referencePhone||"N/A",submission_date:new Date().toLocaleDateString()},h=await oH(d,"experienced");c.success&&h.success?(_l.success("Your application has been submitted successfully!"),i.reset(),e(!1)):c.success?(_l.success("Application submitted to database, but email notification failed."),i.reset(),e(!1)):_l.error("Failed to submit application. Please try again.")}catch(l){console.error("Error submitting application:",l),_l.error("Failed to submit application. Please try again.")}finally{r(!1)}};return S.jsx(TH,{open:t,onOpenChange:e,children:S.jsxs(MP,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[S.jsxs(EP,{children:[S.jsx(TP,{className:"text-2xl font-bold text-center",children:"Experienced Professional Application"}),S.jsx("p",{className:"text-muted-foreground text-center",children:"Take your career to the next level with us. Please provide your professional details."})]}),S.jsx(IH,{...i,children:S.jsxs("form",{onSubmit:i.handleSubmit(o),className:"space-y-6",children:[S.jsx(an,{control:i.control,name:"position",render:({field:a})=>S.jsxs(tn,{children:[S.jsx(nn,{children:"Position Applied For"}),S.jsx(rn,{children:S.jsx(Kt,{placeholder:"e.g. Senior Developer, Tech Lead",...a})}),S.jsx(sn,{})]})}),S.jsxs("div",{className:"space-y-4",children:[S.jsx("h3",{className:"text-lg font-semibold border-b pb-2",children:"Personal Information"}),S.jsx(an,{control:i.control,name:"fullName",render:({field:a})=>S.jsxs(tn,{children:[S.jsx(nn,{children:"Full Name"}),S.jsx(rn,{children:S.jsx(Kt,{placeholder:"Enter your full name",...a})}),S.jsx(sn,{})]})}),S.jsx(an,{control:i.control,name:"address",render:({field:a})=>S.jsxs(tn,{children:[S.jsx(nn,{children:"Address"}),S.jsx(rn,{children:S.jsx(su,{placeholder:"Enter your complete address",...a})}),S.jsx(sn,{})]})}),S.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[S.jsx(an,{control:i.control,name:"phone",render:({field:a})=>S.jsxs(tn,{children:[S.jsx(nn,{children:"Phone Number"}),S.jsx(rn,{children:S.jsx(Kt,{placeholder:"+1 (555) 123-4567",...a})}),S.jsx(sn,{})]})}),S.jsx(an,{control:i.control,name:"email",render:({field:a})=>S.jsxs(tn,{children:[S.jsx(nn,{children:"Email Address"}),S.jsx(rn,{children:S.jsx(Kt,{type:"email",placeholder:"your.email@example.com",...a})}),S.jsx(sn,{})]})})]})]}),S.jsxs("div",{className:"space-y-6",children:[S.jsx("h3",{className:"text-lg font-semibold border-b pb-2",children:"Education"}),S.jsxs("div",{className:"space-y-4",children:[S.jsx("h4",{className:"font-medium",children:"Undergraduate"}),S.jsx(an,{control:i.control,name:"undergradInstitution",render:({field:a})=>S.jsxs(tn,{children:[S.jsx(nn,{children:"Undergraduate Institution"}),S.jsx(rn,{children:S.jsx(Kt,{placeholder:"University or College name",...a})}),S.jsx(sn,{})]})}),S.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[S.jsx(an,{control:i.control,name:"undergradDegree",render:({field:a})=>S.jsxs(tn,{children:[S.jsx(nn,{children:"Degree"}),S.jsx(rn,{children:S.jsx(Kt,{placeholder:"B.Tech, B.Sc, etc.",...a})}),S.jsx(sn,{})]})}),S.jsx(an,{control:i.control,name:"undergradYear",render:({field:a})=>S.jsxs(tn,{children:[S.jsx(nn,{children:"Year Completed"}),S.jsx(rn,{children:S.jsx(Kt,{placeholder:"2020",...a})}),S.jsx(sn,{})]})})]})]}),S.jsxs("div",{className:"space-y-4",children:[S.jsx("h4",{className:"font-medium",children:"Postgraduate (Optional)"}),S.jsx(an,{control:i.control,name:"postgradInstitution",render:({field:a})=>S.jsxs(tn,{children:[S.jsx(nn,{children:"Postgraduate Institution"}),S.jsx(rn,{children:S.jsx(Kt,{placeholder:"University or College name",...a})}),S.jsx(sn,{})]})}),S.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[S.jsx(an,{control:i.control,name:"postgradDegree",render:({field:a})=>S.jsxs(tn,{children:[S.jsx(nn,{children:"Degree"}),S.jsx(rn,{children:S.jsx(Kt,{placeholder:"M.Tech, MBA, MSc, etc.",...a})}),S.jsx(sn,{})]})}),S.jsx(an,{control:i.control,name:"postgradYear",render:({field:a})=>S.jsxs(tn,{children:[S.jsx(nn,{children:"Year Completed"}),S.jsx(rn,{children:S.jsx(Kt,{placeholder:"2022",...a})}),S.jsx(sn,{})]})})]})]})]}),S.jsxs("div",{className:"space-y-4",children:[S.jsx("h3",{className:"text-lg font-semibold border-b pb-2",children:"Recent Employment"}),S.jsxs("div",{className:"border rounded-lg p-4 space-y-4",children:[S.jsx(an,{control:i.control,name:"company",render:({field:a})=>S.jsxs(tn,{children:[S.jsx(nn,{children:"Company Name"}),S.jsx(rn,{children:S.jsx(Kt,{placeholder:"Company name",...a})}),S.jsx(sn,{})]})}),S.jsx(an,{control:i.control,name:"employmentPosition",render:({field:a})=>S.jsxs(tn,{children:[S.jsx(nn,{children:"Position Held"}),S.jsx(rn,{children:S.jsx(Kt,{placeholder:"Your position/title",...a})}),S.jsx(sn,{})]})}),S.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[S.jsx(an,{control:i.control,name:"startDate",render:({field:a})=>S.jsxs(tn,{children:[S.jsx(nn,{children:"Start Date"}),S.jsx(rn,{children:S.jsx(Kt,{placeholder:"MM/YYYY",...a})}),S.jsx(sn,{})]})}),S.jsx(an,{control:i.control,name:"endDate",render:({field:a})=>S.jsxs(tn,{children:[S.jsx(nn,{children:"End Date"}),S.jsx(rn,{children:S.jsx(Kt,{placeholder:"MM/YYYY or Present",...a})}),S.jsx(sn,{})]})})]}),S.jsx(an,{control:i.control,name:"responsibilities",render:({field:a})=>S.jsxs(tn,{children:[S.jsx(nn,{children:"Key Responsibilities"}),S.jsx(rn,{children:S.jsx(su,{placeholder:"Describe responsibilities",...a})}),S.jsx(sn,{})]})})]})]}),S.jsxs("div",{className:"space-y-4",children:[S.jsx("h3",{className:"text-lg font-semibold border-b pb-2",children:"Skills & Qualifications"}),S.jsx(an,{control:i.control,name:"skills",render:({field:a})=>S.jsxs(tn,{children:[S.jsx(nn,{children:"Skills & Qualifications"}),S.jsx(rn,{children:S.jsx(su,{placeholder:"List your skills, certifications, leadership experience, etc.",className:"min-h-[100px]",...a})}),S.jsx(sn,{})]})})]}),S.jsxs("div",{className:"space-y-4",children:[S.jsx("h3",{className:"text-lg font-semibold border-b pb-2",children:"Reference (Optional)"}),S.jsx(an,{control:i.control,name:"referenceName",render:({field:a})=>S.jsxs(tn,{children:[S.jsx(nn,{children:"Reference Name"}),S.jsx(rn,{children:S.jsx(Kt,{placeholder:"Former manager, colleague, etc.",...a})}),S.jsx(sn,{})]})}),S.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[S.jsx(an,{control:i.control,name:"referenceRelationship",render:({field:a})=>S.jsxs(tn,{children:[S.jsx(nn,{children:"Relationship"}),S.jsx(rn,{children:S.jsx(Kt,{placeholder:"Manager, Colleague, etc.",...a})}),S.jsx(sn,{})]})}),S.jsx(an,{control:i.control,name:"referencePhone",render:({field:a})=>S.jsxs(tn,{children:[S.jsx(nn,{children:"Reference Phone"}),S.jsx(rn,{children:S.jsx(Kt,{placeholder:"+1 (555) 123-4567",...a})}),S.jsx(sn,{})]})})]})]}),S.jsxs("div",{className:"pt-6 border-t",children:[S.jsx("p",{className:"text-sm text-muted-foreground mb-4 text-center",children:"This form is intended for applicants with prior work experience."}),S.jsx(bs,{type:"submit",className:"w-full",disabled:n,children:n?"Submitting Application...":"Submit Application"})]})]})})]})})},Dhe=()=>{const[t,e]=P.useState(!1),[n,r]=P.useState(!1);return S.jsxs("div",{className:"min-h-screen min-h-[100dvh] bg-fixed bg-cover bg-center bg-no-repeat relative mt-16",style:{backgroundImage:"url('https://images.unsplash.com/photo-1542323228-002ac256e7b8?q=80&w=1170&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"},children:[S.jsx("div",{className:"absolute inset-0 bg-black/50"}),S.jsxs("div",{className:"relative z-10 min-h-screen pt-20",children:[S.jsx("section",{className:"py-16",children:S.jsx("div",{className:"container mx-auto px-4",children:S.jsxs($e.div,{initial:{opacity:0,y:40},animate:{opacity:1,y:0},transition:{duration:.8},className:"text-center mb-16",children:[S.jsx("h1",{className:"text-5xl md:text-7xl font-bold text-orange-500 mb-6",children:"Careers"}),S.jsx("p",{className:"text-xl md:text-2xl mb-8 text-white max-w-3xl mx-auto",children:"Innovate, Build, and Transform with Us"}),S.jsx("p",{className:"text-lg max-w-4xl mx-auto text-white",children:"At Virach IT & Software Solutions, we are not just building technology, we are shaping the future. If you're passionate about innovation and growth, Virach is the place for you."})]})})}),S.jsx("section",{className:"py-16",children:S.jsx("div",{className:"container mx-auto px-4",children:S.jsx(bf,{className:"max-w-7xl mx-auto",children:S.jsx(pi,{size:"2x1",className:"p-8",children:S.jsxs($e.div,{initial:{opacity:0,x:-30},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.6},children:[S.jsx("h2",{className:"text-3xl font-bold mb-6 text-center text-midnight",children:"Working with Virach"}),S.jsx("p",{className:"text-lg text-primary mb-8 text-center",children:"At Virach, we believe people are our greatest strength. We encourage creativity, collaboration, and continuous learning to help every individual reach their full potential."}),S.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[S.jsxs("div",{className:"flex items-start space-x-4",children:[S.jsx("div",{className:"bg-primary/10 p-3 rounded-full",children:S.jsx(tU,{className:"h-6 w-6 text-midnight"})}),S.jsxs("div",{children:[S.jsx("h3",{className:"font-semibold mb-2 text-midnight",children:"Innovation-Driven Culture"}),S.jsx("p",{className:"text-muted-foreground text-primary",children:"Be part of a workplace that thrives on fresh ideas and forward-thinking solutions."})]})]}),S.jsxs("div",{className:"flex items-start space-x-4",children:[S.jsx("div",{className:"bg-primary/10 p-3 rounded-full",children:S.jsx(Yp,{className:"h-6 w-6 text-midnight"})}),S.jsxs("div",{children:[S.jsx("h3",{className:"font-semibold mb-2 text-midnight",children:"Team Collaboration"}),S.jsx("p",{className:"text-muted-foreground text-primary",children:"Work alongside a supportive and talented team that values mutual growth."})]})]}),S.jsxs("div",{className:"flex items-start space-x-4",children:[S.jsx("div",{className:"bg-primary/10 p-3 rounded-full",children:S.jsx($G,{className:"h-6 w-6 text-midnight"})}),S.jsxs("div",{children:[S.jsx("h3",{className:"font-semibold mb-2 text-midnight",children:"Continuous Learning"}),S.jsx("p",{className:"text-muted-foreground text-primary",children:"Access opportunities for skill development, mentorship, and career advancement."})]})]}),S.jsxs("div",{className:"flex items-start space-x-4",children:[S.jsx("div",{className:"bg-primary/10 p-3 rounded-full",children:S.jsx(XG,{className:"h-6 w-6 text-midnight"})}),S.jsxs("div",{children:[S.jsx("h3",{className:"font-semibold mb-2 text-midnight",children:"Impactful Projects"}),S.jsx("p",{className:"text-muted-foreground text-primary",children:"Contribute to meaningful projects that create real-world value."})]})]}),S.jsxs("div",{className:"flex items-start space-x-4",children:[S.jsx("div",{className:"bg-primary/10 p-3 rounded-full",children:S.jsx(r9,{className:"h-6 w-6 text-midnight"})}),S.jsxs("div",{children:[S.jsx("h3",{className:"font-semibold mb-2 text-midnight",children:"Flexibility & Inclusion"}),S.jsx("p",{className:"text-muted-foreground text-primary",children:"Experience a modern workplace that embraces diversity and supports work-life balance."})]})]}),S.jsxs("div",{className:"flex items-start space-x-4",children:[S.jsx("div",{className:"bg-primary/10 p-3 rounded-full",children:S.jsx(_I,{className:"h-6 w-6 text-midnight"})}),S.jsxs("div",{children:[S.jsx("h3",{className:"font-semibold mb-2 text-midnight",children:"Career Growth"}),S.jsx("p",{className:"text-muted-foreground text-primary",children:"Build your future with long-term opportunities and structured growth paths."})]})]}),S.jsxs("div",{className:"flex items-start space-x-4",children:[S.jsx("div",{className:"bg-primary/10 p-3 rounded-full",children:S.jsx(u9,{className:"h-6 w-6 text-midnight"})}),S.jsxs("div",{children:[S.jsx("h3",{className:"font-semibold mb-2 text-midnight",children:"Ownership & Responsibility"}),S.jsx("p",{className:"text-muted-foreground text-primary",children:"Take charge of your ideas and make meaningful contributions."})]})]}),S.jsxs("div",{className:"flex items-start space-x-4",children:[S.jsx("div",{className:"bg-primary/10 p-3 rounded-full",children:S.jsx(d9,{className:"h-6 w-6 text-midnight"})}),S.jsxs("div",{children:[S.jsx("h3",{className:"font-semibold mb-2 text-midnight",children:"Positive Environment"}),S.jsx("p",{className:"text-muted-foreground text-primary",children:"Celebrate successes and thrive in a motivating, people-first culture."})]})]})]})]})})})})}),S.jsx("section",{className:"py-16",children:S.jsx("div",{className:"container mx-auto px-4",children:S.jsx(bf,{className:"max-w-7xl mx-auto",children:S.jsxs(pi,{size:"2x1",className:"p-8",children:[S.jsxs($e.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"text-center mb-12",children:[S.jsx("h2",{className:"text-3xl font-bold mb-6 text-midnight",children:"Apply Now"}),S.jsx("p",{className:"text-lg text-primary max-w-3xl mx-auto mb-8",children:"We are always excited to welcome fresh talent and experienced professionals to our team."})]}),S.jsxs("div",{className:"max-w-4xl mx-auto grid md:grid-cols-2 gap-8",children:[S.jsx($e.div,{initial:{opacity:0,x:-30},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.6,delay:.1},children:S.jsx(pi,{className:"p-6 h-full",children:S.jsxs("div",{className:"text-center",children:[S.jsx("div",{className:"bg-primary/10 p-4 rounded-full w-16 h-16 mx-auto mb-4 flex items-center justify-center",children:S.jsx(Yp,{className:"h-8 w-8 text-midnight"})}),S.jsx("h3",{className:"text-xl font-semibold mb-4 text-midnight",children:"Career Starters"}),S.jsx("p",{className:"text-primary mb-6",children:"Perfect for fresh graduates and those beginning their professional journey in tech."}),S.jsx(bs,{onClick:()=>e(!0),className:"w-full bg-orange-500 hover:bg-orange-600 text-white",children:"Apply as Fresher"})]})})}),S.jsx($e.div,{initial:{opacity:0,x:30},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.6,delay:.2},children:S.jsx(pi,{className:"p-6 h-full",children:S.jsxs("div",{className:"text-center",children:[S.jsx("div",{className:"bg-primary/10 p-4 rounded-full w-16 h-16 mx-auto mb-4 flex items-center justify-center",children:S.jsx(_I,{className:"h-8 w-8 text-midnight"})}),S.jsx("h3",{className:"text-xl font-semibold mb-4 text-midnight",children:"Career Growth"}),S.jsx("p",{className:"text-primary mb-6",children:"For experienced professionals looking to advance their career and take on new challenges."}),S.jsx(bs,{onClick:()=>r(!0),className:"w-full bg-orange-500 hover:bg-orange-600 text-white",children:"Apply as Experienced"})]})})})]}),S.jsx("p",{className:"text-lg text-primary max-w-3xl mx-auto mt-8",children:"Whether you're starting your career or looking for your next big challenge, Virach offers an environment where you can learn, grow, and make an impact."})]})})})}),S.jsx(Ihe,{open:t,onOpenChange:e}),S.jsx(Lhe,{open:n,onOpenChange:r}),S.jsx(lg,{})]})]})},khe=()=>{const t=Mu();return P.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),S.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:S.jsxs("div",{className:"text-center",children:[S.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),S.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),S.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})},Ohe=new b$,Fhe=()=>(P.useEffect(()=>{document.documentElement.className="light"},[]),S.jsx(E$,{client:Ohe,children:S.jsxs(e$,{children:[S.jsx(K9,{}),S.jsx(T7,{}),S.jsx(wY,{children:S.jsxs("div",{className:"flex flex-col min-h-screen bg-background text-foreground overflow-x-hidden",children:[S.jsx(oJ,{}),S.jsx("main",{className:"flex-grow",children:S.jsx(iz,{mode:"wait",children:S.jsxs(hY,{children:[S.jsx(Rc,{path:"/",element:S.jsx(Lue,{})}),S.jsx(Rc,{path:"/about",element:S.jsx(Fue,{})}),S.jsx(Rc,{path:"/solutions",element:S.jsx(Bue,{})}),S.jsx(Rc,{path:"/contact",element:S.jsx(fhe,{})}),S.jsx(Rc,{path:"/careers",element:S.jsx(Dhe,{})}),S.jsx(Rc,{path:"*",element:S.jsx(khe,{})})]})})})]})})]})}));bF(document.getElementById("root")).render(S.jsx(Fhe,{}));
